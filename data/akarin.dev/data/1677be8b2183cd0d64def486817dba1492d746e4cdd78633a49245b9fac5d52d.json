{
  "Source": "akarin.dev",
  "Title": "换上了自己写的新主题！(つ•̀ω•́)つ",
  "Link": "https://akarin.dev/2020/08/29/migrate-to-new-theme/",
  "Content": "\u003carticle class=\"mdui-p-a-3 mdui-card-content mdui-typo\"\u003e\u003cp\u003e之前网站的主题是 \u003ca href=\"https://github.com/bolnh/hexo-theme-material\" target=\"_blank\" rel=\"noopener\"\u003ehexo-theme-material\u003c/a\u003e。这个主题的质量还是很高的，今天仍然有不少用户在它的 \u003ca href=\"https://github.com/bolnh/hexo-theme-material/issues\" target=\"_blank\" rel=\"noopener\"\u003eIssue\u003c/a\u003e 里询问使用问题，但是它的最后一次 Commit 和 Release 停留在了 2018 年 8 月，之后就再也没有任何动静了……主题的文档\u003ca href=\"https://github.com/bolnh/hexo-theme-material/issues/698\" target=\"_blank\" rel=\"noopener\"\u003e挂了\u003c/a\u003e，原作者自己的\u003ca href=\"https://blog.viosey.com/\" target=\"_blank\" rel=\"noopener\"\u003e博客兼 Demo\u003c/a\u003e 也挂了，似乎的确已经是\u003ca href=\"https://liyin.date/2020/07/25/new-theme-new-start\" target=\"_blank\" rel=\"noopener\"\u003e弃坑\u003c/a\u003e了。\u003c/p\u003e\u003cp\u003e几个月前就有了“换一个主题”的想法，不过又不能抛弃自己喜欢的 Material Design 样式所以就想着自己写一个，然后整个暑假又被某个项目耗光了时间就一直咕咕咕到现在(っ’-‘)╮ 现在我被关在学校里又没什么事干，于是只用了几天时间就自己摸索着把主题给做出来了\u003cdel\u003e摸鱼是第一生产力\u003c/del\u003e，勉强能看～当然样式还是有不少地方\u003cruby\u003e借\u003crt\u003echāo\u003c/rt\u003e鉴\u003crt\u003exí\u003c/rt\u003e\u003c/ruby\u003e了原来的主题的，所以看上去和换主题之前好像没有什么区别 (　ε:)\u003c/p\u003e\u003cp\u003e顺便吐槽一下，Hexo 的文档的评论区里有一堆好几年前的评论吐槽文档质量极差，我看了以后的感觉就是想自己做主题的话只看官方文档很难上手，简单来说就是告诉你：“新建某某文件，在文件里写上一些 HTML 代码，主题就可以使用啦！”至于如何获取各种数据以及类型定义等等，几乎是一字未提，有时候还得用 \u003ccode\u003econsole.log\u003c/code\u003e 自己看。\u003c/p\u003e\u003cp\u003eGitHub 上有人做了个类似于 Vue CLI 的\u003ca href=\"https://github.com/tcrowe/generator-hexo-theme\" target=\"_blank\" rel=\"noopener\"\u003e工具\u003c/a\u003e，选择模板引擎和文章渲染器之后，就可以自动新建一个主题项目的基本结构，当然我是不想再 \u003ccode\u003enpm install -g\u003c/code\u003e 往自己的电脑上装一堆东西了，所以直接把它的\u003ca href=\"https://github.com/tcrowe/generator-hexo-theme/tree/master/app/templates/layout-ejs\" target=\"_blank\" rel=\"noopener\"\u003e页面模板\u003c/a\u003e拿下来就开始改了～EJS 模板还是很容易掌握的，只需要记住 \u003ccode\u003e\u0026lt;% %\u0026gt;\u003c/code\u003e 表示 JS 代码、\u003ccode\u003e\u0026lt;%= %\u0026gt;\u003c/code\u003e 表示转义输出、\u003ccode\u003e\u0026lt;%- %\u0026gt;\u003c/code\u003e 表示不转义输出，大部分情况下这三个标签已经够用了。\u003c/p\u003e\u003cp\u003e因为是自己做给自己用的主题，所以很多地方都很随便啦……这个新主题的一些特性：\u003c/p\u003e\u003cul\u003e\u003cli\u003e包含我之前魔改主题时添加的所有功能，例如图片懒加载、代码复制、图片放大（使用 \u003ca href=\"https://github.com/francoischalifour/medium-zoom\" target=\"_blank\" rel=\"noopener\"\u003emedium-zoom\u003c/a\u003e）等等。\u003c/li\u003e\u003cli\u003e图片懒加载支持 WebP 格式自适应（浏览器不支持时会自动回退到传统格式），甚至还可以使用 Firefox 和 Chrome 正在\u003ca href=\"https://caniuse.com/#feat=avif\" target=\"_blank\" rel=\"noopener\"\u003e逐渐开始支持\u003c/a\u003e的 AVIF 格式，比如这一篇的封面图就有个 \u003ca href=\"https://vfile.meituan.net/mmdb/a6233008620ff984a8330189be974aa150893.jpg\" target=\"_blank\" rel=\"noopener\"\u003eAVIF 格式的版本\u003c/a\u003e。\u003c/li\u003e\u003cli\u003e支持深色模式（\u003ca href=\"https://github.com/zdhxiong/mdui\" target=\"_blank\" rel=\"noopener\"\u003eMDUI\u003c/a\u003e 内置功能）。\u003c/li\u003e\u003cli\u003e和之前一样继续使用 \u003ca href=\"https://livere.com/\" target=\"_blank\" rel=\"noopener\"\u003eLiveRe\u003c/a\u003e 和\u003ca href=\"https://busuanzi.ibruce.info/\" target=\"_blank\" rel=\"noopener\"\u003e不蒜子\u003c/a\u003e分别提供评论区和访问计数功能。至于其他评论区和计数……因为我没有用过所以就没有适配了。\u003c/li\u003e\u003cli\u003e不使用 jQuery。但是 LiveRe 仍然会单独加载一个 jQuery，这就不是我能控制的了 ɿ(｡･ɜ･)ɾ\u003c/li\u003e\u003cli\u003e不支持 Internet Explorer，因为我使用了一些 ES6 以上的语法和特性编写 JS 代码而我又懒得用 Babel 转换再添加一大堆 Polyfill。如果用 IE 访问的话会直接跳转到\u003ca href=\"https://akarin.dev/upgrade-browser.html\"\u003e这里\u003c/a\u003e。\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e主题的源代码我上传到 \u003ca href=\"https://github.com/TransparentLC/hexo-theme-akarin\" target=\"_blank\" rel=\"noopener\"\u003eGitHub\u003c/a\u003e 了，但是除了我自己以外应该不会有第二个人用了吧……|ω•`) 不过 README 和设置文档我也还没写，以后心情好的时候（比如哪天不用被关在学校里了）再补充～（咕咕咕）\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e封面图：\u003ca href=\"https://www.pixiv.net/artworks/61882373\" target=\"_blank\" rel=\"noopener\"\u003ePixiv ID: 61882373 「モカ姉誕生日おめでとうございます。」 by チノマロン\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote class=\"mdui-m-b-0 mdui-m-x-0 mdui-p-y-1\" style=\"border-left:4px solid rgba(0,0,0,.36)\"\u003e\u003cstrong\u003e本作品采用\u003ca href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" target=\"_blank\"\u003e知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议\u003c/a\u003e进行许可。不允许内容农场类网站、CSDN 用户和微信公众号转载。\u003c/strong\u003e\u003cbr/\u003e\u003cstrong\u003e本文作者：✨小透明・宸✨\u003c/strong\u003e\u003cbr/\u003e\u003cstrong\u003e本文链接：\u003ca href=\"https://akarin.dev/2020/08/29/migrate-to-new-theme/\"\u003ehttps://akarin.dev/2020/08/29/migrate-to-new-theme/\u003c/a\u003e\u003c/strong\u003e\u003c/blockquote\u003e\u003c/article\u003e",
  "Date": "2020-08-29T05:33:28Z",
  "Author": "✨小透明・宸✨"
}