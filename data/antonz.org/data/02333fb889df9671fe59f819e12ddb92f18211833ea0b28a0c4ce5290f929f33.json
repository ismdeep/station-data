{
  "Source": "antonz.org",
  "Title": "Regular expressions in SQLite",
  "Link": "https://antonz.org/sqlean-regexp/",
  "Content": "\u003carticle class=\"post\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12 col-md-10 article\"\u003e\u003cheader\u003e\u003ch1\u003eRegular expressions in SQLite\u003c/h1\u003e\u003c/header\u003e\u003cp\u003eRegular expressions are probably the most powerful text processing tool without programming.\u003c/p\u003e\u003cp\u003eSQLite does not support regular expressions by default. However, you can easily enable them using the \u003ccode\u003esqlean-regexp\u003c/code\u003e extension.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e. Unlike other DBMS, adding extensions to SQLite is a breeze. Download a file, run one database command — and you are good to go.\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003eWith \u003ccode\u003esqlean-regexp\u003c/code\u003e, matching a string against a pattern becomes as easy as:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- count messages containing digits\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003ecount\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emessages\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003ewhere\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emsg_text\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\\d+\u0026#39;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 42\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"pattern-matching-and-text-replacement\"\u003ePattern matching and text replacement\u003c/h2\u003e\u003cp\u003eThere are three main tasks people usually solve using regular expressions:\u003c/p\u003e\u003col\u003e\u003cli\u003eMatch a string against the pattern.\u003c/li\u003e\u003cli\u003eExtract a part of the string that matches the pattern.\u003c/li\u003e\u003cli\u003eReplace all parts of the string that match the pattern.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003e\u003ccode\u003esqlean-regexp\u003c/code\u003e provides a separate function for each of these tasks.\u003c/p\u003e\u003ch3 id=\"regexp_likesource-pattern\"\u003e\u003ccode\u003eregexp_like(source, pattern)\u003c/code\u003e\u003c/h3\u003e\u003cp\u003eChecks if the source string matches the pattern.\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_like\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;Meet me at 10:30\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\\d+:\\d+\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_like\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;Meet me at the cinema\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\\d+:\\d+\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 0\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"regexp_substrsource-pattern\"\u003e\u003ccode\u003eregexp_substr(source, pattern)\u003c/code\u003e\u003c/h3\u003e\u003cp\u003eReturns a substring of the source string that matches the pattern.\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;Meet me at 10:30\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\\d+:\\d+\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 10:30\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;Meet me at 17:05\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\\d+:\\d+\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 17:05\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"regexp_replacesource-pattern-replacement\"\u003e\u003ccode\u003eregexp_replace(source, pattern, replacement)\u003c/code\u003e\u003c/h3\u003e\u003cp\u003eReplaces all matching substrings with the replacement string.\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_replace\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;password = \u0026#34;123456\u0026#34;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;\u0026#34;[^\u0026#34;]+\u0026#34;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;***\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- password = ***\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_replace\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;1 2 3 4\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;[2468]\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;even\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 1 even 3 even\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"pattern-syntax\"\u003ePattern syntax\u003c/h2\u003e\u003cp\u003e\u003ccode\u003esqlean-regexp\u003c/code\u003e supports pretty advanced syntax, including various groups, lazy quantifiers, and look-arounds:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;the year is 2020\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;(\\d{2})\\1\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 2020\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;the year is 2021\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;(\\d{2})\\1\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- (null)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;1 2 3 2 4 5\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;.*2\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 1 2 3 2\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;1 2 3 2 4 5\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;.*?2\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- 1 2\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;new year\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;(\\w+)\\s(?=year)\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- new\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eregexp_substr\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#39;last year\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#39;(\\w+)\\s(?=year)\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e-- last\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"installation-and-usage\"\u003eInstallation and Usage\u003c/h2\u003e\u003col\u003e\u003cli\u003e\u003cp\u003eDownload the \u003ca href=\"https://github.com/nalgeon/sqlean/releases/latest\"\u003elatest release\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eUse with SQLite command-line interface:\u003c/p\u003e\u003c/li\u003e\u003c/ol\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esqlite\u0026gt; .load ./regexp\nsqlite\u0026gt; select regexp_like(\u0026#39;abcdef\u0026#39;, \u0026#39;b.d\u0026#39;);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSee \u003ca href=\"https://github.com/nalgeon/sqlean/blob/main/docs/install.md\"\u003eHow to Install an Extension\u003c/a\u003e for usage with IDE, Python, etc.\u003c/p\u003e\u003cp\u003eSee \u003ca href=\"https://github.com/nalgeon/sqlean/blob/main/docs/regexp.md\"\u003eExtension Documentation\u003c/a\u003e for reference.\u003c/p\u003e\u003cp\u003e\u003cem\u003e\u003ca href=\"/subscribe/\"\u003e\u003ci class=\"fas fa-star\"\u003e\u003c/i\u003e \u003cstrong\u003eSubscribe\u003c/strong\u003e\u003c/a\u003e\nto keep up with new posts.\u003c/em\u003e\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cfooter class=\"post__footer\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12\"\u003e\u003cdiv class=\"post__date\"\u003e\u003ctime datetime=\"2023-02-04 11:20:00 +0000 UTC\"\u003e04 Feb, 2023\u003c/time\u003e\u003c/div\u003e\u003cdiv class=\"post__tags\"\u003e\u003ca href=\"/tags/sqlite/\"\u003esqlite\u003c/a\u003e \u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/footer\u003e\u003c/article\u003e",
  "Date": "2023-02-04T11:20:00Z",
  "Author": "Anton Zhiyanov"
}