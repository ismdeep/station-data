{
  "Source": "antonz.org",
  "Title": "Go 1.23: Interactive release notes",
  "Link": "https://antonz.org/go-1-23/",
  "Content": "\u003carticle class=\"post\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12 col-md-10 article\"\u003e\u003cheader\u003e\u003ch1\u003eGo 1.23: Interactive release notes\u003c/h1\u003e\u003c/header\u003e\u003cp\u003eGo 1.23 is out, so it\u0026#39;s a good time to explore what\u0026#39;s new. The official \u003ca href=\"https://tip.golang.org/doc/go1.23\"\u003erelease¬†notes\u003c/a\u003e are pretty dry, so I prepared an interactive version with lots of examples showing what has changed and what the new behavior is.\u003c/p\u003e\u003cp\u003eRead on and see!\u003c/p\u003e\u003cp\u003e\u003ca href=\"#iterators\"\u003eIterators\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#timer-changes\"\u003eTimers\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#canonical-values\"\u003eCanonical values\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#http-cookies\"\u003eCookies\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#copy-directories\"\u003eCopy directories\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#slices\"\u003eSlices\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#atomics\"\u003eAtomics\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#other-stdlib-changes\"\u003eOther stdlib changes\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#tooling-and-runtime\"\u003eTooling and runtime\u003c/a\u003e ‚Ä¢\n\u003ca href=\"#summary\"\u003eSummary\u003c/a\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eI also provide links to the proposals (ùó£) and commits (ùóñùóü) for the features described. Check them out for motivation and implementation details.\u003c/p\u003e\u003c/blockquote\u003e\u003ch2 id=\"iterators\"\u003eIterators\u003c/h2\u003e\u003cp\u003eGo 1.23 brings \u003cem\u003ea lot\u003c/em\u003e of features related to sequence iteration. Let\u0026#39;s go through them one by one.\u003c/p\u003e\u003ch3 id=\"range-iteration\"\u003eRange iteration\u003c/h3\u003e\u003cp\u003eAn \u003cem\u003eiterator\u003c/em\u003e is a function that passes successive elements of a sequence to a callback function. The function stops either when the sequence is finished or when the callback returns \u003ccode\u003efalse\u003c/code\u003e, indicating to stop the iteration early.\u003c/p\u003e\u003cp\u003eA good example of an interator in a pre-1.23 stdlib is the \u003ccode\u003esync.Map.Range\u003c/code\u003e method, which iterates over a concurrent-safe map:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003evar\u003c/span\u003e \u003cspan style=\"color:#000\"\u003em\u003c/span\u003e \u003cspan style=\"color:#000\"\u003esync\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMap\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eStore\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;alice\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e11\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eStore\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;bob\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eStore\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;cindy\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e13\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eRange\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003evalue\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003evalue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ealice 11\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ebob 12\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ecindy 13\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eStarting with Go 1.23, you can use iterators in a for-range loop. So an explicit call:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.22\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eRange\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eval\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eval\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter-range.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ealice 11\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ebob 12\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ecindy 13\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eBecomes an implicit call:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.23\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eval\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003em\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eRange\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ekey\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eval\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter-range.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ealice 11\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ebob 12\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ecindy 13\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eThe \u003ccode\u003erange\u003c/code\u003e clause in a for-range loop accepts any of the following function types:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e() \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eK\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eK\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eSee the spec for \u003ca href=\"https://tip.golang.org/ref/spec#For_range\"\u003edetails\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61405\"\u003e61405\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/557835\"\u003e557835\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/584596\"\u003e584596\u003c/a\u003e\u003c/p\u003e\u003ch3 id=\"iterator-types\"\u003eIterator types\u003c/h3\u003e\u003cp\u003eThe iterator types are formally defined in the new \u003ca href=\"https://tip.golang.org/pkg/iter\"\u003e\u003ccode\u003eiter\u003c/code\u003e\u003c/a\u003e package:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003etype\u003c/span\u003e (\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003eSeq\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e]     \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eyield\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003eSeq2\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eK\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e] \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eyield\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eK\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003eSeq\u003c/code\u003e yields single values, while \u003ccode\u003eSeq2\u003c/code\u003e yields pairs (as does \u003ccode\u003esync.Map.Range\u003c/code\u003e).\u003c/p\u003e\u003cp\u003eThe \u003cem\u003eyield\u003c/em\u003e parameter name is just a convention, you can name it \u003cem\u003efoo\u003c/em\u003e or \u003cem\u003ebar\u003c/em\u003e or whatever ‚Äî the only important thing is the function signature.\u003c/p\u003e\u003cp\u003eUsing \u003ccode\u003eSeq\u003c/code\u003e / \u003ccode\u003eSeq2\u003c/code\u003e types makes iterator definitions more concise. You can define a function that returns an iterator:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// Reversed returns an iterator that loops over a slice in reverse order.\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eReversed\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e](\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e []\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e) \u003cspan style=\"color:#000\"\u003eiter\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSeq\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e] {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eyield\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003ebool\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003elen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e) \u003cspan style=\"color:#000\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e; \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan style=\"color:#1c01ce\"\u003e0\u003c/span\u003e; \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e--\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e !\u003cspan style=\"color:#000\"\u003eyield\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet id=\"iter-reversed\" editor=\"basic\"\u003e\u003c/codapi-snippet\u003e\u003cp\u003eAnd a function that consumes an iterator:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// PrintAll prints all elements in a sequence.\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ePrintAll\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eany\u003c/span\u003e](\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eiter\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSeq\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003eV\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003es\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrint\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34; \u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet id=\"iter-printall\" editor=\"basic\"\u003e\u003c/codapi-snippet\u003e\u003cp\u003eAnd compose them in a convenient way:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e4\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e5\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ePrintAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eReversed\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" depends-on=\"iter-reversed iter-printall\" template=\"iter-header.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e5 4 3 2 1\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61897\"\u003e61897\u003c/a\u003e ‚Ä¢\nùóñùóü\n\u003ca href=\"https://go.dev/cl/543319\"\u003e543319\u003c/a\u003e,\n\u003ca href=\"https://go.dev/cl/557836\"\u003e557836\u003c/a\u003e,\n\u003ca href=\"https://go.dev/cl/565935\"\u003e565935\u003c/a\u003e,\n\u003ca href=\"https://go.dev/cl/565937\"\u003e565937\u003c/a\u003e,\n\u003ca href=\"https://go.dev/cl/591096\"\u003e591096\u003c/a\u003e\u003c/p\u003e\u003ch3 id=\"pull-iterators\"\u003ePull iterators\u003c/h3\u003e\u003cp\u003e\u003ccode\u003eSeq\u003c/code\u003e and \u003ccode\u003eSeq2\u003c/code\u003e can be thought of as \u003cem\u003epush\u003c/em\u003e iterators, pushing values to the \u003cem\u003eyield\u003c/em\u003e function.\u003c/p\u003e\u003cp\u003eSometimes a range loop is not the preferred way to consume values of the sequence. In this case, you can convert a push iterator to a \u003cem\u003epull\u003c/em\u003e iterator using \u003ccode\u003eiter.Pull\u003c/code\u003e:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e4\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e5\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#177500\"\u003e// uses the Reversed iterator defined previously\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\u003cspan style=\"color:#000\"\u003enext\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003estop\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eiter\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePull\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eReversed\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003edefer\u003c/span\u003e \u003cspan style=\"color:#000\"\u003estop\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eok\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enext\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e !\u003cspan style=\"color:#000\"\u003eok\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#a90d91\"\u003ebreak\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrint\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34; \u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" depends-on=\"iter-reversed\" template=\"iter-header.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e5 4 3 2 1\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003ePull\u003c/code\u003e starts an iterator and returns a pair of functions ‚Äî \u003ccode\u003enext\u003c/code\u003e and \u003ccode\u003estop\u003c/code\u003e ‚Äî which return the next value from the iterator and stop it, respectively. You call \u003ccode\u003enext\u003c/code\u003e to \u003cem\u003epull\u003c/em\u003e the next value from the iterator ‚Äî hence the name.\u003c/p\u003e\u003cp\u003eIf clients do not consume the sequence to completion, they must call \u003ccode\u003estop\u003c/code\u003e, which allows the iterator function to finish and return. As shown in the example, the conventional way to ensure this is to use \u003ccode\u003edefer\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"slice-iterators\"\u003eSlice iterators\u003c/h3\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/slices\"\u003e\u003ccode\u003eslices\u003c/code\u003e\u003c/a\u003e package adds several functions that work with iterators.\u003c/p\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#All\"\u003eAll\u003c/a\u003e returns an iterator over slice indexes and values:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%d:%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e0:a 1:b 2:c\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#Values\"\u003eValues\u003c/a\u003e returns an iterator over slice elements:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ea b c\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#Backward\"\u003eBackward\u003c/a\u003e returns an iterator that loops over a slice backward:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eBackward\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%d:%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e2:c 1:b 0:a\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#Collect\"\u003eCollect\u003c/a\u003e collects values from an iterator into a new slice:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e11\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e13\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCollect\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e[11 12 13]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#AppendSeq\"\u003eAppendSeq\u003c/a\u003e appends values from an iterator to an existing slice:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e11\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e13\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e14\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAppendSeq\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e[11 12 13 14]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#Sorted\"\u003eSorted\u003c/a\u003e collects values from an iterator into a new slice, and then sorts the slice:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e13\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e11\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSorted\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e[11 12 13]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#SortedFunc\"\u003eSortedFunc\u003c/a\u003e is like Sorted but with a comparison function:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003etype\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eperson\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003estruct\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ename\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003eage\u003c/span\u003e  \u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#000\"\u003eperson\u003c/span\u003e{{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;cindy\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e20\u003c/span\u003e}, {\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;alice\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e25\u003c/span\u003e}, {\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;bob\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e30\u003c/span\u003e}}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003ecompare\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ep1\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ep2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eperson\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ecmp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCompare\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ep1\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ename\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ep2\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ename\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSortedFunc\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es1\u003c/span\u003e), \u003cspan style=\"color:#000\"\u003ecompare\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e[{alice 25} {bob 30} {cindy 20}]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#SortedStableFunc\"\u003eSortedStableFunc\u003c/a\u003e is like SortFunc but uses a stable sort algorithm.\u003c/p\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/slices#Chunk\"\u003eChunk\u003c/a\u003e returns an iterator over consecutive sub-slices of up to n elements of a slice:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e4\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e5\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003echunked\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eChunk\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003echunked\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e[1 2] [3 4] [5]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61899\"\u003e61899\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/568477\"\u003e568477\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/595515\"\u003e595515\u003c/a\u003e\u003c/p\u003e\u003ch3 id=\"map-iterators\"\u003eMap iterators\u003c/h3\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/maps\"\u003e\u003ccode\u003emaps\u003c/code\u003e\u003c/a\u003e package adds several functions that work with iterators:\u003c/p\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/maps#All\"\u003eAll\u003c/a\u003e returns an iterator over key-value pairs from a map:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ek\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%v:%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ek\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003ec:3 a:1 b:2\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/maps#Keys\"\u003eKeys\u003c/a\u003e returns an iterator over keys in a map:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ek\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eKeys\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ek\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003eb c a\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/maps#Values\"\u003eValues\u003c/a\u003e returns an iterator over values in a map:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValues\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%v \u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e2 3 1\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/maps#Insert\"\u003eInsert\u003c/a\u003e adds the key-value pairs from an iterator to an existing map (overwriting existing elements):\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;d\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e4\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eInsert\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em1\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em2\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003emap[a:1 b:12 c:3 d:4]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/pkg/maps#Collect\"\u003eCollect\u003c/a\u003e collects key-value pairs from an iterator into a new map and returns it:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em1\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;a\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;b\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;c\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003em2\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCollect\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003emaps\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em1\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003em2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003emap[a:1 b:2 c:3]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61900\"\u003e61900\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/586716\"\u003e586716\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"timer-changes\"\u003eTimer changes\u003c/h2\u003e\u003cp\u003eGo 1.23 makes two significant changes to the implementation of \u003ca href=\"https://tip.golang.org/pkg/time#Timer\"\u003e\u003ccode\u003etime.Timer\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"https://tip.golang.org/pkg/time#Ticker\"\u003e\u003ccode\u003etime.Ticker\u003c/code\u003e\u003c/a\u003e. The first is related to garbage collection, and the second is related to stop/reset behavior.\u003c/p\u003e\u003ch3 id=\"garbage-collection\"\u003eGarbage collection\u003c/h3\u003e\u003cp\u003eUsing \u003ccode\u003etime.After()\u003c/code\u003e in a loop in pre-1.23 Go can lead to significant memory usage. Consider this example:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.22\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003etype\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etoken\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003estruct\u003c/span\u003e{}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econsumer\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econtext\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eContext\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003echan\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etoken\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#177500\"\u003e// do stuff\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAfter\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eHour\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#177500\"\u003e// log warning\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eDone\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet id=\"timer-consumer\" editor=\"basic\"\u003e\u003c/codapi-snippet\u003e\u003cp\u003eThe consumer reads tokens from the input channel and alerts if a value does not appear in a channel after an hour.\u003c/p\u003e\u003cp\u003eLet\u0026#39;s write a client that measures the memory usage after 100K channel sends:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.22\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecancel\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econtext\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eWithCancel\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003econtext\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eBackground\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003edefer\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ecancel\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003etokens\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emake\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003echan\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etoken\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ego\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econsumer\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003etokens\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#1c01ce\"\u003e100000\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003etokens\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etoken\u003c/span\u003e{}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Memory used: %d KB\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1c01ce\"\u003e1024\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" depends-on=\"timer-consumer\" template=\"timer.go\" files=\"go.mod\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003eMemory used: 20379 KB\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdetails\u003e\u003csummary\u003eWhat is getAlloc\u003c/summary\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// getAlloc returns the number of bytes of allocated\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// heap objects (after garbage collection).\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e getAlloc() \u003cspan class=\"hljs-type\"\u003euint64\u003c/span\u003e {\n\t\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e m runtime.MemStats\n\truntime.GC()\n\truntime.ReadMemStats(\u0026amp;m)\n\t\u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e m.Alloc\n}\u003c/code\u003e\u003cpre\u003e\u003c/pre\u003e\u003c/pre\u003e\u003c/details\u003e\n\u003cp\u003eBehind the scenes, \u003ccode\u003etime.After\u003c/code\u003e creates a timer that is not freed until it expires. And since we are using a large timeout (one hour), the for loop essentially creates a miriad of timers that are not yet freed. These timers together use ‚âà20¬†MB of memory.\u003c/p\u003e\n\u003cp\u003eIn Go 1.23, \u003ccode\u003eTimer\u003c/code\u003es and \u003ccode\u003eTicker\u003c/code\u003es that are no longer referred to by the program become eligible for garbage collection immediately, even if their \u003ccode\u003eStop\u003c/code\u003e methods have not been called. So a \u003ccode\u003etime.After\u003c/code\u003e in a loop will not pile up memory (for long):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.23\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econsumer\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e \u003cspan style=\"color:#000\"\u003econtext\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eContext\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003echan\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etoken\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003eselect\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#177500\"\u003e// do stuff\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAfter\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eHour\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#177500\"\u003e// log warning\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ecase\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ectx\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eDone\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"timer-memory.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003eMemory used: 0 KB\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61542\"\u003e61542\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/512355\"\u003e512355\u003c/a\u003e\u003c/p\u003e\u003ch3 id=\"stopreset-behavior\"\u003eStop/reset behavior\u003c/h3\u003e\u003cp\u003eOf course, the above \u003ccode\u003etime.After\u003c/code\u003e loop example will still do a lot of allocations. So you might prefer to create a \u003ccode\u003eTimer\u003c/code\u003e once and \u003ccode\u003eReset\u003c/code\u003e it on each iteration instead of creating new timers with \u003ccode\u003etime.After\u003c/code\u003e. The thing is, in pre-1.23 Go, the \u003ccode\u003eReset\u003c/code\u003e method does not work as you expect.\u003c/p\u003e\u003cp\u003eConsider this example:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.22\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e10\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMillisecond\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNewTimer\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSleep\u003c/span\u003e(\u003cspan style=\"color:#1c01ce\"\u003e20\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMillisecond\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003estart\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNow\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eReset\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eC\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Time elapsed: %dms\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSince\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003estart\u003c/span\u003e).\u003cspan style=\"color:#000\"\u003eMilliseconds\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#177500\"\u003e// expected: Time elapsed: 10ms\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\u003cspan style=\"color:#177500\"\u003e// actual:   Time elapsed:  0ms\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"timer.go\" files=\"go.mod\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003eTime elapsed: 0ms\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eThe timer \u003ccode\u003et\u003c/code\u003e has a timeout of 10ms. So after we waited for 20ms, it has already expired and sent a value to the \u003ccode\u003et.C\u003c/code\u003e channel. And since \u003ccode\u003eReset\u003c/code\u003e does not drain the channel, \u003ccode\u003e\u0026lt;-t.C\u003c/code\u003e does not block and proceeds immediately. Also, since \u003ccode\u003eReset\u003c/code\u003e restarted the timer, we\u0026#39;ll see another value in \u003ccode\u003et.C\u003c/code\u003e after 10ms.\u003c/p\u003e\u003cp\u003eQuoting the Go 1.22 stdlib documentation:\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eFor a \u003ccode\u003eTimer\u003c/code\u003e created with \u003ccode\u003eNewTimer\u003c/code\u003e, \u003ccode\u003eReset\u003c/code\u003e should be invoked only on stopped or expired timers with drained channels.\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003eThe reset problem is fixed in Go 1.23. Quoting the docs again:\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eThe timer channel associated with a \u003ccode\u003eTimer\u003c/code\u003e or \u003ccode\u003eTicker\u003c/code\u003e is now unbuffered, with capacity 0. The main effect of this change is that Go now guarantees that for any call to a \u003ccode\u003eReset\u003c/code\u003e or \u003ccode\u003eStop\u003c/code\u003e method, no stale values prepared before that call will be sent or received after the call.\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003e\u003cem\u003eDespite what the docs say, the timer channel is still buffered, but that\u0026#39;s \u003ca href=\"/timer-reset/\"\u003eanother story\u003c/a\u003e.\u003c/em\u003e\u003c/p\u003e\u003cp\u003eSo \u003ccode\u003eReset\u003c/code\u003e now works as you\u0026#39;d expect:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.23\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e10\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMillisecond\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNewTimer\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSleep\u003c/span\u003e(\u003cspan style=\"color:#1c01ce\"\u003e20\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMillisecond\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003estart\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNow\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eReset\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003etimeout\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\"color:#000\"\u003et\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eC\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Time elapsed: %dms\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSince\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003estart\u003c/span\u003e).\u003cspan style=\"color:#000\"\u003eMilliseconds\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"timer.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003eTime elapsed: 10ms\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/37196\"\u003e37196\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/568341\"\u003e568341\u003c/a\u003e\u003c/p\u003e\u003cp\u003eBoth of the new behaviors (garbage collection and stop/reset) are only enabled with a \u003ccode\u003ego.mod\u003c/code\u003e specifying the version \u003ccode\u003e1.23\u003c/code\u003e or later. When Go 1.23 builds older programs, the old behaviors remain in effect.\u003c/p\u003e\u003ch2 id=\"canonical-values\"\u003eCanonical values\u003c/h2\u003e\u003cp\u003eThe new \u003ca href=\"https://tip.golang.org/pkg/unique\"\u003e\u003ccode\u003eunique\u003c/code\u003e\u003c/a\u003e package provides facilities for canonicalizing values (like \u0026#34;interning\u0026#34; or \u0026#34;hash-consing\u0026#34;).\u003c/p\u003e\u003cp\u003eLet\u0026#39;s say we have a random word generator:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// wordGen returns a generator of random words of length wordLen\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// from a set of nDistinct unique words.\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewordGen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e() \u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003evocab\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003emake\u003c/span\u003e([]\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003eword\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003erandomString\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003evocab\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e] = \u003cspan style=\"color:#000\"\u003eword\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e() \u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003eword\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003evocab\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003erand\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eIntn\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a90d91\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#000\"\u003estrings\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eClone\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eword\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// randomString returns a random string of length n.\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003erandomString\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003en\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#177500\"\u003e// omitted for brevity\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAnd we use it to generate 10,000 words from a 100-word vocabulary:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003evar\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e10000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003egenerate\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewordGen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#177500\"\u003e// store words\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e = \u003cspan style=\"color:#a90d91\"\u003emake\u003c/span\u003e([]\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e] = \u003cspan style=\"color:#000\"\u003egenerate\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Memory used: %d KB\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1c01ce\"\u003e1024\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"unique.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eMemory used: 622 KB\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e10K words take up about 600 KB in the heap.\u003c/p\u003e\u003cp\u003eNow let\u0026#39;s use \u003ccode\u003eunique.Handle\u003c/code\u003e to assign a \u0026#34;handle\u0026#34; (descriptor) to each unique word, and store these handles instead of words:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003evar\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e []\u003cspan style=\"color:#000\"\u003eunique\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eHandle\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e10000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003egenerate\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ewordGen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003enDistinct\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ewordLen\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#177500\"\u003e// store word handles\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\t\u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e = \u003cspan style=\"color:#a90d91\"\u003emake\u003c/span\u003e([]\u003cspan style=\"color:#000\"\u003eunique\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eHandle\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e], \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003enWords\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003ewords\u003c/span\u003e[\u003cspan style=\"color:#000\"\u003ei\u003c/span\u003e] = \u003cspan style=\"color:#000\"\u003eunique\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eMake\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003egenerate\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003egetAlloc\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememAfter\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e-\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ememBefore\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Memory used: %d KB\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ememUsed\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1c01ce\"\u003e1024\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"unique.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eMemory used: 95 KB\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eMemory consumption is reduced to 100 KB ‚Äî a 6x improvement! As you can imagine, the more words we generate, the greater the gains (given a fixed vocabulary).\u003c/p\u003e\u003cp\u003eThe \u003ccode\u003eMake\u003c/code\u003e function can canonicalize any value of comparable type. It creates a reference to a canonical copy of the value in the form of a \u003ccode\u003eHandle\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eTwo \u003ccode\u003eHandle\u003c/code\u003es are equal if and only if the values used to create the handles are equal, allowing programs to deduplicate values and reduce their memory footprint. Comparing two \u003ccode\u003eHandle\u003c/code\u003e values is efficient and reduces down to a simple pointer comparison.\u003c/p\u003e\u003cp\u003eInternally, \u003ccode\u003eunique\u003c/code\u003e maintains a global concurrent-safe cache of all added values, guaranteeing their uniqueness and efficient reuse.\u003c/p\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/62483\"\u003e62483\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/574355\"\u003e574355\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"http-cookies\"\u003eHTTP Cookies\u003c/h2\u003e\u003cp\u003eThere are a number of changes in the \u003ca href=\"https://tip.golang.org/pkg/net/http\"\u003e\u003ccode\u003ehttp\u003c/code\u003e\u003c/a\u003e package related to cookie handling.\u003c/p\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/net/http#ParseCookie\"\u003e\u003ccode\u003eParseCookie\u003c/code\u003e\u003c/a\u003e function parses a cookie header value and returns all the cookies set within it:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session_id=abc123; dnt=1; lang=en; lang=de\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003ecookies\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eParseCookie\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003enil\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e_\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003erange\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ecookies\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;%s: %s\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eName\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"cookie.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esession_id: abc123\ndnt: 1\nlang: en\nlang: de\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSince the same cookie name can appear multiple times, the returned values can contain more than one value for a given key.\u003c/p\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/net/http#ParseSetCookie\"\u003e\u003ccode\u003eParseSetCookie\u003c/code\u003e\u003c/a\u003e function parses a Set-Cookie header value and returns a cookie:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session_id=abc123; SameSite=None; Secure; Partitioned; Path=/; Domain=.example.com\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eParseSetCookie\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003enil\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Name:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eName\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Value:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Path:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePath\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Domain:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eDomain\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Secure:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eSecure\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Partitioned:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePartitioned\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"cookie.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eName: session_id\nValue: abc123\nPath: /\nDomain: .example.com\nSecure: true\nPartitioned: true\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/66008\"\u003e66008\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/578275\"\u003e578275\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/579795\"\u003e579795\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThe \u003ccode\u003ePartitioned\u003c/code\u003e field identifies cookies with the Partitioned attribute (restricts the cookie\u0026#39;s scope to a specific partition of the browsing context, such as a top-level site or a specific subdomain).\u003c/p\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/62490\"\u003e62490\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/526435\"\u003e526435\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThe \u003ccode\u003eQuoted\u003c/code\u003e field indicates whether the value was originally quoted:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e`name=\u0026#34;Alice Zakas\u0026#34;;`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eParseSetCookie\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003enil\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Name:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eName\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Value:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eValue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Quoted:\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookie\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eQuoted\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"cookie.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eName: name\nValue: Alice Zakas\nQuoted: true\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/46443\"\u003e46443\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/577755\"\u003e577755\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/net/http#Request.CookiesNamed\"\u003e\u003ccode\u003eRequest.CookiesNamed\u003c/code\u003e\u003c/a\u003e method retrieves all cookies that match the given name:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehandler\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eResponseWriter\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003er\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eRequest\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ecookies\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003er\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCookiesNamed\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003elen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ecookies\u003c/span\u003e) \u0026gt; \u003cspan style=\"color:#1c01ce\"\u003e0\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eFprintf\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session cookie = %s\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ecookies\u003c/span\u003e[\u003cspan style=\"color:#1c01ce\"\u003e0\u003c/span\u003e].\u003cspan style=\"color:#000\"\u003eValue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t} \u003cspan style=\"color:#a90d91\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eFprint\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session cookie not found\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emain\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ereq\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttptest\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNewRequest\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;GET\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#a90d91\"\u003enil\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ereq\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eAddCookie\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ehttp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCookie\u003c/span\u003e{\u003cspan style=\"color:#000\"\u003eName\u003c/span\u003e: \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;session\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eValue\u003c/span\u003e: \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;abc123\u0026#34;\u003c/span\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ehttptest\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eNewRecorder\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ehandler\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003ereq\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003eresp\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ew\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eResult\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003ebody\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e_\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eio\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eReadAll\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eresp\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eBody\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#a90d91\"\u003estring\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003ebody\u003c/span\u003e))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"cookie-header.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esession cookie = abc123\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61472\"\u003e61472\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/511516\"\u003e511516\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/571278\"\u003e571278\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"copy-directories\"\u003eCopy directories\u003c/h2\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/os#CopyFS\"\u003e\u003ccode\u003eos.CopyFS\u003c/code\u003e\u003c/a\u003e function copies files and directories recursively with a single call:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003esrc\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eos\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eDirFS\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;/etc/cron.d\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003edst\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;/tmp/cron.d\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eos\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eCopyFS\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003edst\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003esrc\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003enil\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eerr\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;copied %s to %s\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003esrc\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003edst\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"fs.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecopied /etc/cron.d to /tmp/cron.d\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/62484\"\u003e62484\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/558995\"\u003e558995\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/564295\"\u003e564295\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"slices\"\u003eSlices\u003c/h2\u003e\u003cp\u003eThe \u003ca href=\"https://tip.golang.org/pkg/slices#Repeat\"\u003e\u003ccode\u003eslices.Repeat\u003c/code\u003e\u003c/a\u003e function returns a new slice that repeats the provided slice the given number of times:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e []\u003cspan style=\"color:#a90d91\"\u003eint\u003c/span\u003e{\u003cspan style=\"color:#1c01ce\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e2\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003er\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eslices\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eRepeat\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003es\u003c/span\u003e, \u003cspan style=\"color:#1c01ce\"\u003e3\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintln\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003er\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"iter.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e[1 2 1 2 1 2]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/65238\"\u003e65238\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/571895\"\u003e571895\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"atomics\"\u003eAtomics\u003c/h2\u003e\u003cp\u003eThe \u003ccode\u003eAnd\u003c/code\u003e and \u003ccode\u003eOr\u003c/code\u003e operators apply a bitwise AND or OR to the given input, returning the old value:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003econst\u003c/span\u003e (\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003emodeRead\u003c/span\u003e  = \u003cspan style=\"color:#1c01ce\"\u003e0b100\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003emodeWrite\u003c/span\u003e = \u003cspan style=\"color:#1c01ce\"\u003e0b010\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#000\"\u003emodeExec\u003c/span\u003e  = \u003cspan style=\"color:#1c01ce\"\u003e0b001\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003evar\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emode\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eatomic\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eInt32\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003emode\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eStore\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003emodeRead\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003eold\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e:=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003emode\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eOr\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003emodeWrite\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#000\"\u003efmt\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003ePrintf\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;mode: %b -\u0026gt; %b\\n\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003eold\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003emode\u003c/span\u003e.\u003cspan style=\"color:#000\"\u003eLoad\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"sync.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003emode: 100 -\u0026gt; 110\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eùó£ \u003ca href=\"https://go.dev/issue/61395\"\u003e61395\u003c/a\u003e ‚Ä¢\nùóñùóü \u003ca href=\"https://go.dev/cl/544455\"\u003e544455\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/593855\"\u003e593855\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"other-stdlib-changes\"\u003eOther stdlib changes\u003c/h2\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12 col-sm-6 col-md-4\"\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#archivetarpkgarchivetar\"\u003earchive/tar\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#cryptotlspkgcryptotls\"\u003ecrypto/tls\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#cryptox509pkgcryptox509\"\u003ecrypto/x509\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#databasesqlpkgdatabasesql\"\u003edatabase/sql\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#debugelfpkgdebugelf\"\u003edebug/elf\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#encodingbinarypkgencodingbinary\"\u003eencoding/binary\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#goastpkggoast\"\u003ego/ast\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#gotypespkggotypes\"\u003ego/types\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.22#go/version\"\u003ego/version\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cdiv class=\"col-xs-12 col-sm-6 col-md-4\"\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#mathrandv2pkgmathrandv2\"\u003emath/rand/v2\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#netpkgnet\"\u003enet\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#nethttppkgnethttp\"\u003enet/http\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#nethttphttptestpkgnethttphttptest\"\u003enet/http/httptest\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#netnetippkgnetnetip\"\u003enet/netip\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#ospkgos\"\u003eos\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#pathfilepathpkgpathfilepath\"\u003epath/filepath\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#reflectpkgreflect\"\u003ereflect\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#runtimedebugpkgruntimedebug\"\u003eruntime/debug\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cdiv class=\"col-xs-12 col-sm-6 col-md-4\"\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#runtimepprofpkgruntimepprof\"\u003eruntime/pprof\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#runtimetracepkgruntimetrace\"\u003eruntime/trace\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#new-structs-package\"\u003estructs\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#syscallpkgsyscall\"\u003esyscall\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#testingfstestpkgtestingfstest\"\u003etesting/fstest\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#texttemplatepkgtexttemplate\"\u003etext/template\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#timepkgtime\"\u003etime\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#unicodeutf16pkgunicodeutf16\"\u003eunicode/utf16\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e\u003ch2 id=\"tooling-and-runtime\"\u003eTooling and runtime\u003c/h2\u003e\u003ch3 id=\"tools\"\u003eTools\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#telemetry\"\u003eTelemetry\u003c/a\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003eThe Go toolchain can collect \u003ca href=\"https://tip.golang.org/doc/telemetry\"\u003etelemetry\u003c/a\u003e ‚Äî usage and breakage statistics to help the Go team understand how the toolchain is being used.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eTelemetry is \u003cem\u003eopt-in\u003c/em\u003e, controlled by the \u003ca href=\"https://tip.golang.org/cmd/go/#hdr-Manage_telemetry_data_and_settings\"\u003e\u003ccode\u003ego telemetry\u003c/code\u003e\u003c/a\u003e command. By default, the toolchain only collects statistics in local files (\u003ccode\u003ego telemetry local\u003c/code\u003e).\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#go-command\"\u003eGo command\u003c/a\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003ego env -changed\u003c/code\u003e flag causes the command to print only those settings whose effective value differs from the default value.\u003c/li\u003e\u003cli\u003e\u003ccode\u003ego mod tidy -diff\u003c/code\u003e flag causes the command not to modify the files, but to print the necessary changes as a unified diff.\u003c/li\u003e\u003cli\u003e\u003ccode\u003ego list -m -json\u003c/code\u003e command includes \u003ccode\u003eSum\u003c/code\u003e and \u003ccode\u003eGoModSum\u003c/code\u003e fields, similar to \u003ccode\u003ego mod download -json\u003c/code\u003e.\u003c/li\u003e\u003cli\u003e\u003ccode\u003egodebug\u003c/code\u003e directive in \u003ccode\u003ego.mod\u003c/code\u003e and \u003ccode\u003ego.work\u003c/code\u003e declares a \u003ca href=\"https://tip.golang.org/doc/godebug\"\u003eGODEBUG setting\u003c/a\u003e to apply for the work module or workspace in use.\u003c/li\u003e\u003cli\u003e\u003ccode\u003eGOROOT_FINAL\u003c/code\u003e environment variable no longer has any effect.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#trace\"\u003eTrace\u003c/a\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003etrace\u003c/code\u003e tool better tolerates partially broken traces by attempting to recover what trace data it can.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#vet\"\u003eVet\u003c/a\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003ego vet\u003c/code\u003e subcommand flags references to symbols that are too new for the effective Go version in the referring file.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#cgo\"\u003eCgo\u003c/a\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://tip.golang.org/pkg/cmd/cgo\"\u003e\u003ccode\u003ecmd/cgo\u003c/code\u003e\u003c/a\u003e supports the \u003ccode\u003e-ldflags\u003c/code\u003e flag for passing flags to the C linker. The go command uses it automatically.\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"runtimehttpstipgolangorgdocgo123runtime\"\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#runtime\"\u003eRuntime\u003c/a\u003e\u003c/h3\u003e\u003cp\u003eThe traceback printed by the runtime after an unhandled panic or other fatal error now indents the second and subsequent lines of the error message (e.g., the argument to the panic) with a single tab to distinguish it from the stack trace of the first goroutine.\u003c/p\u003e\u003cp\u003eBefore:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.22\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;what\\nhave\\nI\\ndone\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003epanic: what\nhave\nI\ndone\n\ngoroutine 1 [running]:\nmain.main()\n\t/sandbox/src/main.go:14 +0x25 (exit status 2)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAfter:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e// go 1.23\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#177500\"\u003e\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003epanic\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;what\\nhave\\nI\\ndone\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ccodapi-snippet sandbox=\"go\" editor=\"basic\" template=\"sync.go\" output=\"\"\u003e\u003c/codapi-snippet\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003epanic: what\n\thave\n\tI\n\tdone\n\ngoroutine 1 [running]:\nmain.main()\n\t/sandbox/src/main.go:14 +0x25 (exit status 2)\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"compilerhttpstipgolangorgdocgo123compiler\"\u003e\u003ca href=\"https://tip.golang.org/doc/go1.23#compiler\"\u003eCompiler\u003c/a\u003e\u003c/h3\u003e\u003cp\u003eThe build time overhead to building with \u003ca href=\"https://tip.golang.org/doc/pgo\"\u003eProfile Guided Optimization\u003c/a\u003e has been reduced significantly. Previously, large builds could see 100%+ build time increase from enabling PGO. In Go 1.23, overhead should be in the single digit percentages.\u003c/p\u003e\u003ch2 id=\"summary\"\u003eSummary\u003c/h2\u003e\u003cp\u003eGo 1.23 is all-in on iterators, the feature intended to provide a standard way of working with sequences of values in both stdlib and third-party packages. It also fixes a long-standing problem with stopping and resetting timers. Value interning can be helpful when working with a limited number of unique values, and other features such as cookie handling and filesystem copying will also come in handy.\u003c/p\u003e\u003cp\u003eHere are the major features we covered:\u003c/p\u003e\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eFeature\u003c/th\u003e\u003cth\u003eProposal\u003c/th\u003e\u003cth\u003eChanges\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#range-iteration\"\u003eIterators: range\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61405\"\u003e61405\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/557835\"\u003e557835\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/584596\"\u003e584596\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#iterator-types\"\u003eIterators: iter\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61897\"\u003e61897\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/543319\"\u003e543319\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/557836\"\u003e557836\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/565935\"\u003e565935\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/565937\"\u003e565937\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/591096\"\u003e591096\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#slice-iterators\"\u003eIterators: slices\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61899\"\u003e61899\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/568477\"\u003e568477\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/595515\"\u003e595515\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#map-iterators\"\u003eIterators: maps\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61900\"\u003e61900\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/586716\"\u003e586716\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#garbage-collection\"\u003eTimers: GC\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61542\"\u003e61542\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/512355\"\u003e512355\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#stopreset-behavior\"\u003eTimers: stop/reset\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/37196\"\u003e37196\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/568341\"\u003e568341\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#canonical-values\"\u003eCanonical values\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/62483\"\u003e62483\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/574355\"\u003e574355\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003cp\u003eAnd minor ones:\u003c/p\u003e\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eFeature\u003c/th\u003e\u003cth\u003eProposal\u003c/th\u003e\u003cth\u003eChanges\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#http-cookies\"\u003eCookies: parse\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/66008\"\u003e66008\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/578275\"\u003e578275\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/579795\"\u003e579795\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#http-cookies\"\u003eCookies: partitioned\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/62490\"\u003e62490\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/526435\"\u003e526435\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#http-cookies\"\u003eCookies: quoted\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/46443\"\u003e46443\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/577755\"\u003e577755\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#http-cookies\"\u003eCookies: request\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61472\"\u003e61472\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/511516\"\u003e511516\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/571278\"\u003e571278\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#copy-directories\"\u003eCopy directories\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/62484\"\u003e62484\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/558995\"\u003e558995\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/564295\"\u003e564295\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#slices\"\u003eSlices: repeat\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/65238\"\u003e65238\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/571895\"\u003e571895\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ca href=\"#atomics\"\u003eAtomics: and/or\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/issue/61395\"\u003e61395\u003c/a\u003e\u003c/td\u003e\u003ctd\u003e\u003ca href=\"https://go.dev/cl/544455\"\u003e544455\u003c/a\u003e, \u003ca href=\"https://go.dev/cl/593855\"\u003e593855\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003cp\u003e‚îÄ‚îÄ\u003c/p\u003e\u003cp\u003eP.S. \u003cmark\u003eInteractive examples\u003c/mark\u003e in this post are powered by \u003ca href=\"https://codapi.org/\"\u003ecodapi\u003c/a\u003e ‚Äî an open source tool I\u0026#39;m building. Use it to embed live code snippets into your product docs, online course or blog.\u003c/p\u003e\u003cscript defer=\"\" src=\"/modules/codapi/snippet.js\"\u003e\u003c/script\u003e\u003cp\u003e\u003ca href=\"/subscribe/\"\u003e‚òÖ¬†Subscribe\u003c/a\u003e to keep up with new posts.\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cfooter class=\"post__footer\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12\"\u003e\u003cdiv class=\"post__date\"\u003e\u003ctime datetime=\"2024-07-20 13:00:00 +0000 UTC\"\u003e20 Jul, 2024\u003c/time\u003e\u003c/div\u003e\u003cdiv class=\"post__tags\"\u003e\u003ca href=\"/tags/thank-go/\"\u003ethank-go\u003c/a\u003e¬†\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/footer\u003e\u003c/article\u003e",
  "Date": "2024-07-20T13:00:00Z",
  "Author": "Anton Zhiyanov"
}