{
  "Source": "antonz.org",
  "Title": "JSON Lines",
  "Link": "https://antonz.org/json-lines/",
  "Content": "\u003carticle class=\"post\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12 col-md-10 article\"\u003e\u003cheader\u003e\u003ch1\u003eJSON Lines\u003c/h1\u003e\u003c/header\u003e\u003cp\u003eWorked with the \u003ca href=\"https://jsonlines.org/\"\u003eJSON Lines\u003c/a\u003e format the other day. It\u0026#39;s a CSV on steroids:\u003c/p\u003e\u003cul\u003e\u003cli\u003eeach entry is a separate line, as in CSV;\u003c/li\u003e\u003cli\u003eat the same time it is a full-fledged JSON.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eFor example:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e{ \u003cspan style=\"color:#000\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e11\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Diane\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;city\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;London\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;hr\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;salary\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e70\u003c/span\u003e }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e{ \u003cspan style=\"color:#000\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e12\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Bob\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;city\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;London\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;hr\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;salary\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e78\u003c/span\u003e }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e{ \u003cspan style=\"color:#000\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e21\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Emma\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;city\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;London\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;it\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;salary\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e84\u003c/span\u003e }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e{ \u003cspan style=\"color:#000\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e22\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Grace\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;city\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Berlin\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;it\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;salary\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e90\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e{ \u003cspan style=\"color:#000\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e23\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;Henry\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;city\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;London\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;it\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#000\"\u003e\u0026#34;salary\u0026#34;\u003c/span\u003e:\u003cspan style=\"color:#1c01ce\"\u003e104\u003c/span\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eGreat stuff:\u003c/p\u003e\u003cul\u003e\u003cli\u003eSuitable for objects of complex structure (unlike csv);\u003c/li\u003e\u003cli\u003eEasy to stream read without loading the entire file into memory (unlike json);\u003c/li\u003e\u003cli\u003eEasy to append new entries to an existing file (unlike json).\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eJSON can also be streamed. But look how much easier it is with JSON Lines:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ejson\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#000\"\u003etyping\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eIterator\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ejl_reader\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003efname\u003c/span\u003e: \u003cspan style=\"color:#a90d91\"\u003estr\u003c/span\u003e) \u003cspan style=\"color:#000\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eIterator\u003c/span\u003e[\u003cspan style=\"color:#a90d91\"\u003edict\u003c/span\u003e]:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a90d91\"\u003ewith\u003c/span\u003e \u003cspan style=\"color:#a90d91\"\u003eopen\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003efname\u003c/span\u003e) \u003cspan style=\"color:#a90d91\"\u003eas\u003c/span\u003e \u003cspan style=\"color:#000\"\u003efile\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e \u003cspan style=\"color:#000\"\u003efile\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#000\"\u003eobj\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#000\"\u003eloads\u003c/span\u003e(\u003cspan style=\"color:#000\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#000\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#000\"\u003estrip\u003c/span\u003e())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a90d91\"\u003eyield\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eobj\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a90d91\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e__name__\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#c41a16\"\u003e\u0026#34;__main__\u0026#34;\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#000\"\u003ereader\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ejl_reader\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;employees.jl\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a90d91\"\u003efor\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eemployee\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ein\u003c/span\u003e \u003cspan style=\"color:#000\"\u003ereader\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a90d91\"\u003eid\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eemployee\u003c/span\u003e[\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;id\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#000\"\u003ename\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eemployee\u003c/span\u003e[\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#000\"\u003edept\u003c/span\u003e \u003cspan style=\"color:#000\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#000\"\u003eemployee\u003c/span\u003e[\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;department\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a90d91\"\u003eprint\u003c/span\u003e(\u003cspan style=\"color:#c41a16\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e\u0026#34;#\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#a90d91\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e - \u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000\"\u003edept\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#c41a16\"\u003e)\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e#11 - Diane (hr)\n#12 - Bob (hr)\n#21 - Emma (it)\n#22 - Grace (it)\n#23 - Henry (it)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\"https://replit.com/@antonz/json-lines#main.py\"\u003eplayground\u003c/a\u003e\u003c/p\u003e\u003cp\u003eGreat fit for logs and data processing pipelines.\u003c/p\u003e\u003cp\u003e\u003cem\u003e\u003ca href=\"/subscribe/\"\u003e\u003ci class=\"fas fa-star\"\u003e\u003c/i\u003e \u003cstrong\u003eSubscribe\u003c/strong\u003e\u003c/a\u003e\nto keep up with new posts.\u003c/em\u003e\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cfooter class=\"post__footer\"\u003e\u003cdiv class=\"row\"\u003e\u003cdiv class=\"col-xs-12\"\u003e\u003cdiv class=\"post__date\"\u003e\u003ctime datetime=\"2022-08-04 18:30:00 +0000 UTC\"\u003e04 Aug, 2022\u003c/time\u003e\u003c/div\u003e\u003cdiv class=\"post__tags\"\u003e\u003ca href=\"/tags/python/\"\u003epython\u003c/a\u003e \u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/footer\u003e\u003c/article\u003e",
  "Date": "2022-08-04T18:30:00Z",
  "Author": "Anton Zhiyanov"
}