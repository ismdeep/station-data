{
  "Source": "blog.zzbd.org",
  "Title": "iTerm2增强SSH体验实战",
  "Link": "https://blog.zzbd.org/2020/03/03/iterm2/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003cp\u003e使用了许久的iTerm2，然而只是用了一个tab功能而已，直到某次不小心按了command+D.. So，折腾开始\u003c/p\u003e\u003ch3 id=\"修改配色\"\u003e\u003ca href=\"#修改配色\" class=\"headerlink\" title=\"修改配色\"\u003e\u003c/a\u003e修改配色\u003c/h3\u003e\u003cp\u003e最新版iTerm2(v3.1.5)预置了两个\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://ethanschoonover.com/solarized\"\u003esolarized\u003c/a\u003e和tango，个人比较喜欢tango-dark。\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://iterm2colorschemes.com/\"\u003e这里\u003c/a\u003e有更多的主题可供选择。\u003c/p\u003e\u003cspan id=\"more\"\u003e\u003c/span\u003e\u003ch3 id=\"增强功能\"\u003e\u003ca href=\"#增强功能\" class=\"headerlink\" title=\"增强功能\"\u003e\u003c/a\u003e增强功能\u003c/h3\u003e\u003cp\u003e如果SSH登录到服务器，这部分需要在远端配置一遍。\u003c/p\u003e\u003ch4 id=\"oh-my-zsh\"\u003e\u003ca href=\"#oh-my-zsh\" class=\"headerlink\" title=\"oh-my-zsh\"\u003e\u003c/a\u003eoh-my-zsh\u003c/h4\u003e\u003cp\u003e官方解释是\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eA delightful community-driven (with 1500+ contributors) framework for managing your zsh configuration. Includes 200+ optional plugins (rails, git, OSX, hub, capistrano, brew, ant, php, python, etc), over 140 themes to spice up your morning, and an auto-update tool so that makes it easy to keep up with the latest updates from the community. \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://ohmyz.sh/\"\u003ehttps://ohmyz.sh/\u003c/a\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e一个有众多contributor参与的管理zsh配置的框架，包含200+可选插件 (rails, git, OSX, hub, capistrano, brew, ant, php, python, etc)以及140+满足各种口味的主题。\u003c/p\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cp\u003e看来重点是玩插件。根据教程设置了\u003ccode\u003eagnoster\u003c/code\u003e主题\u003c/p\u003e\u003ch4 id=\"复制到剪切板\"\u003e\u003ca href=\"#复制到剪切板\" class=\"headerlink\" title=\"复制到剪切板\"\u003e\u003c/a\u003e复制到剪切板\u003c/h4\u003e\u003cp\u003e本地可以直接\u003ccode\u003e(content) | pbcopy\u003c/code\u003e，远程借助\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/skaji/remote-pbcopy-iterm2\"\u003eremote-pbcopy-iterm2\u003c/a\u003e\u003c/p\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003essh (remote addr)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewget -qO- https://github.com/skaji/remote-pbcopy-iterm2/releases/latest/download/pbcopy-linux-amd64.tar.gz | tar xvz - -C ~/.local/bin pbcopy\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003eiTerm2 选中\u003ccode\u003eApplications in terminal may access clipboard\u003c/code\u003e，\u003c/p\u003e\u003cp\u003e然后远程也可以像本地一样输出到剪切板了。\u003c/p\u003e\u003ch4 id=\"防止断开连接\"\u003e\u003ca href=\"#防止断开连接\" class=\"headerlink\" title=\"防止断开连接\"\u003e\u003c/a\u003e防止断开连接\u003c/h4\u003e\u003cp\u003e在客户端增加配置\u003c/p\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003evim ~/.ssh/config\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e\u003cspan class=\"comment\"\u003e# ~/.ssh/config begin\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHost *\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        SendEnv LANG LC_*\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        # macOS Mojave 需要设置为 no 否则照样会断开 \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        TCPKeepAlive no\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        # 客户端每隔 60S 发送一个空报文\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        ServerAliveInterval 60\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        # macOS Mojave 需要增加，原因在于Qos检测命令不被对端支持，导致连接丢失\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        # packet_write_wait: Connection to 10.10.10.111 port 22: Broken pipe\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        IPQoS lowdelay throughput\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e\u003cspan class=\"comment\"\u003e# ~/.ssh/config end\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003ch3 id=\"其他\"\u003e\u003ca href=\"#其他\" class=\"headerlink\" title=\"其他\"\u003e\u003c/a\u003e其他\u003c/h3\u003e\u003cul\u003e\u003cli\u003e语法高亮插件zsh-syntax-highlighting\u003c/li\u003e\u003cli\u003e命令补全插件zsh-autosuggestions\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"参考链接\"\u003e\u003ca href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"\u003e\u003c/a\u003e参考链接\u003c/h3\u003e\u003cp\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://segmentfault.com/a/1190000012786464\"\u003eMac终端配置，DIY你的Terminal （iTerm 2 + Oh My Zsh）\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.mobibrw.com/2019/20007\"\u003e解决macOS Mojave(10.14.6) SSH连接断开问题\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e",
  "Date": "2020-03-03T06:55:54Z",
  "Author": "J. F"
}