{
  "Source": "blog.zzbd.org",
  "Title": "openwrt下全手动百度云客户端",
  "Link": "https://blog.zzbd.org/2015/12/05/openwrt-with-baidu/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003cp\u003e名校就是不一样，校园网居然按流量收费，而且每月还有上限！所以想下电影只能在出租房用一两百K的小水管慢慢挤了;( 可平时也就回去睡个觉，根本没机会下载啊摔。所以顺理成章的开始折腾我的720N~。所以就有了\u003cstrong\u003eopenwrt无人值守下载百度云\u003c/strong\u003e。\u003c/p\u003e\u003ch4 id=\"配置openwrt\"\u003e\u003ca href=\"#配置openwrt\" class=\"headerlink\" title=\"配置openwrt\"\u003e\u003c/a\u003e配置openwrt\u003c/h4\u003e\u003cp\u003e首先下好aria2，修改防火墙规则（wan入站改为accept），使用命令测试\u003cspan id=\"more\"\u003e\u003c/span\u003e\u003c/p\u003e\u003cfigure class=\"highlight jboss-cli\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003earia2c \u003cspan class=\"params\"\u003e--enable-rpc\u003c/span\u003e \u003cspan class=\"params\"\u003e--rpc-listen-all=true\u003c/span\u003e \u003cspan class=\"params\"\u003e--rpc-allow-origin-all\u003c/span\u003e -c\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e如果没有报错并且前端可以连接的话可以测试下下载文件\u003c/p\u003e\u003cfigure class=\"highlight awk\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003earia2c --check-certificate=false https:\u003cspan class=\"regexp\"\u003e//\u003c/span\u003edownloads.openwrt.org\u003cspan class=\"regexp\"\u003e/snapshots/\u003c/span\u003etrunk\u003cspan class=\"regexp\"\u003e/ar71xx/g\u003c/span\u003eeneric\u003cspan class=\"regexp\"\u003e/packages/\u003c/span\u003ebase/Packages\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e当然，可以参考\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://blog.binux.me/2012/12/aria2-examples/\"\u003ebinux\u003c/a\u003e大神的建议写个配置文件并且开机启动。但是我觉得这并不能省多少事（实际上已经够折腾了orz），此外可能会导致更多的问题，所以还是老老实实手动挡吧！其实也很简单，复制第一条命令加上**\u003ccode\u003e-D\u003c/code\u003e**参数。aria2的前端我建议用\u003ccode\u003ewebui-aria2\u003c/code\u003e，因为\u003ccode\u003eYAAW\u003c/code\u003e对手机不友好且不稳定。\u003ca href=\"webui-aria2.ghostry.cn\"\u003e这里\u003c/a\u003e有热心网友翻译并托管的版本。\u003cbr/\u003e到这里已经可以像迅雷一样下载文件了，缺少的仅仅是一个http协议的下载链接。所以下一步就是\u003c/p\u003e\u003ch4 id=\"获取百度云真实链接\"\u003e\u003ca href=\"#获取百度云真实链接\" class=\"headerlink\" title=\"获取百度云真实链接\"\u003e\u003c/a\u003e获取百度云真实链接\u003c/h4\u003e\u003cp\u003e当然，直接用浏览器试探下载然后复制链接是最快的，但我用的UC浏览器并不能正常下载视频，而只能缓存（实在脑残设计啊有木有）。同时，百度似乎能侦测移动端，即使修改userAgent还是会强迫你先下载app。所以要请出\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/banbanchs/pan-baidu-download\"\u003epan-baidu-download\u003c/a\u003e，基于python的百度云下载脚本。我只需要它解析链接并传递给aria2的功能。\u003c/p\u003e\u003c/div\u003e",
  "Date": "2015-12-05T13:30:13Z",
  "Author": "J. F"
}