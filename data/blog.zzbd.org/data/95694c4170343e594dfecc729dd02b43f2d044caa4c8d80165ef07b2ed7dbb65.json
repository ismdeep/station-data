{
  "Source": "blog.zzbd.org",
  "Title": "ç®€æ˜“web terminalè§£å†³æ–¹æ¡ˆ",
  "Link": "https://blog.zzbd.org/2020/03/13/ttyd/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003cp\u003eä¸ºäº†æ–¹ä¾¿æœ€å¿«é€Ÿåº¦æ‰“å¼€è¿œç¨‹è¿æ¥ï¼Œæµè§ˆå™¨æ˜¯ä¸ªä¸é”™çš„ç»ˆç«¯è½½ä½“ã€‚åœ¨githubä¸Šçœ‹åˆ°ttydé¡¹ç›®ï¼Œéº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ï¼Œç¬¦åˆweb terminalçš„éœ€æ±‚ï¼Œçˆ±äº†çˆ±äº†ã€‚å¦å¤–ï¼Œä½œè€…ä¼¼ä¹è¿˜æ˜¯MCç©å®¶ï¼ŒæŠ˜è…¾è¿‡æ ‘è“æ´¾ï¼Œç®€ç›´å¶åƒæœ‰æœ¨æœ‰ğŸ˜˜\u003c/p\u003e\u003cspan id=\"more\"\u003e\u003c/span\u003e\u003cp\u003eé¦–å…ˆå®‰è£…å¿…è¦ä¾èµ–\u003c/p\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e æŒ‰éœ€å®‰è£…å‰ç½®ä¾èµ–\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo apt-get install build-essential cmake git libjson-c-dev\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e å®‰è£…libwebsocketsä¾èµ–åŒ…\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo apt install libuv1-dev\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e æ£€æŸ¥libwebsocketsç‰ˆæœ¬ï¼Œéœ€è¦\u0026gt;2.1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo apt-cache show libwebsockets-dev\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta\"\u003e#\u003c/span\u003e\u003cspan class=\"bash\"\u003e æ‰‹åŠ¨å®‰è£…ï¼Œä»https://github.com/warmcat/libwebsockets/releasesä¸‹è½½2.1.1ç‰ˆæœ¬\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eunzip libwebsockets-2.1.1.zip \u0026amp;\u0026amp; cd libwebsockets-2.1.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emkdir build \u0026amp;\u0026amp; cd build\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecmake .. -DLWS_WITH_LIBUV=ON\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emake\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo make install\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo ldconfig\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003eä»\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/tsl0922/ttyd\"\u003eå®˜æ–¹ä»“åº“\u003c/a\u003eå…‹éš†åˆ°æœ¬åœ°ï¼Œå»ºè®®ç¼–è¯‘å®‰è£…ï¼Œé»˜è®¤å®‰è£…åˆ°\u003ccode\u003e/usr/local/bin\u003c/code\u003eï¼Œä½¿ç”¨\u003ccode\u003ettyd -h\u003c/code\u003eæŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚å› ä¸ºæ˜¯æ˜æ–‡ä¼ è¾“å¯†ç ï¼Œæ‰€ä»¥ä¸å»ºè®®Basic Authenticationæ–¹å¼åšé‰´æƒï¼Œè¦ä¹ˆåŸŸåå¼ºåˆ¶httpsï¼Œè¦ä¹ˆsslè®¤è¯æ–¹å¼ã€‚ttydè¿˜æä¾›å¾ˆå¤šä½¿ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚æ¥å—é“¾æ¥å‚æ•°ã€sslä¼ è¾“ç­‰ç­‰ã€‚\u003c/p\u003e\u003ch3 id=\"ä»¥éRootèº«ä»½è¿è¡Œ\"\u003e\u003ca href=\"#ä»¥éRootèº«ä»½è¿è¡Œ\" class=\"headerlink\" title=\"ä»¥éRootèº«ä»½è¿è¡Œ\"\u003e\u003c/a\u003eä»¥éRootèº«ä»½è¿è¡Œ\u003c/h3\u003e\u003cp\u003eé¦–å…ˆå…è®¸æ™®é€šè´¦æˆ·sudo ttydæ—¶æ— éœ€è¾“å…¥å¯†ç ã€‚è¿è¡Œ\u003ccode\u003esudo visudo\u003c/code\u003eï¼Œåœ¨æœ«å°¾æ·»åŠ ä¸€è¡Œï¼ˆxxxæ˜¯å½“å‰ç”¨æˆ·åï¼‰\u003c/p\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003exxx   ALL=NOPASSWD:/usr/local/bin/ttyd\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003eç„¶å\u003ccode\u003epm2 start -x \u0026#39;sudo ttyd --max-clients 2 login -p xxx\u0026#39; -n ttyd\u003c/code\u003e å³å¯\u003c/p\u003e\u003ch3 id=\"ä»¥Rootèº«ä»½è¿è¡Œ\"\u003e\u003ca href=\"#ä»¥Rootèº«ä»½è¿è¡Œ\" class=\"headerlink\" title=\"ä»¥Rootèº«ä»½è¿è¡Œ\"\u003e\u003c/a\u003eä»¥Rootèº«ä»½è¿è¡Œ\u003c/h3\u003e\u003cp\u003eéœ€è¦ä¿®æ”¹\u003ccode\u003e/etc/securetty\u003c/code\u003eï¼Œåœ¨æœ«å°¾å¢åŠ \u003c/p\u003e\u003cfigure class=\"highlight apache\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"attribute\"\u003epts\u003c/span\u003e/\u003cspan class=\"number\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"attribute\"\u003epts\u003c/span\u003e/\u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"attribute\"\u003epts\u003c/span\u003e/\u003cspan class=\"number\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003eç„¶åè¿è¡Œ\u003ccode\u003epm2 start -x \u0026#39;ttyd --max-clients 2 login\u0026#39; -n ttyd\u003c/code\u003e\u003c/p\u003e\u003ch3 id=\"ä¸Šä¼ ä¸‹è½½æ–‡ä»¶\"\u003e\u003ca href=\"#ä¸Šä¼ ä¸‹è½½æ–‡ä»¶\" class=\"headerlink\" title=\"ä¸Šä¼ ä¸‹è½½æ–‡ä»¶\"\u003e\u003c/a\u003eä¸Šä¼ ä¸‹è½½æ–‡ä»¶\u003c/h3\u003e\u003cp\u003eç¼–è¯‘å®‰è£…lrzszï¼Œä½¿ç”¨rzä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼Œszä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ã€‚æ­¤å¤–è¿˜å¯ä»¥å®‰è£…axelï¼Œå–ä»£wgetå¤šçº¿ç¨‹ä¸‹è½½ã€‚\u003c/p\u003e\u003ch3 id=\"å‚è€ƒé“¾æ¥\"\u003e\u003ca href=\"#å‚è€ƒé“¾æ¥\" class=\"headerlink\" title=\"å‚è€ƒé“¾æ¥\"\u003e\u003c/a\u003eå‚è€ƒé“¾æ¥\u003c/h3\u003e\u003cp\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://blog.51cto.com/professor/2437216\"\u003eæ›´ä¼˜äº Shellinabox çš„ web shell å·¥å…· â€“ ttyd\u003c/a\u003e\u003cbr/\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://blog.csdn.net/ljxfblog/article/details/38396421\"\u003eLinuxä¸‹rz/szå®‰è£…åŠä½¿ç”¨æ–¹æ³•\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e",
  "Date": "2020-03-13T06:25:54Z",
  "Author": "J. F"
}