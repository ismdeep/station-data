{
  "Source": "blog.zzbd.org",
  "Title": "python包上传图片到七牛",
  "Link": "https://blog.zzbd.org/2015/05/21/qiniu-auto-py/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003cp\u003e在github上又发现一个好东西，\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/wzyuliyang/qiniu4blog\"\u003eqiniu4blog\u003c/a\u003e，自动上传图片到七牛，同时生成markdown代码。\u003cbr/\u003e按照readme一步步配置就OK，最后生成的\u003ccode\u003eimage_markdown.txt\u003c/code\u003e跟配置文件在同一目录。\u003cbr/\u003e需要注意的是，自定义网址的末尾要加上**\u003ccode\u003e/\u003c/code\u003e**。\u003cspan id=\"more\"\u003e\u003c/span\u003e\u003c/p\u003e\u003ch5 id=\"7月6日更新\"\u003e\u003ca href=\"#7月6日更新\" class=\"headerlink\" title=\"7月6日更新\"\u003e\u003c/a\u003e7月6日更新\u003c/h5\u003e\u003cp\u003e\u003ca href=\"blog.zzbd.org/2015/07/05/hexo-on-android/\"\u003e这篇\u003c/a\u003e文章里已经介绍如何在android上安装linux系统，So，我们也可以在手机上运行这个脚本啦。启动Debian并挂载sdcard，执行\u003c/p\u003e\u003cfigure class=\"highlight cmake\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003esudo apt-get \u003cspan class=\"keyword\"\u003einstall\u003c/span\u003e xclip\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epip \u003cspan class=\"keyword\"\u003einstall\u003c/span\u003e qiniu4blog\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e在手机卡上新建一个目录用来上传图片。新建一个\u003ccode\u003eimage_markdown.txt\u003c/code\u003e文件，执行\u003c/p\u003e\u003cfigure class=\"highlight nginx\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"attribute\"\u003esudo\u003c/span\u003e vi qiniu.cfg\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e配置文件如下\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e[config]\u003cbr/\u003ebucket = \u003ccode\u003exxxx\u003c/code\u003e\u003cbr/\u003eaccessKey = \u003ccode\u003exxxxx\u003c/code\u003e\u003cbr/\u003esecretKey = \u003ccode\u003exxxxx\u003c/code\u003e\u003cbr/\u003epath_to_watch = \u003ccode\u003e/mnt/sdcard0/Pictures/qiniu\u003c/code\u003e\u003cbr/\u003e[custom_url]\u003cbr/\u003eenable = true\u003cbr/\u003eaddr = \u003ccode\u003exxxxx\u003c/code\u003e.clouddn.com/\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003e然后执行\u003c/p\u003e\u003cfigure class=\"highlight awk\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"regexp\"\u003e//\u003c/span\u003e设置别名\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ealias qiniu=\u003cspan class=\"string\"\u003e\u0026#34;cd /mnt/sdcard0/Pictures/qiniu\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eqiniu\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"regexp\"\u003e//\u003c/span\u003e开始监听\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo qiniu4blog\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e回到android系统，将要上传的图片全部复制到\u003ccode\u003eqiniu\u003c/code\u003e文件夹中，程序会自动上传并保存外链到同目录下的\u003ccode\u003eimage_markdown.txt\u003c/code\u003e中。以后在上传只要ssh连到Debian上执行\u003c/p\u003e\u003cfigure class=\"highlight awk\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eqiniu\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo qiniu4blog\u0026amp;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecp xxxx.jpg \u003cspan class=\"regexp\"\u003e/mnt/\u003c/span\u003esdcard0\u003cspan class=\"regexp\"\u003e/Pictures/\u003c/span\u003eqiniu/xxxx.jpg\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e就可以上传啦。\u003c/p\u003e\u003ch5 id=\"7月8日更新\"\u003e\u003ca href=\"#7月8日更新\" class=\"headerlink\" title=\"7月8日更新\"\u003e\u003c/a\u003e7月8日更新\u003c/h5\u003e\u003cp\u003e作者增加了带参数运行的方式。可以直接\u003c/p\u003e\u003cfigure class=\"highlight gcode\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eqi\u003cspan class=\"symbol\"\u003eniu4\u003c/span\u003eblog xx.jpg\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003e这样上传啦，只是似乎不支持通配符，小小遗憾。\u003c/p\u003e\u003c/div\u003e",
  "Date": "2015-05-21T10:45:12Z",
  "Author": "J. F"
}