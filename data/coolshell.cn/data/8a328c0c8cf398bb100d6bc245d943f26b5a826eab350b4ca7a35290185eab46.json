{
  "Source": "coolshell.cn",
  "Title": "编程真难啊",
  "Link": "https://coolshell.cn/articles/1391.html",
  "Content": "\u003cdiv class=\"entry-content\"\u003e\n\u003cp\u003e\u003cscript async=\"\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3415450859608158\" crossorigin=\"anonymous\" type=\"f0ed35fe0d9e51a7aaaef5c4-text/javascript\"\u003e\u003c/script\u003e上周，在Sun的Java论坛上出现了一个这样的帖子，这个贴子的链接如下：\u003cbr/\u003e\n\u003ca href=\"http://forums.sun.com/thread.jspa?threadID=5404590\u0026amp;start=0\u0026amp;tstart=0\" target=\"_blank\"\u003ehttp://forums.sun.com/thread.jspa?threadID=5404590\u0026amp;start=0\u0026amp;tstart=0\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eLZ的贴子翻译如下：\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003e大家好，我是一个Java的新手，我有一个简单的问题：请问我怎么才能反转一个整数的符号啊。比如把-12转成+12。是的，毫无疑问这是个简单的问题，但我弄了一整天我也找不到什么好的方法。非常感谢如果你能告诉我Java有什么方法可以做到这个事，或者告诉我一个正确的方向——比如使用一些数学库或是二进制方法什么的。谢谢！\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e这个贴子的沙发给出了答案：\u003c/p\u003e\n\u003cp\u003e\u003cspan id=\"more-1391\"\u003e\u003c/span\u003e\u003c/p\u003e\n\u003cp style=\"PADDING-LEFT: 30px\"\u003en = -n;\u003c/p\u003e\n\u003cp\u003eLZ在四楼回复到：\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003e我知道是个很简单的事，可我没有想到居然这么简单，我觉得你可能是对的。谢谢你。\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e过了一会，又回复到：\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003e不开玩笑地说，我试了，真的没有问题耶！\u003c/p\u003e\u003c/blockquote\u003e\n\u003cp\u003e看到这样的贴子，就能想到国内论坛上很多这样的“问弱智问题的贴子”，结果可能都会是比较惨！是的，国外的互联网文化和国内差不多，都是恶搞的人多于热心的人，呵呵。\u003cstrong\u003e不过，国外的网民们有一点是好的，再恶搞也是就事搞事，不会有侮辱人的语言，这点真是值国内的人学习\u003c/strong\u003e。\u003c/p\u003e\n\u003cp\u003e这本是一个平淡无奇的贴子，不过回复中那些恶搞的“解决方案”太强大了，在这里例举一下吧。\u003c/p\u003e\n\u003cp\u003e贴子的板凳给出了这样的答案（这是恶搞的开始）\u003c/p\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003eint x = numberToInvertSign;\nboolean pos = x \u0026gt; 0;\nfor(int i = 0; i \u0026lt; 2*Math.abs(x); i++){\n    if(pos){\n        numberToInvertSign--;\n    }\n    else{\n        numberToInvertSign++;\n    }\n}\n\u003c/pre\u003e\n\u003cp\u003e然后，有人说，n = -n 可以是可以，但不够晦涩，于是一个晦涩的解决方案出现了：\u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003eint n = ....;\n n = (0xffffffff ^ n) + 1;\n\u003c/pre\u003e\n\u003cp\u003e然后，又出现了一些看似简单，其实是比较晦涩的方案\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u003ccode data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003en = ~n + 1; \u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\u003ccode\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003c/code\u003e\u003cp\u003e\u003ccode\u003e\u003c/code\u003e\u003ccode\u003e\u003ccode\u003e\u003ccode data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003en = ~--n; \u003c/code\u003e\u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\u003ccode\u003e\u003ccode\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003c/code\u003e\u003c/code\u003e\u003cp\u003e\u003ccode\u003e\u003ccode\u003e\u003c/code\u003e\u003c/code\u003e\u003ccode\u003e\u003ccode\u003e继续，有才的人从来就不少：\u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u003ccode\u003e\u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\u003ccode\u003e\u003ccode\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003en^= 0xffffffff;\nint m;\nfor (m= 1; m != 0 \u0026amp;\u0026amp; ((n\u0026amp;m) != 0); m\u0026lt;\u0026lt;= 1);\nn|= m;\nif (m == 0) n= m;\nelse for (m \u0026gt;\u0026gt;= 1; m != 0; n^= m, m\u0026gt;\u0026gt;=1);\n\u003c/pre\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003c/code\u003e\u003c/code\u003e\u003cp\u003e\u003ccode\u003e\u003ccode\u003e\u003c/code\u003e\u003c/code\u003e\u003ccode\u003e\u003ccode\u003e呵呵，开始越来越强大了，我以前也向大家介绍过《\u003ca rel=\"bookmark\" href=\"https://coolshell.cn/articles/933.html\"\u003e如何加密/弄乱C源代码\u003c/a\u003e》的文章，和这些恶搞的人可能有点相似吧。上面这个例子一出，大家都在讨论上面例子中的for循环语句，呵呵，很费解啊。\u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u003ccode\u003e然后，后面几个就开始乱来了：\u003c/code\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003epublic int invert(int i) {\n  return i - (i + i);\n}\u003c/pre\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003eswitch (i)\n{\n  case 1: return -1;\n  case 2: return -2;\n  case 3: return -3;\n  // ... etc, you get the proper pattern\n}\u003c/pre\u003e\n\u003cp\u003e不过事情还没有结束，看看下面这个吧，OMG。\u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003eint absoluteValue(int num)\n{\n int max = 0;\n for(int i = 0; true; ++i)\n {\n  max = i \u0026gt; max ? i : max;\n  if(i == num)\n  {\n   if(i \u0026gt;= max)\n    return i;\n   return -i;\n  }\n }\n}\u003c/pre\u003e\n\u003cp\u003e 还有用字符串的解决方案：\u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003epublic int invert(int n) {\n    String nStr = String.valueOf(n);\n \n    if (nStr.startsWith(\u0026#34;-\u0026#34;)) {\n        nStr = nStr.replace(\u0026#34;-\u0026#34;, \u0026#34;\u0026#34;);\n    } else {\n        nStr = \u0026#34;-\u0026#34; + nStr;\n    }\n \n    return Integer.parseInt(nStr);\n}\u003c/pre\u003e\n\u003cp\u003e别忘了面象对象，有最新Java支持的模板库： \u003c/p\u003e\n\u003cpre data-enlighter-language=\"java\" class=\"EnlighterJSRAW\"\u003epublic interface Negatable\u0026lt;T extends Number\u0026gt; {\n  T value();\n  T negate();\n}\n \n \n \npublic abstract class NegatableInteger implements Negatable\u0026lt;Integer\u0026gt; {\n  private final int value;\n \n  protected NegatableInteger(int value) {\n    this.value = value;\n  }\n \n  public static NegatableInteger createNegatableInteger(int value) {\n    if (value \u0026gt; 0) {\n      return new NegatablePositiveInteger(value);\n    }\n    else if (value == Integer.MIN_VALUE) {\n      throw new IllegalArgumentException(\u0026#34;cannot negate \u0026#34; + value);\n    }\n    else if (value \u0026lt; 0) {\n      return new NegatableNegativeInteger(value);\n    }\n    else {\n      return new NegatableZeroInteger(value);\n    }\n  }\n \n  public Integer value() {\n    return value;\n  }\n \n  public Integer negate() {\n    String negatedString = negateValueAsString ();\n    Integer negatedInteger = Integer.parseInt(negatedString);\n    return negatedInteger;\n  }\n \n  protected abstract String negateValueAsString ();\n}\n \n \n \npublic class NegatablePositiveInteger extends NegatableInteger {\n  public NegatablePositiveInteger(int value) {\n    super(value);\n  }\n \n  protected String negateValueAsString () {\n    String valueAsString = String.valueOf (value());\n    return \u0026#34;-\u0026#34; + valueAsString;\n  }\n}\n \n \n \npublic class NegatableNegativeInteger extends NegatableInteger {\n  public NegatableNegativeInteger (int value) {\n    super(value);\n  }\n \n  protected String negateValueAsString () {\n    String valueAsString = String.valueOf (value());\n    return valueAsString.substring(1);\n  }\n}\n \n \n \npublic class NegatableZeroInteger extends NegatableInteger {\n  public NegatableZeroInteger (int value) {\n    super(value);\n  }\n \n  protected String negateValueAsString () {\n    return String.valueOf (value());\n  }\n}\u003c/pre\u003e\n\u003cp\u003e \u003c/p\u003e\n\u003cp\u003e这个贴子基本上就是两页，好像不算太严重，如果你这样想的话，你就大错特错了。这个贴子被人转到了reddit.com，于是一发不可收拾，在上面的回贴达到了490多条。链接如下：\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.reddit.com/r/programming/comments/9egb6/programming_is_hard/\" target=\"_blank\"\u003ehttp://www.reddit.com/r/programming/comments/9egb6/programming_is_hard/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e有人说，要用try catch；有人说要使用XML配置文件……，程序员们在追逐更为变态和疯狂的东西，并从中找到快乐，呵呵。\u003c/p\u003e\n\u003cp\u003e看完后，正如reddit.com所说——“\u003cstrong\u003e编程好难啊\u003c/strong\u003e”！\u003c/p\u003e\n\u003cp\u003e无独有偶，这并不是第一次，也不会是最后一次，让我们看看在PHP的官网上发生的类似的一幕——讨论PHP的abs取绝对值函数的函数说明文档中的回复：\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://us.php.net/manual/en/function.abs.php#58508\" target=\"_blank\"\u003ehttp://us.php.net/manual/en/function.abs.php#58508\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e又是一个长贴，还带着很多性能分析，真的很好很强大！\u003c/p\u003e\n\u003cp\u003e（全文完）\u003c/p\u003e\n\u003cdiv style=\"margin-top: 15px; font-size: 16px;color: #cc0000;\"\u003e\n\u003cp align=\"center\"\u003e\u003cstrong\u003e（转载本站文章请注明作者和出处 \u003ca href=\"https://coolshell.cn/\"\u003e酷 壳 – CoolShell\u003c/a\u003e ，请勿用于任何商业用途）\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"wp_rp_wrap  wp_rp_vertical_m\" id=\"wp_rp_first\"\u003e\u003cdiv class=\"wp_rp_content\"\u003e\u003ch3 class=\"related_post_title\"\u003e相关文章\u003c/h3\u003e\u003cul class=\"related_post wp_rp\"\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/4758.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/30.jpg\" alt=\"如何写出无法维护的代码\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/4758.html\" class=\"wp_rp_title\"\u003e如何写出无法维护的代码\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/1992.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/uploads/2009/12/language-fanboys-150x150.jpg\" alt=\"程序员眼中的编程语言\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/1992.html\" class=\"wp_rp_title\"\u003e程序员眼中的编程语言\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/18360.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/uploads/2018/05/300x262-150x150.jpg\" alt=\"程序员练级攻略（2018)  与我的专栏\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/18360.html\" class=\"wp_rp_title\"\u003e程序员练级攻略（2018) 与我的专栏\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/18024.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/uploads/2017/07/api-design-300x278-2-150x150.jpg\" alt=\"API设计原则 – Qt官网的设计实践总结\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/18024.html\" class=\"wp_rp_title\"\u003eAPI设计原则 – Qt官网的设计实践总结\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/8088.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/7.jpg\" alt=\"对技术的态度\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/8088.html\" class=\"wp_rp_title\"\u003e对技术的态度\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://coolshell.cn/articles/5444.html\" class=\"wp_rp_thumbnail\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/14.jpg\" alt=\"千万不要把 bool 设计成函数参数\" width=\"150\" height=\"150\"/\u003e\u003c/a\u003e\u003ca href=\"https://coolshell.cn/articles/5444.html\" class=\"wp_rp_title\"\u003e千万不要把 bool 设计成函数参数\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv id=\"post-ratings-1391\" class=\"post-ratings\" itemscope=\"\" itemtype=\"https://schema.org/Article\" data-nonce=\"90244570fd\"\u003e\u003cimg id=\"rating_1391_1\" src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif\" alt=\"好烂啊\" title=\"好烂啊\" onmouseover=\"if (!window.__cfRLUnblockHandlers) return false; current_rating(1391, 1, \u0026#39;好烂啊\u0026#39;);\" onmouseout=\"if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.7, 5, 0);\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" onkeypress=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" style=\"cursor: pointer; border: 0px;\" data-cf-modified-f0ed35fe0d9e51a7aaaef5c4-=\"\"/\u003e\u003cimg id=\"rating_1391_2\" src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif\" alt=\"有点差\" title=\"有点差\" onmouseover=\"if (!window.__cfRLUnblockHandlers) return false; current_rating(1391, 2, \u0026#39;有点差\u0026#39;);\" onmouseout=\"if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.7, 5, 0);\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" onkeypress=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" style=\"cursor: pointer; border: 0px;\" data-cf-modified-f0ed35fe0d9e51a7aaaef5c4-=\"\"/\u003e\u003cimg id=\"rating_1391_3\" src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif\" alt=\"凑合看看\" title=\"凑合看看\" onmouseover=\"if (!window.__cfRLUnblockHandlers) return false; current_rating(1391, 3, \u0026#39;凑合看看\u0026#39;);\" onmouseout=\"if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.7, 5, 0);\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" onkeypress=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" style=\"cursor: pointer; border: 0px;\" data-cf-modified-f0ed35fe0d9e51a7aaaef5c4-=\"\"/\u003e\u003cimg id=\"rating_1391_4\" src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif\" alt=\"还不错\" title=\"还不错\" onmouseover=\"if (!window.__cfRLUnblockHandlers) return false; current_rating(1391, 4, \u0026#39;还不错\u0026#39;);\" onmouseout=\"if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.7, 5, 0);\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" onkeypress=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" style=\"cursor: pointer; border: 0px;\" data-cf-modified-f0ed35fe0d9e51a7aaaef5c4-=\"\"/\u003e\u003cimg id=\"rating_1391_5\" src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_half.gif\" alt=\"很精彩\" title=\"很精彩\" onmouseover=\"if (!window.__cfRLUnblockHandlers) return false; current_rating(1391, 5, \u0026#39;很精彩\u0026#39;);\" onmouseout=\"if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.7, 5, 0);\" onclick=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" onkeypress=\"if (!window.__cfRLUnblockHandlers) return false; rate_post();\" style=\"cursor: pointer; border: 0px;\" data-cf-modified-f0ed35fe0d9e51a7aaaef5c4-=\"\"/\u003e (\u003cstrong\u003e66\u003c/strong\u003e 人打了分，平均分： \u003cstrong\u003e4.67\u003c/strong\u003e )\u003cbr/\u003e\u003cspan class=\"post-ratings-text\" id=\"ratings_1391_text\"\u003e\u003c/span\u003e\u003cmeta itemprop=\"name\" content=\"编程真难啊\"/\u003e\u003cmeta itemprop=\"headline\" content=\"编程真难啊\"/\u003e\u003cmeta itemprop=\"description\" content=\"上周，在Sun的Java论坛上出现了一个这样的帖子，这个贴子的链接如下：\nhttp://forums.sun.com/thread.jspa?threadID=5404590\u0026amp;start=0\u0026amp;tstart=0\n\nLZ的贴子翻译如下：\n大家好，我是一个Java的新手，我有一个简单的问题：请问我怎么才能反转一个整数的符号啊。比如把-12转成+12。是的，毫无疑问这是个简单的问题，但我弄了一整天...\"/\u003e\u003cmeta itemprop=\"datePublished\" content=\"2009-09-03T22:24:57+08:00\"/\u003e\u003cmeta itemprop=\"dateModified\" content=\"2009-09-03T22:33:20+08:00\"/\u003e\u003cmeta itemprop=\"url\" content=\"https://coolshell.cn/articles/1391.html\"/\u003e\u003cmeta itemprop=\"author\" content=\"陈皓\"/\u003e\u003cmeta itemprop=\"mainEntityOfPage\" content=\"https://coolshell.cn/articles/1391.html\"/\u003e\u003cdiv style=\"display: none;\" itemprop=\"publisher\" itemscope=\"\" itemtype=\"https://schema.org/Organization\"\u003e\u003cmeta itemprop=\"name\" content=\"酷 壳 - CoolShell\"/\u003e\u003cmeta itemprop=\"url\" content=\"https://coolshell.cn\"/\u003e\u003cdiv itemprop=\"logo\" itemscope=\"\" itemtype=\"https://schema.org/ImageObject\"\u003e\u003cmeta itemprop=\"url\" content=\"\"/\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv style=\"display: none;\" itemprop=\"aggregateRating\" itemscope=\"\" itemtype=\"https://schema.org/AggregateRating\"\u003e\u003cmeta itemprop=\"bestRating\" content=\"5\"/\u003e\u003cmeta itemprop=\"worstRating\" content=\"1\"/\u003e\u003cmeta itemprop=\"ratingValue\" content=\"4.67\"/\u003e\u003cmeta itemprop=\"ratingCount\" content=\"66\"/\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv id=\"post-ratings-1391-loading\" class=\"post-ratings-loading\"\u003e\u003cimg src=\"https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif\" width=\"16\" height=\"16\" class=\"post-ratings-image\"/\u003eLoading...\u003c/div\u003e\n\u003c/div\u003e",
  "Date": "2009-09-03T22:24:57+08:00",
  "Author": "陈皓"
}