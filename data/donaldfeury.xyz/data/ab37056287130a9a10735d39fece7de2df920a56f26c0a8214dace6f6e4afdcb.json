{
  "Source": "donaldfeury.xyz",
  "Title": "Add a Subscription Animation with FFmpeg",
  "Link": "https://donaldfeury.xyz/add-a-subscription-animation-with-ffmpeg/",
  "Content": "\u003csection class=\"gh-content gh-canvas\"\u003e\n        \u003cp\u003eThis one was a doozy to figure out but I finally managed to overlay a little subscribe animation over my main videos.\u003c/p\u003e\u003cp\u003eNormally I would explain it but it\u0026#39;s pretty long-winded so if you want the full explanation, please watch the video.\u003c/p\u003e\u003cfigure class=\"kg-card kg-embed-card\"\u003e\u003ciframe width=\"200\" height=\"113\" src=\"https://www.youtube.com/embed/jIcVut4k6zc?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"\u003e\u003c/iframe\u003e\u003c/figure\u003e\u003cp\u003eThe short answer is, it\u0026#39;s using a complex filter graph to offset the timestamps on the frames of the sub animation and delay its audio so they play over the main video when I wanted them to.\u003c/p\u003e\u003cp\u003eThe command is as follows:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-sh\"\u003e#!/usr/bin/env sh\n\nIN=$1\nOVER=$2\nOUT=$3\nSTART=$4\nMILLI=${START}000\n\nffmpeg -i $IN -filter_complex \\\n\u0026#34;[0:v]setpts=PTS-STARTPTS[v0];\nmovie=$OVER:s=dv+da[overv][overa];\n[overv]setpts=PTS-STARTPTS+$START/TB[v1];\n[v0][v1]overlay=-600:0:eof_action=pass[out1];\n[overa]adelay=$MILLI|$MILLI,volume=0.5[a1];\n[0:a:0][0:a:1][a1]amix=inputs=3:duration=longest:dropout_transition=0:weights=3 3 1[outa]\u0026#34; \\\n-map \u0026#34;[out1]\u0026#34; -map \u0026#34;[outa]\u0026#34; $OUT\n\u003c/code\u003e\u003c/pre\u003e\u003chr/\u003e\u003cp\u003eDid you find this information useful? If so, consider heading over to my \u003ca href=\"https://donaldfeury.xyz/donate/\"\u003edonation\u003c/a\u003e page and drop me some support.\u003c/p\u003e\u003cp\u003eWant to ask a question or just chat? Contact me \u003ca href=\"https://donaldfeury.xyz/contact\"\u003ehere\u003c/a\u003e\u003c/p\u003e\n    \u003c/section\u003e",
  "Date": "2021-06-27T01:32:20Z",
  "Author": "Donald Feury"
}