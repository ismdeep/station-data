{
  "Source": "dunwu",
  "Title": "HBase 命令",
  "Link": "https://dunwu.github.io/blog/pages/263c40/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"HBase-命令\"\u003e\u003ca href=\"#HBase-命令\" class=\"headerlink\" title=\"HBase 命令\"\u003e\u003c/a\u003eHBase 命令\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003e进入 HBase Shell 控制台：\u003ccode\u003e./bin/hbase shell\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e如果有 kerberos 认证，需要事先使用相应的 keytab 进行一下认证（使用 kinit 命令），认证成功之后再使用 hbase shell 进入可以使用 whoami 命令可查看当前用户.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"基本命令\"\u003e\u003ca href=\"#基本命令\" class=\"headerlink\" title=\"基本命令\"\u003e\u003c/a\u003e基本命令\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e获取帮助信息：\u003ccode\u003ehelp\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e获取命令的详细帮助信息：\u003ccode\u003ehelp \u0026#39;status\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e查看服务器状态：\u003ccode\u003estatus\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e查看版本信息：\u003ccode\u003eversion\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e查看当前登录用户：\u003ccode\u003ewhoami\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"DDL\"\u003e\u003ca href=\"#DDL\" class=\"headerlink\" title=\"DDL\"\u003e\u003c/a\u003eDDL\u003c/h2\u003e\u003ch3 id=\"创建表\"\u003e\u003ca href=\"#创建表\" class=\"headerlink\" title=\"创建表\"\u003e\u003c/a\u003e创建表\u003c/h3\u003e\u003cp\u003e【语法】\u003ccode\u003ecreate \u0026#39;表名称\u0026#39;,\u0026#39;列族名称 1\u0026#39;,\u0026#39;列族名称 2\u0026#39;,\u0026#39;列名称 N\u0026#39;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e【示例】\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e创建一张名为 \u003cspan class=\"built_in\"\u003etest\u003c/span\u003e 的表，columnFamliy1、columnFamliy2 是 table1 表的列族。\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecreate \u0026#39;test\u0026#39;,\u0026#39;columnFamliy1\u0026#39;,\u0026#39;columnFamliy2\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"启用、禁用表\"\u003e\u003ca href=\"#启用、禁用表\" class=\"headerlink\" title=\"启用、禁用表\"\u003e\u003c/a\u003e启用、禁用表\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e启用表：\u003ccode\u003eenable \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e禁用表：\u003ccode\u003edisable \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e检查表是否被启用：\u003ccode\u003eis_enabled \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e检查表是否被禁用：\u003ccode\u003eis_disabled \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"删除表\"\u003e\u003ca href=\"#删除表\" class=\"headerlink\" title=\"删除表\"\u003e\u003c/a\u003e删除表\u003c/h3\u003e\u003cp\u003e注意：删除表前需要先禁用表\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edisable \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edrop \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"修改表\"\u003e\u003ca href=\"#修改表\" class=\"headerlink\" title=\"修改表\"\u003e\u003c/a\u003e修改表\u003c/h3\u003e\u003ch4 id=\"添加列族\"\u003e\u003ca href=\"#添加列族\" class=\"headerlink\" title=\"添加列族\"\u003e\u003c/a\u003e添加列族\u003c/h4\u003e\u003cp\u003e\u003cstrong\u003e命令格式\u003c/strong\u003e： alter ‘表名’, ‘列族名’\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ealter \u0026#39;test\u0026#39;, \u0026#39;teacherInfo\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"删除列族\"\u003e\u003ca href=\"#删除列族\" class=\"headerlink\" title=\"删除列族\"\u003e\u003c/a\u003e删除列族\u003c/h4\u003e\u003cp\u003e\u003cstrong\u003e命令格式\u003c/strong\u003e：alter ‘表名’, {NAME =\u0026gt; ‘列族名’, METHOD =\u0026gt; ‘delete’}\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ealter \u0026#39;test\u0026#39;, {NAME =\u0026gt; \u0026#39;teacherInfo\u0026#39;, METHOD =\u0026gt; \u0026#39;delete\u0026#39;}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"更改列族存储版本的限制\"\u003e\u003ca href=\"#更改列族存储版本的限制\" class=\"headerlink\" title=\"更改列族存储版本的限制\"\u003e\u003c/a\u003e更改列族存储版本的限制\u003c/h4\u003e\u003cp\u003e默认情况下，列族只存储一个版本的数据，如果需要存储多个版本的数据，则需要修改列族的属性。修改后可通过 \u003ccode\u003edesc\u003c/code\u003e 命令查看。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ealter \u0026#39;test\u0026#39;,{NAME=\u0026gt;\u0026#39;columnFamliy1\u0026#39;,VERSIONS=\u0026gt;3}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"查看表\"\u003e\u003ca href=\"#查看表\" class=\"headerlink\" title=\"查看表\"\u003e\u003c/a\u003e查看表\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e查看所有表：\u003ccode\u003elist\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e查看表的详细信息：\u003ccode\u003edescribe \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e检查表是否存在：\u003ccode\u003eexists \u0026#39;test\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"增删改\"\u003e\u003ca href=\"#增删改\" class=\"headerlink\" title=\"增删改\"\u003e\u003c/a\u003e增删改\u003c/h2\u003e\u003ch3 id=\"插入数据\"\u003e\u003ca href=\"#插入数据\" class=\"headerlink\" title=\"插入数据\"\u003e\u003c/a\u003e插入数据\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e命令格式\u003c/strong\u003e：\u003ccode\u003eput \u0026#39;表名\u0026#39;, \u0026#39;行键\u0026#39;,\u0026#39;列族:列\u0026#39;,\u0026#39;值\u0026#39;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e注意：如果新增数据的行键值、列族名、列名与原有数据完全相同，则相当于更新操作\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy1:a\u0026#39;, \u0026#39;valueA\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy1:b\u0026#39;, \u0026#39;valueB\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy1:c\u0026#39;, \u0026#39;valueC\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey2\u0026#39;, \u0026#39;columnFamliy1:a\u0026#39;, \u0026#39;valueA\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey2\u0026#39;, \u0026#39;columnFamliy1:b\u0026#39;, \u0026#39;valueB\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey2\u0026#39;, \u0026#39;columnFamliy1:c\u0026#39;, \u0026#39;valueC\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey3\u0026#39;, \u0026#39;columnFamliy1:a\u0026#39;, \u0026#39;valueA\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey3\u0026#39;, \u0026#39;columnFamliy1:b\u0026#39;, \u0026#39;valueB\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey3\u0026#39;, \u0026#39;columnFamliy1:c\u0026#39;, \u0026#39;valueC\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy2:a\u0026#39;, \u0026#39;valueA\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy2:b\u0026#39;, \u0026#39;valueB\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eput \u0026#39;test\u0026#39;, \u0026#39;rowkey1\u0026#39;, \u0026#39;columnFamliy2:c\u0026#39;, \u0026#39;valueC\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"获取指定行、列族、列\"\u003e\u003ca href=\"#获取指定行、列族、列\" class=\"headerlink\" title=\"获取指定行、列族、列\"\u003e\u003c/a\u003e获取指定行、列族、列\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e获取指定行中所有列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e获取指定行中指定列族下所有列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;,\u0026#39;columnFamliy1\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e获取指定行中指定列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;,\u0026#39;columnFamliy1:a\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"删除指定行、列\"\u003e\u003ca href=\"#删除指定行、列\" class=\"headerlink\" title=\"删除指定行、列\"\u003e\u003c/a\u003e删除指定行、列\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e删除指定行：\u003ccode\u003edelete \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e删除指定行中指定列的数据：\u003ccode\u003edelete \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;,\u0026#39;columnFamliy1:a\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"查询\"\u003e\u003ca href=\"#查询\" class=\"headerlink\" title=\"查询\"\u003e\u003c/a\u003e查询\u003c/h2\u003e\u003cp\u003ehbase 中访问数据有两种基本的方式：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e按指定 rowkey 获取数据：\u003ccode\u003eget\u003c/code\u003e 方法；\u003c/li\u003e\n\u003cli\u003e按指定条件获取数据：\u003ccode\u003escan\u003c/code\u003e 方法。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003escan\u003c/code\u003e 可以设置 begin 和 end 参数来访问一个范围内所有的数据。get 本质上就是 begin 和 end 相等的一种特殊的 scan。\u003c/p\u003e\n\u003ch3 id=\"get-查询\"\u003e\u003ca href=\"#get-查询\" class=\"headerlink\" title=\"get 查询\"\u003e\u003c/a\u003eget 查询\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e获取指定行中所有列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e获取指定行中指定列族下所有列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;,\u0026#39;columnFamliy1\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e获取指定行中指定列的数据信息：\u003ccode\u003eget \u0026#39;test\u0026#39;,\u0026#39;rowkey2\u0026#39;,\u0026#39;columnFamliy1:a\u0026#39;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"scan-查询\"\u003e\u003ca href=\"#scan-查询\" class=\"headerlink\" title=\"scan 查询\"\u003e\u003c/a\u003escan 查询\u003c/h3\u003e\u003ch4 id=\"查询整表数据\"\u003e\u003ca href=\"#查询整表数据\" class=\"headerlink\" title=\"查询整表数据\"\u003e\u003c/a\u003e查询整表数据\u003c/h4\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"查询指定列簇的数据\"\u003e\u003ca href=\"#查询指定列簇的数据\" class=\"headerlink\" title=\"查询指定列簇的数据\"\u003e\u003c/a\u003e查询指定列簇的数据\u003c/h4\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, {COLUMN=\u0026gt;\u0026#39;columnFamliy1\u0026#39;}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"条件查询\"\u003e\u003ca href=\"#条件查询\" class=\"headerlink\" title=\"条件查询\"\u003e\u003c/a\u003e条件查询\u003c/h4\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e查询指定列的数据\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, {COLUMNS=\u0026gt; \u0026#39;columnFamliy1:a\u0026#39;}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e除了列 \u003ccode\u003e（COLUMNS）\u003c/code\u003e 修饰词外，HBase 还支持 \u003ccode\u003eLimit\u003c/code\u003e（限制查询结果行数），\u003ccode\u003eSTARTROW\u003c/code\u003e（\u003ccode\u003eROWKEY\u003c/code\u003e 起始行，会先根据这个 \u003ccode\u003ekey\u003c/code\u003e 定位到 \u003ccode\u003eregion\u003c/code\u003e，再向后扫描）、\u003ccode\u003eSTOPROW\u003c/code\u003e(结束行)、\u003ccode\u003eTIMERANGE\u003c/code\u003e（限定时间戳范围）、\u003ccode\u003eVERSIONS\u003c/code\u003e（版本数）、和 \u003ccode\u003eFILTER\u003c/code\u003e（按条件过滤行）等。\u003c/p\u003e\n\u003cp\u003e如下代表从 \u003ccode\u003erowkey2\u003c/code\u003e 这个 \u003ccode\u003erowkey\u003c/code\u003e 开始，查找下两个行的最新 3 个版本的 name 列的数据：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, {COLUMNS=\u0026gt; \u0026#39;columnFamliy1:a\u0026#39;,STARTROW =\u0026gt; \u0026#39;rowkey2\u0026#39;,STOPROW =\u0026gt; \u0026#39;rowkey3\u0026#39;,LIMIT=\u0026gt;2, VERSIONS=\u0026gt;3}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"条件过滤\"\u003e\u003ca href=\"#条件过滤\" class=\"headerlink\" title=\"条件过滤\"\u003e\u003c/a\u003e条件过滤\u003c/h4\u003e\u003cp\u003eFilter 可以设定一系列条件来进行过滤。如我们要查询值等于 24 的所有数据：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, FILTER=\u0026gt;\u0026#34;ValueFilter(=,\u0026#39;binary:24\u0026#39;)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e值包含 valueA 的所有数据：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, FILTER=\u0026gt;\u0026#34;ValueFilter(=,\u0026#39;substring:valueA\u0026#39;)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e列名中的前缀为 b 的：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, FILTER=\u0026gt;\u0026#34;ColumnPrefixFilter(\u0026#39;b\u0026#39;)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eFILTER 中支持多个过滤条件通过括号、AND 和 OR 进行组合：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e列名中的前缀为 b 且列值中包含1998的数据\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, FILTER=\u0026gt;\u0026#34;ColumnPrefixFilter(\u0026#39;b\u0026#39;) AND ValueFilter ValueFilter(=,\u0026#39;substring:A\u0026#39;)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003ccode\u003ePrefixFilter\u003c/code\u003e 用于对 Rowkey 的前缀进行判断：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003escan \u0026#39;test\u0026#39;, FILTER=\u0026gt;\u0026#34;PrefixFilter(\u0026#39;wr\u0026#39;)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"参考资料\"\u003e\u003ca href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"\u003e\u003c/a\u003e参考资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/heibaiying/BigData-Notes/blob/master/notes/Hbase_Shell.md\"\u003eHbase 常用 Shell 命令\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2020-06-02T14:28:18Z",
  "Author": "钝悟 ◾ Dunwu"
}