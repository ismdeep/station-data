{
  "Source": "dunwu",
  "Title": "《HBase A NoSQL database》笔记",
  "Link": "https://dunwu.github.io/blog/pages/b2f10e/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"《HBase-A-NoSQL-database》笔记\"\u003e\u003ca href=\"#《HBase-A-NoSQL-database》笔记\" class=\"headerlink\" title=\"《HBase: A NoSQL database》笔记\"\u003e\u003c/a\u003e《HBase: A NoSQL database》笔记\u003c/h1\u003e\u003ch2 id=\"简介\"\u003e\u003ca href=\"#简介\" class=\"headerlink\" title=\"简介\"\u003e\u003c/a\u003e简介\u003c/h2\u003e\u003cp\u003eHBase 是一种 NoSQL 数据库，它是Java版本的 Google’s Big Table 实现，它原本是 Hadoop 的子项目，现在已独立出来，并成为 apache 的顶级项目。\u003c/p\u003e\n\u003cp\u003eHBase 的设计目标是用于存储大规模数据集。HBase 是列式数据库，与传统行式数据库相比，其非常适合用于存储稀疏性的数据。\u003c/p\u003e\n\u003cp\u003eHBase 是基于 HDFS 实现的。\u003c/p\u003e\n\u003ch2 id=\"HBase-和历史\"\u003e\u003ca href=\"#HBase-和历史\" class=\"headerlink\" title=\"HBase 和历史\"\u003e\u003c/a\u003eHBase 和历史\u003c/h2\u003e\u003cp\u003eHBase 关键特性：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e水平扩展\u003c/li\u003e\n\u003cli\u003e分区容错性\u003c/li\u003e\n\u003cli\u003e支持并行处理\u003c/li\u003e\n\u003cli\u003e支持 HDFS 和 MapReduce\u003c/li\u003e\n\u003cli\u003e近实时查询\u003c/li\u003e\n\u003cli\u003e适用于存储大规模数据集\u003c/li\u003e\n\u003cli\u003e适用于存储稀疏型数据（宽表）\u003c/li\u003e\n\u003cli\u003e表的动态负载均衡\u003c/li\u003e\n\u003cli\u003e对于大规模的查询，支持块缓存和布隆过滤器\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eHBase 发展历史\u003c/p\u003e\n\u003cp\u003e2007 - Mike Cafarella 发布 BigTable 的开源实现——HBase\u003c/p\u003e\n\u003cp\u003e2008 ~ 2010 - HBase 成为 Apache 顶级项目。\u003c/p\u003e\n\u003ch2 id=\"HBase-数据结构和架构\"\u003e\u003ca href=\"#HBase-数据结构和架构\" class=\"headerlink\" title=\"HBase 数据结构和架构\"\u003e\u003c/a\u003eHBase 数据结构和架构\u003c/h2\u003e\u003cp\u003eHBase 表可以用于 MapReduce 任务的输入、输出对象。\u003c/p\u003e\n\u003cp\u003eHBase 由行、列族、列、时间戳组成。\u003c/p\u003e\n\u003cp\u003eHBase 表会被分成多个分区，每个分区会定义起始key、结束key。它们被存于 HDFS 文件中。\u003c/p\u003e\n\u003cp\u003eHBase 的架构通常为一个 master server，多个 region server，以及 ZooKeeper 集群。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003emaster server\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e在 ZooKeeper 的帮助下，为分区分配 region server，控制 region server 的负载均衡。\u003c/li\u003e\n\u003cli\u003e负责 schema 的变更\u003c/li\u003e\n\u003cli\u003e管理和监控 Hadoop 集群\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eregion server\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003eregion server 负责处理来自客户端的 CRUD 操作\u003c/li\u003e\n\u003cli\u003eregion server 包括内存存储和 HFile\u003c/li\u003e\n\u003cli\u003eregion server 运行在 HDFS 的数据节点上\u003c/li\u003e\n\u003cli\u003eregion server 有四个核心组件：Block cache（读缓存）、MemStore（写缓存）、WAL、HFile（存储行数据，键值对结构）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eZookeeper\u003cul\u003e\n\u003cli\u003e当 region server 宕机并重新工作时，HBase 会使用 ZooKeeper 作为协调工具，对其进行恢复\u003c/li\u003e\n\u003cli\u003eZookeeper 是客户端和 master server 的中心，它维护着 master server 和 region server 注册的元数据信息。例如：有多少有效的 region server；任意 region server 持有哪些 data node\u003c/li\u003e\n\u003cli\u003eZooKeeper 可以用于追踪服务器错误\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"HBase-和大数据\"\u003e\u003ca href=\"#HBase-和大数据\" class=\"headerlink\" title=\"HBase 和大数据\"\u003e\u003c/a\u003eHBase 和大数据\u003c/h2\u003e\u003cp\u003eHBase 相比于其他 NoSQL，最显著的优势在于，它属于 Hadoop 生态体系中的重要一环，被广泛用于大数据领域。但是，近些年，有 MongoDB、Cassandra 等一些数据库挑战着其地位。\u003c/p\u003e\n\u003ch2 id=\"HBase-的应用\"\u003e\u003ca href=\"#HBase-的应用\" class=\"headerlink\" title=\"HBase 的应用\"\u003e\u003c/a\u003eHBase 的应用\u003c/h2\u003e\u003cp\u003eFacebook 的消息平台使用 HBase 存储数据，每月产生约 13.5 亿条信息。\u003c/p\u003e\n\u003cp\u003eHBase 还被用于存储各种海量操作数据。\u003c/p\u003e\n\u003ch2 id=\"HBase-的挑战和限制\"\u003e\u003ca href=\"#HBase-的挑战和限制\" class=\"headerlink\" title=\"HBase 的挑战和限制\"\u003e\u003c/a\u003eHBase 的挑战和限制\u003c/h2\u003e\u003cp\u003eHBase 采用主从架构，一旦 master server 不可用，需要很长时间才能恢复。\u003c/p\u003e\n\u003cp\u003eHBase 不支持二级索引。\u003c/p\u003e\n\u003ch2 id=\"参考资料\"\u003e\u003ca href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"\u003e\u003c/a\u003e参考资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.researchgate.net/publication/317399857_HBase_A_NoSQL_Database\"\u003eHBase: A NoSQL Database\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2023-09-05T11:52:01Z",
  "Author": "钝悟 ◾ Dunwu"
}