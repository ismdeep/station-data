{
  "Source": "dunwu",
  "Title": "Hive 常用 DDL 操作",
  "Link": "https://dunwu.github.io/blog/pages/229daa/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"Hive-常用-DDL-操作\"\u003e\u003ca href=\"#Hive-常用-DDL-操作\" class=\"headerlink\" title=\"Hive 常用 DDL 操作\"\u003e\u003c/a\u003eHive 常用 DDL 操作\u003c/h1\u003e\u003ch2 id=\"Database\"\u003e\u003ca href=\"#Database\" class=\"headerlink\" title=\"Database\"\u003e\u003c/a\u003eDatabase\u003c/h2\u003e\u003ch3 id=\"查看数据列表\"\u003e\u003ca href=\"#查看数据列表\" class=\"headerlink\" title=\"查看数据列表\"\u003e\u003c/a\u003e查看数据列表\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eshow\u003c/span\u003e databases;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"使用数据库\"\u003e\u003ca href=\"#使用数据库\" class=\"headerlink\" title=\"使用数据库\"\u003e\u003c/a\u003e使用数据库\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eUSE database_name;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"新建数据库\"\u003e\u003ca href=\"#新建数据库\" class=\"headerlink\" title=\"新建数据库\"\u003e\u003c/a\u003e新建数据库\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e (DATABASE\u003cspan class=\"operator\"\u003e|\u003c/span\u003eSCHEMA) [IF \u003cspan class=\"keyword\"\u003eNOT\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e] database_name   \u003cspan class=\"comment\"\u003e--DATABASE|SCHEMA 是等价的\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [COMMENT database_comment] \u003cspan class=\"comment\"\u003e--数据库注释\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [LOCATION hdfs_path] \u003cspan class=\"comment\"\u003e--存储在 HDFS 上的位置\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [\u003cspan class=\"keyword\"\u003eWITH\u003c/span\u003e DBPROPERTIES (property_name\u003cspan class=\"operator\"\u003e=\u003c/span\u003eproperty_value, ...)]; \u003cspan class=\"comment\"\u003e--指定额外属性\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e DATABASE IF \u003cspan class=\"keyword\"\u003eNOT\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e hive_test\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  COMMENT \u003cspan class=\"string\"\u003e\u0026#39;hive database for test\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"keyword\"\u003eWITH\u003c/span\u003e DBPROPERTIES (\u003cspan class=\"string\"\u003e\u0026#39;create\u0026#39;\u003c/span\u003e\u003cspan class=\"operator\"\u003e=\u003c/span\u003e\u003cspan class=\"string\"\u003e\u0026#39;heibaiying\u0026#39;\u003c/span\u003e);\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"查看数据库信息\"\u003e\u003ca href=\"#查看数据库信息\" class=\"headerlink\" title=\"查看数据库信息\"\u003e\u003c/a\u003e查看数据库信息\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDESC\u003c/span\u003e DATABASE [EXTENDED] db_name; \u003cspan class=\"comment\"\u003e--EXTENDED 表示是否显示额外属性\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDESC\u003c/span\u003e DATABASE  EXTENDED hive_test;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除数据库\"\u003e\u003ca href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"\u003e\u003c/a\u003e删除数据库\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDROP\u003c/span\u003e (DATABASE\u003cspan class=\"operator\"\u003e|\u003c/span\u003eSCHEMA) [IF \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e] database_name [RESTRICT\u003cspan class=\"operator\"\u003e|\u003c/span\u003eCASCADE];\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cul\u003e\n\u003cli\u003e默认行为是 \u003ccode\u003eRESTRICT\u003c/code\u003e，如果数据库中存在表则删除失败。\u003c/li\u003e\n\u003cli\u003e要想删除库及其中的表，可以使用 \u003ccode\u003eCASCADE\u003c/code\u003e 级联删除。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDROP\u003c/span\u003e DATABASE IF \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e hive_test CASCADE;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"创建表\"\u003e\u003ca href=\"#创建表\" class=\"headerlink\" title=\"创建表\"\u003e\u003c/a\u003e创建表\u003c/h2\u003e\u003ch3 id=\"建表语法\"\u003e\u003ca href=\"#建表语法\" class=\"headerlink\" title=\"建表语法\"\u003e\u003c/a\u003e建表语法\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e [TEMPORARY] [\u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e] \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e [IF \u003cspan class=\"keyword\"\u003eNOT\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e] [db_name.]table_name     \u003cspan class=\"comment\"\u003e--表名\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [(col_name data_type [COMMENT col_comment],\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    ... [constraint_specification])]  \u003cspan class=\"comment\"\u003e--列名 列数据类型\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [COMMENT table_comment]   \u003cspan class=\"comment\"\u003e--表描述\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [PARTITIONED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (col_name data_type [COMMENT col_comment], ...)]  \u003cspan class=\"comment\"\u003e--分区表分区规则\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    CLUSTERED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (col_name, col_name, ...)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   [SORTED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (col_name [\u003cspan class=\"keyword\"\u003eASC\u003c/span\u003e\u003cspan class=\"operator\"\u003e|\u003c/span\u003e\u003cspan class=\"keyword\"\u003eDESC\u003c/span\u003e], ...)] \u003cspan class=\"keyword\"\u003eINTO\u003c/span\u003e num_buckets BUCKETS\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ]  \u003cspan class=\"comment\"\u003e--分桶表分桶规则\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [SKEWED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (col_name, col_name, ...) \u003cspan class=\"keyword\"\u003eON\u003c/span\u003e ((col_value, col_value, ...), (col_value, col_value, ...), ...)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   [STORED \u003cspan class=\"keyword\"\u003eAS\u003c/span\u003e DIRECTORIES]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ]  \u003cspan class=\"comment\"\u003e--指定倾斜列和值\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   [\u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT row_format]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   [STORED \u003cspan class=\"keyword\"\u003eAS\u003c/span\u003e file_format]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e     \u003cspan class=\"operator\"\u003e|\u003c/span\u003e STORED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#39;storage.handler.class.name\u0026#39;\u003c/span\u003e [\u003cspan class=\"keyword\"\u003eWITH\u003c/span\u003e SERDEPROPERTIES (...)]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ]  \u003cspan class=\"comment\"\u003e-- 指定行分隔符、存储文件格式或采用自定义存储格式\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [LOCATION hdfs_path]  \u003cspan class=\"comment\"\u003e-- 指定表的存储位置\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [TBLPROPERTIES (property_name\u003cspan class=\"operator\"\u003e=\u003c/span\u003eproperty_value, ...)]  \u003cspan class=\"comment\"\u003e--指定表的属性\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [\u003cspan class=\"keyword\"\u003eAS\u003c/span\u003e select_statement];   \u003cspan class=\"comment\"\u003e--从查询结果创建表\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"内部表\"\u003e\u003ca href=\"#内部表\" class=\"headerlink\" title=\"内部表\"\u003e\u003c/a\u003e内部表\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  deptno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"外部表\"\u003e\u003ca href=\"#外部表\" class=\"headerlink\" title=\"外部表\"\u003e\u003c/a\u003e外部表\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_external(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  deptno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  LOCATION \u003cspan class=\"string\"\u003e\u0026#39;/hive/emp_external\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e使用 \u003ccode\u003edesc format emp_external\u003c/code\u003e 命令可以查看表的详细信息如下：\u003c/p\u003e\n\u003ch3 id=\"分区表\"\u003e\u003ca href=\"#分区表\" class=\"headerlink\" title=\"分区表\"\u003e\u003c/a\u003e分区表\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_partition(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  )\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  PARTITIONED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (deptno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e)   \u003cspan class=\"comment\"\u003e-- 按照部门编号进行分区\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  LOCATION \u003cspan class=\"string\"\u003e\u0026#39;/hive/emp_partition\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"分桶表\"\u003e\u003ca href=\"#分桶表\" class=\"headerlink\" title=\"分桶表\"\u003e\u003c/a\u003e分桶表\u003c/h3\u003e\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_bucket(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  deptno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  CLUSTERED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e(empno) SORTED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e(empno \u003cspan class=\"keyword\"\u003eASC\u003c/span\u003e) \u003cspan class=\"keyword\"\u003eINTO\u003c/span\u003e \u003cspan class=\"number\"\u003e4\u003c/span\u003e BUCKETS  \u003cspan class=\"comment\"\u003e--按照员工编号散列到四个 bucket 中\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  LOCATION \u003cspan class=\"string\"\u003e\u0026#39;/hive/emp_bucket\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"倾斜表\"\u003e\u003ca href=\"#倾斜表\" class=\"headerlink\" title=\"倾斜表\"\u003e\u003c/a\u003e倾斜表\u003c/h3\u003e\u003cp\u003e通过指定一个或者多个列经常出现的值（严重偏斜），Hive 会自动将涉及到这些值的数据拆分为单独的文件。在查询时，如果涉及到倾斜值，它就直接从独立文件中获取数据，而不是扫描所有文件，这使得性能得到提升。\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_skewed(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  )\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  SKEWED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e (empno) \u003cspan class=\"keyword\"\u003eON\u003c/span\u003e (\u003cspan class=\"number\"\u003e66\u003c/span\u003e,\u003cspan class=\"number\"\u003e88\u003c/span\u003e,\u003cspan class=\"number\"\u003e100\u003c/span\u003e)  \u003cspan class=\"comment\"\u003e--指定 empno 的倾斜值 66,88,100\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  LOCATION \u003cspan class=\"string\"\u003e\u0026#39;/hive/emp_skewed\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"临时表\"\u003e\u003ca href=\"#临时表\" class=\"headerlink\" title=\"临时表\"\u003e\u003c/a\u003e临时表\u003c/h3\u003e\u003cp\u003e临时表仅对当前 session 可见，临时表的数据将存储在用户的暂存目录中，并在会话结束后删除。如果临时表与永久表表名相同，则对该表名的任何引用都将解析为临时表，而不是永久表。临时表还具有以下两个限制：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e不支持分区列；\u003c/li\u003e\n\u003cli\u003e不支持创建索引。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e TEMPORARY \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp(\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  empno \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  ename STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  job STRING,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  mgr \u003cspan class=\"type\"\u003eINT\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  hiredate \u003cspan class=\"type\"\u003eTIMESTAMP\u003c/span\u003e,\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  sal \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e),\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  comm \u003cspan class=\"type\"\u003eDECIMAL\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  )\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"type\"\u003eROW\u003c/span\u003e FORMAT DELIMITED FIELDS TERMINATED \u003cspan class=\"keyword\"\u003eBY\u003c/span\u003e \u0026#34;\\t\u0026#34;;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"CTAS-创建表\"\u003e\u003ca href=\"#CTAS-创建表\" class=\"headerlink\" title=\"CTAS 创建表\"\u003e\u003c/a\u003eCTAS 创建表\u003c/h3\u003e\u003cp\u003e支持从查询语句的结果创建表：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_copy \u003cspan class=\"keyword\"\u003eAS\u003c/span\u003e \u003cspan class=\"keyword\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"operator\"\u003e*\u003c/span\u003e \u003cspan class=\"keyword\"\u003eFROM\u003c/span\u003e emp \u003cspan class=\"keyword\"\u003eWHERE\u003c/span\u003e deptno\u003cspan class=\"operator\"\u003e=\u003c/span\u003e\u003cspan class=\"string\"\u003e\u0026#39;20\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"复制表结构\"\u003e\u003ca href=\"#复制表结构\" class=\"headerlink\" title=\"复制表结构\"\u003e\u003c/a\u003e复制表结构\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e [TEMPORARY] [\u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e] \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e [IF \u003cspan class=\"keyword\"\u003eNOT\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e] [db_name.]table_name  \u003cspan class=\"comment\"\u003e--创建表表名\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   \u003cspan class=\"keyword\"\u003eLIKE\u003c/span\u003e existing_table_or_view_name  \u003cspan class=\"comment\"\u003e--被复制表的表名\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   [LOCATION hdfs_path]; \u003cspan class=\"comment\"\u003e--存储位置\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e TEMPORARY \u003cspan class=\"keyword\"\u003eEXTERNAL\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e  IF \u003cspan class=\"keyword\"\u003eNOT\u003c/span\u003e \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e  emp_co  \u003cspan class=\"keyword\"\u003eLIKE\u003c/span\u003e emp\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"加载数据到表\"\u003e\u003ca href=\"#加载数据到表\" class=\"headerlink\" title=\"加载数据到表\"\u003e\u003c/a\u003e加载数据到表\u003c/h3\u003e\u003cp\u003e加载数据到表中属于 DML 操作，这里为了方便大家测试，先简单介绍一下加载本地数据到表中：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 加载数据到 emp 表中\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eload data \u003cspan class=\"keyword\"\u003elocal\u003c/span\u003e inpath \u0026#34;/usr/file/emp.txt\u0026#34; \u003cspan class=\"keyword\"\u003einto\u003c/span\u003e \u003cspan class=\"keyword\"\u003etable\u003c/span\u003e emp;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e其中 emp.txt 的内容如下，你可以直接复制使用，也可以到本仓库的\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/heibaiying/BigData-Notes/tree/master/resources\"\u003eresources\u003c/a\u003e 目录下载：\u003c/p\u003e\n\u003cfigure class=\"highlight txt\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e7369\tSMITH\tCLERK\t7902\t1980-12-17 00:00:00\t800.00\t\t20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7499\tALLEN\tSALESMAN\t7698\t1981-02-20 00:00:00\t1600.00\t300.00\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7521\tWARD\tSALESMAN\t7698\t1981-02-22 00:00:00\t1250.00\t500.00\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7566\tJONES\tMANAGER\t7839\t1981-04-02 00:00:00\t2975.00\t\t20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7654\tMARTIN\tSALESMAN\t7698\t1981-09-28 00:00:00\t1250.00\t1400.00\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7698\tBLAKE\tMANAGER\t7839\t1981-05-01 00:00:00\t2850.00\t\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7782\tCLARK\tMANAGER\t7839\t1981-06-09 00:00:00\t2450.00\t\t10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7788\tSCOTT\tANALYST\t7566\t1987-04-19 00:00:00\t1500.00\t\t20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7839\tKING\tPRESIDENT\t\t1981-11-17 00:00:00\t5000.00\t\t10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7844\tTURNER\tSALESMAN\t7698\t1981-09-08 00:00:00\t1500.00\t0.00\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7876\tADAMS\tCLERK\t7788\t1987-05-23 00:00:00\t1100.00\t\t20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7900\tJAMES\tCLERK\t7698\t1981-12-03 00:00:00\t950.00\t\t30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7902\tFORD\tANALYST\t7566\t1981-12-03 00:00:00\t3000.00\t\t20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7934\tMILLER\tCLERK\t7782\t1982-01-23 00:00:00\t1300.00\t\t10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e加载后可查询表中数据\u003c/p\u003e\n\u003ch2 id=\"修改表\"\u003e\u003ca href=\"#修改表\" class=\"headerlink\" title=\"修改表\"\u003e\u003c/a\u003e修改表\u003c/h2\u003e\u003ch3 id=\"重命名表\"\u003e\u003ca href=\"#重命名表\" class=\"headerlink\" title=\"重命名表\"\u003e\u003c/a\u003e重命名表\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e table_name RENAME \u003cspan class=\"keyword\"\u003eTO\u003c/span\u003e new_table_name;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp RENAME \u003cspan class=\"keyword\"\u003eTO\u003c/span\u003e new_emp; \u003cspan class=\"comment\"\u003e--把 emp_temp 表重命名为 new_emp\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"修改列\"\u003e\u003ca href=\"#修改列\" class=\"headerlink\" title=\"修改列\"\u003e\u003c/a\u003e修改列\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e table_name [\u003cspan class=\"keyword\"\u003ePARTITION\u003c/span\u003e partition_spec] CHANGE [\u003cspan class=\"keyword\"\u003eCOLUMN\u003c/span\u003e] col_old_name col_new_name column_type\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [COMMENT col_comment] [\u003cspan class=\"keyword\"\u003eFIRST\u003c/span\u003e\u003cspan class=\"operator\"\u003e|\u003c/span\u003eAFTER column_name] [CASCADE\u003cspan class=\"operator\"\u003e|\u003c/span\u003eRESTRICT];\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 修改字段名和类型\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp CHANGE empno empno_new \u003cspan class=\"type\"\u003eINT\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 修改字段 sal 的名称 并将其放置到 empno 字段后\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp CHANGE sal sal_new \u003cspan class=\"type\"\u003edecimal\u003c/span\u003e(\u003cspan class=\"number\"\u003e7\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e)  AFTER ename;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 为字段增加注释\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp CHANGE mgr mgr_new \u003cspan class=\"type\"\u003eINT\u003c/span\u003e COMMENT \u003cspan class=\"string\"\u003e\u0026#39;this is column mgr\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"新增列\"\u003e\u003ca href=\"#新增列\" class=\"headerlink\" title=\"新增列\"\u003e\u003c/a\u003e新增列\u003c/h3\u003e\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eALTER\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_temp \u003cspan class=\"keyword\"\u003eADD\u003c/span\u003e COLUMNS (address STRING COMMENT \u003cspan class=\"string\"\u003e\u0026#39;home address\u0026#39;\u003c/span\u003e);\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"清空表-删除表\"\u003e\u003ca href=\"#清空表-删除表\" class=\"headerlink\" title=\"清空表/删除表\"\u003e\u003c/a\u003e清空表/删除表\u003c/h2\u003e\u003ch3 id=\"清空表-hive-ddl-md\"\u003e\u003ca href=\"#清空表-hive-ddl-md\" class=\"headerlink\" title=\"清空表 hive-ddl.md\"\u003e\u003c/a\u003e清空表 hive-ddl.md\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 清空整个表或表指定分区中的数据\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eTRUNCATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e table_name [\u003cspan class=\"keyword\"\u003ePARTITION\u003c/span\u003e (partition_column \u003cspan class=\"operator\"\u003e=\u003c/span\u003e partition_col_value,  ...)];\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cul\u003e\n\u003cli\u003e目前只有内部表才能执行 TRUNCATE 操作，外部表执行时会抛出异常 \u003ccode\u003eCannot truncate non-managed table XXXX\u003c/code\u003e。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e示例：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eTRUNCATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e emp_mgt_ptn \u003cspan class=\"keyword\"\u003ePARTITION\u003c/span\u003e (deptno\u003cspan class=\"operator\"\u003e=\u003c/span\u003e\u003cspan class=\"number\"\u003e20\u003c/span\u003e);\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除表\"\u003e\u003ca href=\"#删除表\" class=\"headerlink\" title=\"删除表\"\u003e\u003c/a\u003e删除表\u003c/h3\u003e\u003cp\u003e语法：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDROP\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e [IF \u003cspan class=\"keyword\"\u003eEXISTS\u003c/span\u003e] table_name [PURGE];\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cul\u003e\n\u003cli\u003e内部表：不仅会删除表的元数据，同时会删除 HDFS 上的数据；\u003c/li\u003e\n\u003cli\u003e外部表：只会删除表的元数据，不会删除 HDFS 上的数据；\u003c/li\u003e\n\u003cli\u003e删除视图引用的表时，不会给出警告（但视图已经无效了，必须由用户删除或重新创建）。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"其他命令\"\u003e\u003ca href=\"#其他命令\" class=\"headerlink\" title=\"其他命令\"\u003e\u003c/a\u003e其他命令\u003c/h2\u003e\u003ch3 id=\"Describe\"\u003e\u003ca href=\"#Describe\" class=\"headerlink\" title=\"Describe\"\u003e\u003c/a\u003eDescribe\u003c/h3\u003e\u003cp\u003e查看数据库：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDESCRIBE\u003c/span\u003e\u003cspan class=\"operator\"\u003e|\u003c/span\u003e\u003cspan class=\"keyword\"\u003eDesc\u003c/span\u003e DATABASE [EXTENDED] db_name;  \u003cspan class=\"comment\"\u003e--EXTENDED 是否显示额外属性\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e查看表：\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eDESCRIBE\u003c/span\u003e\u003cspan class=\"operator\"\u003e|\u003c/span\u003e\u003cspan class=\"keyword\"\u003eDesc\u003c/span\u003e [EXTENDED\u003cspan class=\"operator\"\u003e|\u003c/span\u003eFORMATTED] table_name \u003cspan class=\"comment\"\u003e--FORMATTED 以友好的展现方式查看表详情\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"Show\"\u003e\u003ca href=\"#Show\" class=\"headerlink\" title=\"Show\"\u003e\u003c/a\u003eShow\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e1. 查看数据库列表\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 语法\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e (DATABASES\u003cspan class=\"operator\"\u003e|\u003c/span\u003eSCHEMAS) [\u003cspan class=\"keyword\"\u003eLIKE\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#39;identifier_with_wildcards\u0026#39;\u003c/span\u003e];\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 示例：\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e DATABASES \u003cspan class=\"keyword\"\u003elike\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#39;hive*\u0026#39;\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eLIKE 子句允许使用正则表达式进行过滤，但是 SHOW 语句当中的 LIKE 子句只支持 \u003ccode\u003e*\u003c/code\u003e（通配符）和 \u003ccode\u003e|\u003c/code\u003e（条件或）两个符号。例如 \u003ccode\u003eemployees\u003c/code\u003e，\u003ccode\u003eemp *\u003c/code\u003e，\u003ccode\u003eemp * | * ees\u003c/code\u003e，所有这些都将匹配名为 \u003ccode\u003eemployees\u003c/code\u003e 的数据库。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e2. 查看表的列表\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 语法\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e TABLES [\u003cspan class=\"keyword\"\u003eIN\u003c/span\u003e database_name] [\u003cspan class=\"string\"\u003e\u0026#39;identifier_with_wildcards\u0026#39;\u003c/span\u003e];\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e-- 示例\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e TABLES \u003cspan class=\"keyword\"\u003eIN\u003c/span\u003e \u003cspan class=\"keyword\"\u003edefault\u003c/span\u003e;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cstrong\u003e3. 查看视图列表\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e VIEWS [\u003cspan class=\"keyword\"\u003eIN\u003c/span\u003e\u003cspan class=\"operator\"\u003e/\u003c/span\u003e\u003cspan class=\"keyword\"\u003eFROM\u003c/span\u003e database_name] [\u003cspan class=\"keyword\"\u003eLIKE\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#39;pattern_with_wildcards\u0026#39;\u003c/span\u003e];   \u003cspan class=\"comment\"\u003e--仅支持 Hive 2.2.0\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cstrong\u003e4. 查看表的分区列表\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e PARTITIONS table_name;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cstrong\u003e5. 查看表/视图的创建语句\u003c/strong\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight sql\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eSHOW\u003c/span\u003e \u003cspan class=\"keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"keyword\"\u003eTABLE\u003c/span\u003e ([db_name.]table_name\u003cspan class=\"operator\"\u003e|\u003c/span\u003eview_name);\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"参考资料\"\u003e\u003ca href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"\u003e\u003c/a\u003e参考资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL\"\u003eLanguageManual DDL\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2020-02-24T13:14:47Z",
  "Author": "钝悟 ◾ Dunwu"
}