{
  "Source": "dunwu",
  "Title": "Git帮助手册",
  "Link": "https://dunwu.github.io/blog/pages/09397d/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"Git-帮助手册\"\u003e\u003ca href=\"#Git-帮助手册\" class=\"headerlink\" title=\"Git 帮助手册\"\u003e\u003c/a\u003eGit 帮助手册\u003c/h1\u003e\u003cp\u003e国外网友制作了一张 Git Cheat Sheet，总结很精炼，各位不妨收藏一下。\u003c/p\u003e\n\u003cp\u003e本节选择性介绍 git 中比较常用的命令行场景。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://raw.githubusercontent.com/dunwu/images/master/cs/web/git/git-cheat-sheet.png\" alt=\"img\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"安装\"\u003e\u003ca href=\"#安装\" class=\"headerlink\" title=\"安装\"\u003e\u003c/a\u003e安装\u003c/h2\u003e\u003cp\u003e\u003cstrong\u003e（1）Debian/Ubuntu 环境安装\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e如果你使用的系统是 Debian/Ubuntu ， 安装命令为：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eapt-get install libcurl4-gnutls-dev libexpat1-dev gettext \\\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"language-bash\"\u003e\u0026gt; libz-dev libssl-dev\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eapt-get install git-core\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit --version\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit version 1.8.1.2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cstrong\u003e（2）Centos/RedHat 环境安装\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e如果你使用的系统是 Centos/RedHat ，安装命令为：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyum install curl-devel expat-devel gettext-devel \\\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"language-bash\"\u003e\u0026gt; openssl-devel zlib-devel\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyum -y install git-core\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit --version\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit version 1.7.1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cstrong\u003e（3）Windows 环境安装\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e在\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/downloads\"\u003eGit 官方下载地址\u003c/a\u003e下载 exe 安装包。按照安装向导安装即可。\u003c/p\u003e\n\u003cp\u003e建议安装 Git Bash 这个 git 的命令行工具。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e（4）Mac 环境安装\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e在\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/downloads\"\u003eGit 官方下载地址\u003c/a\u003e下载 mac 安装包。按照安装向导安装即可。\u003c/p\u003e\n\u003ch2 id=\"配置\"\u003e\u003ca href=\"#配置\" class=\"headerlink\" title=\"配置\"\u003e\u003c/a\u003e配置\u003c/h2\u003e\u003cp\u003eGit 自带一个 \u003ccode\u003egit config\u003c/code\u003e 的工具来帮助设置控制 Git 外观和行为的配置变量。 这些变量存储在三个不同的位置：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e/etc/gitconfig\u003c/code\u003e 文件: 包含系统上每一个用户及他们仓库的通用配置。 如果使用带有 \u003ccode\u003e--system\u003c/code\u003e 选项的 \u003ccode\u003egit config\u003c/code\u003e 时，它会从此文件读写配置变量。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e~/.gitconfig\u003c/code\u003e 或 \u003ccode\u003e~/.config/git/config\u003c/code\u003e 文件：只针对当前用户。 可以传递 \u003ccode\u003e--global\u003c/code\u003e 选项让 Git 读写此文件。\u003c/li\u003e\n\u003cli\u003e当前使用仓库的 Git 目录中的 \u003ccode\u003econfig\u003c/code\u003e 文件（就是 \u003ccode\u003e.git/config\u003c/code\u003e）：针对该仓库。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e每一个级别覆盖上一级别的配置，所以 \u003ccode\u003e.git/config\u003c/code\u003e 的配置变量会覆盖 \u003ccode\u003e/etc/gitconfig\u003c/code\u003e 中的配置变量。\u003c/p\u003e\n\u003cp\u003e在 Windows 系统中，Git 会查找 \u003ccode\u003e$HOME\u003c/code\u003e 目录下（一般情况下是 \u003ccode\u003eC:\\Users\\$USER\u003c/code\u003e）的 \u003ccode\u003e.gitconfig\u003c/code\u003e 文件。 Git 同样也会寻找 \u003ccode\u003e/etc/gitconfig\u003c/code\u003e 文件，但只限于 MSys 的根目录下，即安装 Git 时所选的目标位置。\u003c/p\u003e\n\u003ch3 id=\"配置用户信息\"\u003e\u003ca href=\"#配置用户信息\" class=\"headerlink\" title=\"配置用户信息\"\u003e\u003c/a\u003e配置用户信息\u003c/h3\u003e\u003cp\u003e当安装完 Git 应该做的第一件事就是设置你的用户名称与邮件地址。 这样做很重要，因为每一个 Git 的提交都会使用这些信息，并且它会写入到你的每一次提交中，不可更改：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit config --global user.name \u0026#34;John Doe\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit config --global user.email johndoe@example.com\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e再次强调，如果使用了 \u003ccode\u003e--global\u003c/code\u003e 选项，那么该命令只需要运行一次，因为之后无论你在该系统上做任何事情， Git 都会使用那些信息。 当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运行没有 \u003ccode\u003e--global\u003c/code\u003e 选项的命令来配置。\u003c/p\u003e\n\u003cp\u003e很多 GUI 工具都会在第一次运行时帮助你配置这些信息。\u003c/p\u003e\n\u003ch3 id=\"给-Git-命令添加别名\"\u003e\u003ca href=\"#给-Git-命令添加别名\" class=\"headerlink\" title=\"给 Git 命令添加别名\"\u003e\u003c/a\u003e给 Git 命令添加别名\u003c/h3\u003e\u003cp\u003e在 OS X 和 Linux 下, 你的 Git 的配置文件储存在 \u003ccode\u003e~/.gitconfig\u003c/code\u003e。我在\u003ccode\u003e[alias]\u003c/code\u003e 部分添加了一些快捷别名(和一些我容易拼写错误的)，如下:\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[alias]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003ea\u003c/span\u003e = \u003cspan class=\"built_in\"\u003eadd\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    amend = commit --amend\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003ec\u003c/span\u003e = commit\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eca\u003c/span\u003e = commit --amend\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    ci = commit -\u003cspan class=\"keyword\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eco\u003c/span\u003e = checkout\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    d = diff\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    dc = diff --changed\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eds\u003c/span\u003e = diff --staged\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003ef\u003c/span\u003e = fetch\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    loll = \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e --graph --decorate --pretty=oneline --abbrev-commit\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003em\u003c/span\u003e = merge\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    one = \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e --pretty=oneline\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    outstanding = rebase -i @{\u003cspan class=\"keyword\"\u003eu\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    s = status\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    unpushed = \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e @{\u003cspan class=\"keyword\"\u003eu\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    wc = whatchanged\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    wip = rebase -i @{\u003cspan class=\"keyword\"\u003eu\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    zap = fetch -\u003cspan class=\"keyword\"\u003ep\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"缓存一个仓库的用户名和密码\"\u003e\u003ca href=\"#缓存一个仓库的用户名和密码\" class=\"headerlink\" title=\"缓存一个仓库的用户名和密码\"\u003e\u003c/a\u003e缓存一个仓库的用户名和密码\u003c/h3\u003e\u003cp\u003e你可能有一个仓库需要授权，这时你可以缓存用户名和密码，而不用每次推/拉(push/pull)的时候都输入，Credential helper 能帮你。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit config --global credential.helper cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Set git to use the credential memory cache\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit config --global credential.helper \u0026#39;cache --timeout=3600\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Set the cache to timeout after 1 hour (setting is in seconds)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"仓库\"\u003e\u003ca href=\"#仓库\" class=\"headerlink\" title=\"仓库\"\u003e\u003c/a\u003e仓库\u003c/h2\u003e\u003ch3 id=\"初始化仓库\"\u003e\u003ca href=\"#初始化仓库\" class=\"headerlink\" title=\"初始化仓库\"\u003e\u003c/a\u003e初始化仓库\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit init\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"克隆仓库\"\u003e\u003ca href=\"#克隆仓库\" class=\"headerlink\" title=\"克隆仓库\"\u003e\u003c/a\u003e克隆仓库\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 通过 SSH\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e$ git \u003cspan class=\"built_in\"\u003eclone\u003c/span\u003e ssh://user@domain.com/repo.git\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 通过 HTTP\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e$ git \u003cspan class=\"built_in\"\u003eclone\u003c/span\u003e http://domain.com/user/repo.git\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"储藏\"\u003e\u003ca href=\"#储藏\" class=\"headerlink\" title=\"储藏\"\u003e\u003c/a\u003e储藏\u003c/h2\u003e\u003cp\u003e有时，我们需要在同一个项目的不同分支上工作。当需要切换分支时，偏偏本地的工作还没有完成，此时，提交修改显得不严谨，但是不提交代码又无法切换分支。这时，你可以使用 \u003ccode\u003egit stash\u003c/code\u003e 将本地的修改内容作为草稿储藏起来。\u003c/p\u003e\n\u003cp\u003e官方称之为储藏，但我个人更喜欢称之为存草稿。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e1. 将修改作为当前分支的草稿保存\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e2. 查看草稿列表\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash list\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003estash@{0}: WIP on master: 6fae349 :memo: Writing docs.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e3.1 删除草稿\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash drop stash@{0}\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e3.2 读取草稿\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash apply stash@{0}\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"暂存\"\u003e\u003ca href=\"#暂存\" class=\"headerlink\" title=\"暂存\"\u003e\u003c/a\u003e暂存\u003c/h2\u003e\u003cp\u003e\u003ccode\u003egit add\u003c/code\u003e 命令用于将修改添加到暂存区。\u003c/p\u003e\n\u003ch3 id=\"暂存指定文件\"\u003e\u003ca href=\"#暂存指定文件\" class=\"headerlink\" title=\"暂存指定文件\"\u003e\u003c/a\u003e暂存指定文件\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit add xxx\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"暂存当前目录下所有修改\"\u003e\u003ca href=\"#暂存当前目录下所有修改\" class=\"headerlink\" title=\"暂存当前目录下所有修改\"\u003e\u003c/a\u003e暂存当前目录下所有修改\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit add .\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"暂存所有修改\"\u003e\u003ca href=\"#暂存所有修改\" class=\"headerlink\" title=\"暂存所有修改\"\u003e\u003c/a\u003e暂存所有修改\u003c/h3\u003e\u003cfigure class=\"highlight routeros\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit \u003cspan class=\"built_in\"\u003eadd\u003c/span\u003e -A\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"暂存文件部分内容\"\u003e\u003ca href=\"#暂存文件部分内容\" class=\"headerlink\" title=\"暂存文件部分内容\"\u003e\u003c/a\u003e暂存文件部分内容\u003c/h3\u003e\u003cp\u003e暂存文件部分内容\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit add --patch filename.x\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003ccode\u003e-p\u003c/code\u003e 简写。这会打开交互模式， 你将能够用 \u003ccode\u003es\u003c/code\u003e 选项来分隔提交(commit)；\u003c/p\u003e\n\u003cp\u003e然而, 如果这个文件是新的, 会没有这个选择， 添加一个新文件时，这样做:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit add -N filename.x\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e然后, 你需要用 \u003ccode\u003ee\u003c/code\u003e 选项来手动选择需要添加的行，执行 \u003ccode\u003egit diff --cached\u003c/code\u003e 将会显示哪些行暂存了哪些行只是保存在本地了。\u003c/p\u003e\n\u003ch3 id=\"把暂存的内容变成未暂存，把未暂存的内容暂存起来\"\u003e\u003ca href=\"#把暂存的内容变成未暂存，把未暂存的内容暂存起来\" class=\"headerlink\" title=\"把暂存的内容变成未暂存，把未暂存的内容暂存起来\"\u003e\u003c/a\u003e把暂存的内容变成未暂存，把未暂存的内容暂存起来\u003c/h3\u003e\u003cp\u003e这个有点困难， 我能想到的最好的方法是先 stash 未暂存的内容， 然后重置(reset)，再 pop 第一步 stashed 的内容, 最后再 add 它们。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit stash -k\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit reset --hard\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit stash pop\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit add -A\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"提交\"\u003e\u003ca href=\"#提交\" class=\"headerlink\" title=\"提交\"\u003e\u003c/a\u003e提交\u003c/h2\u003e\u003cp\u003e\u003ccode\u003egit commit\u003c/code\u003e 命令用于将修改保存到到本地仓库。\u003c/p\u003e\n\u003ch3 id=\"查看最近一次提交\"\u003e\u003ca href=\"#查看最近一次提交\" class=\"headerlink\" title=\"查看最近一次提交\"\u003e\u003c/a\u003e查看最近一次提交\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit show\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e或者\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit log -n1 -p\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"提交本地的所有修改\"\u003e\u003ca href=\"#提交本地的所有修改\" class=\"headerlink\" title=\"提交本地的所有修改\"\u003e\u003c/a\u003e提交本地的所有修改\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit -a\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"提交暂存的修改\"\u003e\u003ca href=\"#提交暂存的修改\" class=\"headerlink\" title=\"提交暂存的修改\"\u003e\u003c/a\u003e提交暂存的修改\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"把暂存的内容添加到上一次的提交\"\u003e\u003ca href=\"#把暂存的内容添加到上一次的提交\" class=\"headerlink\" title=\"把暂存的内容添加到上一次的提交\"\u003e\u003c/a\u003e把暂存的内容添加到上一次的提交\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit --amend\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"附加消息提交\"\u003e\u003ca href=\"#附加消息提交\" class=\"headerlink\" title=\"附加消息提交\"\u003e\u003c/a\u003e附加消息提交\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit -m \u0026#39;commit message\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"修改提交信息\"\u003e\u003ca href=\"#修改提交信息\" class=\"headerlink\" title=\"修改提交信息\"\u003e\u003c/a\u003e修改提交信息\u003c/h3\u003e\u003cp\u003e如果你的提交信息写错了且这次提交（commit）还没有推送（push），可以使用以下命令修改：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit --amend\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e或者\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit --amend -m \u0026#39;xxxxxxx\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"修改提交信息中的用户名和邮箱\"\u003e\u003ca href=\"#修改提交信息中的用户名和邮箱\" class=\"headerlink\" title=\"修改提交信息中的用户名和邮箱\"\u003e\u003c/a\u003e修改提交信息中的用户名和邮箱\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit commit --amend --author \u0026#34;New Authorname \u0026lt;authoremail@mydomain.com\u0026gt;\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"从提交中移除一个文件\"\u003e\u003ca href=\"#从提交中移除一个文件\" class=\"headerlink\" title=\"从提交中移除一个文件\"\u003e\u003c/a\u003e从提交中移除一个文件\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit checkout HEAD^ myfile\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit add -A\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit commit --amend\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除最后一次提交\"\u003e\u003ca href=\"#删除最后一次提交\" class=\"headerlink\" title=\"删除最后一次提交\"\u003e\u003c/a\u003e删除最后一次提交\u003c/h3\u003e\u003cp\u003e如果你需要删除推了的提交(pushed commits)，你可以使用下面的方法。可是，这会不可逆的改变你的历史，也会搞乱那些已经从该仓库拉取(pulled)了的人的历史。简而言之，如果你不是很确定，千万不要这么做。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit reset HEAD^ --hard\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit push -f [remote] [branch]\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果你还没有推到远程, 把 Git 重置(reset)到你最后一次提交前的状态就可以了(同时保存暂存的变化):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e(my-branch*)$ git reset --soft HEAD@{1}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这只能在没有推送之前有用. 如果你已经推了, 唯一安全能做的是 \u003ccode\u003egit revert SHAofBadCommit\u003c/code\u003e， 那会创建一个新的提交(commit)用于撤消前一个提交的所有变化(changes)； 或者, 如果你推的这个分支是 rebase-safe 的 (例如： 其它开发者不会从这个分支拉), 只需要使用 \u003ccode\u003egit push -f\u003c/code\u003e； 更多, 请参考 \u003ca href=\"#deleteremove-last-pushed-commit\"\u003ethe above section\u003c/a\u003e。\u003c/p\u003e\n\u003ch3 id=\"删除任意提交\"\u003e\u003ca href=\"#删除任意提交\" class=\"headerlink\" title=\"删除任意提交\"\u003e\u003c/a\u003e删除任意提交\u003c/h3\u003e\u003cp\u003e同样的警告：不到万不得已的时候不要这么做.\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit rebase --onto SHA1_OF_BAD_COMMIT^ SHA1_OF_BAD_COMMIT\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit push -f [remote] [branch]\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e或者做一个 \u003ca href=\"#interactive-rebase\"\u003e交互式 rebase\u003c/a\u003e 删除那些你想要删除的提交(commit)里所对应的行。\u003c/p\u003e\n\u003ch3 id=\"我尝试推一个修正后的提交-amended-commit-到远程，但是报错\"\u003e\u003ca href=\"#我尝试推一个修正后的提交-amended-commit-到远程，但是报错\" class=\"headerlink\" title=\"我尝试推一个修正后的提交(amended commit)到远程，但是报错\"\u003e\u003c/a\u003e我尝试推一个修正后的提交(amended commit)到远程，但是报错\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eTo https://github.com/yourusername/repo.git\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e! [rejected]        mybranch -\u0026gt; mybranch (non-fast-forward)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eerror: failed to push some refs to \u0026#39;https://github.com/tanay1337/webmaker.org.git\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehint: Updates were rejected because the tip of your current branch is behind\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehint: its remote counterpart. Integrate the remote changes (e.g.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehint: \u0026#39;git pull ...\u0026#39;) before pushing again.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehint: See the \u0026#39;Note about fast-forwards\u0026#39; in \u0026#39;git push --help\u0026#39; for details.\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e注意, rebasing(见下面)和修正(amending)会用一个\u003cstrong\u003e新的提交(commit)代替旧的\u003c/strong\u003e, 所以如果之前你已经往远程仓库上推过一次修正前的提交(commit)，那你现在就必须强推(force push) (\u003ccode\u003e-f\u003c/code\u003e)。 注意 – \u003cem\u003e总是\u003c/em\u003e 确保你指明一个分支!\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit push origin mybranch -f\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e一般来说, \u003cstrong\u003e要避免强推\u003c/strong\u003e. 最好是创建和推(push)一个新的提交(commit)，而不是强推一个修正后的提交。后者会使那些与该分支或该分支的子分支工作的开发者，在源历史中产生冲突。\u003c/p\u003e\n\u003ch3 id=\"不小心强制重置，想找回内容\"\u003e\u003ca href=\"#不小心强制重置，想找回内容\" class=\"headerlink\" title=\"不小心强制重置，想找回内容\"\u003e\u003c/a\u003e不小心强制重置，想找回内容\u003c/h3\u003e\u003cp\u003e如果你意外的做了 \u003ccode\u003egit reset --hard\u003c/code\u003e, 你通常能找回你的提交(commit), 因为 Git 对每件事都会有日志，且都会保存几天。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reflog\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e你将会看到一个你过去提交(commit)的列表, 和一个重置的提交。 选择你想要回到的提交(commit)的 SHA，再重置一次:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard SHA1234\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这样就完成了。\u003c/p\u003e\n\u003ch2 id=\"重置\"\u003e\u003ca href=\"#重置\" class=\"headerlink\" title=\"重置\"\u003e\u003c/a\u003e重置\u003c/h2\u003e\u003cp\u003e撤销本地修改：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e移除缓存区的所有文件（i.e. 撤销上次git add）\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset HEAD\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e将HEAD重置到上一次提交的版本，并将之后的修改标记为未添加到缓存区的修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset \u0026lt;commit\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e将HEAD重置到上一次提交的版本，并保留未提交的本地修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --keep \u0026lt;commit\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e放弃工作目录下的所有修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard HEAD\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e将HEAD重置到指定的版本，并抛弃该版本之后的所有修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard \u0026lt;commit-hash\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e用远端分支强制覆盖本地分支\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard \u0026lt;remote/branch\u0026gt; e.g., upstream/master, origin/my-feature\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e放弃某个文件的所有本地修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout HEAD \u0026lt;file\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e删除添加\u003ccode\u003e.gitignore\u003c/code\u003e文件前错误提交的文件：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e提交一条 git 记录，提交信息为 remove xyz file\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003erm\u003c/span\u003e -r --cached .\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit add .\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit commit -m \u003cspan class=\"string\"\u003e\u0026#34;remove xyz file\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e撤销远程修改（创建一个新的提交，并回滚到指定版本）：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003erevert 哈希号为 commit-hash 的记录\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit revert \u0026lt;commit-hash\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e彻底删除指定版本：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e执行下面命令后，commit-hash 提交后的记录都会被彻底删除，使用需谨慎\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard \u0026lt;commit-hash\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit push -f\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"更新\"\u003e\u003ca href=\"#更新\" class=\"headerlink\" title=\"更新\"\u003e\u003c/a\u003e更新\u003c/h2\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e下载远程端版本，但不合并到HEAD中\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit fetch \u0026lt;remote\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e将远程端版本合并到本地版本中\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit pull origin master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e以rebase方式将远端分支与本地合并\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit pull --rebase \u0026lt;remote\u0026gt; \u0026lt;branch\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"推送\"\u003e\u003ca href=\"#推送\" class=\"headerlink\" title=\"推送\"\u003e\u003c/a\u003e推送\u003c/h2\u003e\u003ch3 id=\"推送提交到远程仓库\"\u003e\u003ca href=\"#推送提交到远程仓库\" class=\"headerlink\" title=\"推送提交到远程仓库\"\u003e\u003c/a\u003e推送提交到远程仓库\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit push remote \u0026lt;remote\u0026gt; \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"发布标签\"\u003e\u003ca href=\"#发布标签\" class=\"headerlink\" title=\"发布标签\"\u003e\u003c/a\u003e发布标签\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit push --tags\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"未暂存\"\u003e\u003ca href=\"#未暂存\" class=\"headerlink\" title=\"未暂存\"\u003e\u003c/a\u003e未暂存\u003c/h2\u003e\u003cblockquote\u003e\n\u003cp\u003e未暂存(Unstaged)的内容\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"把未暂存的内容移动到一个新分支\"\u003e\u003ca href=\"#把未暂存的内容移动到一个新分支\" class=\"headerlink\" title=\"把未暂存的内容移动到一个新分支\"\u003e\u003c/a\u003e把未暂存的内容移动到一个新分支\u003c/h3\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003egit checkout -b my-branch\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"我想把未暂存的内容移动到另一个已存在的分支\"\u003e\u003ca href=\"#我想把未暂存的内容移动到另一个已存在的分支\" class=\"headerlink\" title=\"我想把未暂存的内容移动到另一个已存在的分支\"\u003e\u003c/a\u003e我想把未暂存的内容移动到另一个已存在的分支\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit stash\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit checkout my-branch\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit stash pop\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"丢弃本地未提交的变化\"\u003e\u003ca href=\"#丢弃本地未提交的变化\" class=\"headerlink\" title=\"丢弃本地未提交的变化\"\u003e\u003c/a\u003e丢弃本地未提交的变化\u003c/h3\u003e\u003cp\u003e如果你只是想重置源(origin)和你本地(local)之间的一些提交(commit)，你可以：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# one commit\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard HEAD^\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# two commits\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard HEAD^^\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# four commits\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard HEAD~4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# or\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -f\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e重置某个特殊的文件, 你可以用文件名做为参数:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit reset filename\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我想丢弃某些未暂存的内容\"\u003e\u003ca href=\"#我想丢弃某些未暂存的内容\" class=\"headerlink\" title=\"我想丢弃某些未暂存的内容\"\u003e\u003c/a\u003e我想丢弃某些未暂存的内容\u003c/h3\u003e\u003cp\u003e如果你想丢弃工作拷贝中的一部分内容，而不是全部。\u003c/p\u003e\n\u003cp\u003e签出(checkout)不需要的内容，保留需要的。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -p\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Answer y to all of the snippets you want to drop\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e另外一个方法是使用 \u003ccode\u003estash\u003c/code\u003e， Stash 所有要保留下的内容, 重置工作拷贝, 重新应用保留的部分。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash -p\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Select all of the snippets you want to save\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash pop\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e或者, stash 你不需要的部分, 然后 stash drop。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash -p\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Select all of the snippets you don\u0026#39;t want to save\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit stash drop\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"分支\"\u003e\u003ca href=\"#分支\" class=\"headerlink\" title=\"分支\"\u003e\u003c/a\u003e分支\u003c/h2\u003e\u003cblockquote\u003e\n\u003cp\u003e分支(Branches)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"列出所有的分支\"\u003e\u003ca href=\"#列出所有的分支\" class=\"headerlink\" title=\"列出所有的分支\"\u003e\u003c/a\u003e列出所有的分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"列出所有的远端分支\"\u003e\u003ca href=\"#列出所有的远端分支\" class=\"headerlink\" title=\"列出所有的远端分支\"\u003e\u003c/a\u003e列出所有的远端分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch -r\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"基于当前分支创建新分支\"\u003e\u003ca href=\"#基于当前分支创建新分支\" class=\"headerlink\" title=\"基于当前分支创建新分支\"\u003e\u003c/a\u003e基于当前分支创建新分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch \u0026lt;new-branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"基于远程分支创建新分支\"\u003e\u003ca href=\"#基于远程分支创建新分支\" class=\"headerlink\" title=\"基于远程分支创建新分支\"\u003e\u003c/a\u003e基于远程分支创建新分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch --track \u0026lt;new-branch\u0026gt; \u0026lt;remote-branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除本地分支\"\u003e\u003ca href=\"#删除本地分支\" class=\"headerlink\" title=\"删除本地分支\"\u003e\u003c/a\u003e删除本地分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch -d \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"强制删除本地分支\"\u003e\u003ca href=\"#强制删除本地分支\" class=\"headerlink\" title=\"强制删除本地分支\"\u003e\u003c/a\u003e强制删除本地分支\u003c/h3\u003e\u003cblockquote\u003e\n\u003cp\u003e注意：强制删除本地分支，将会丢失未合并的修改\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit branch -D \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除远程分支\"\u003e\u003ca href=\"#删除远程分支\" class=\"headerlink\" title=\"删除远程分支\"\u003e\u003c/a\u003e删除远程分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit push \u0026lt;remote\u0026gt; :\u0026lt;branch\u0026gt; (since Git v1.5.0)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit push \u0026lt;remote\u0026gt; --delete \u0026lt;branch\u0026gt; (since Git v1.7.0)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"切换分支\"\u003e\u003ca href=\"#切换分支\" class=\"headerlink\" title=\"切换分支\"\u003e\u003c/a\u003e切换分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit checkout \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"创建并切换到新分支\"\u003e\u003ca href=\"#创建并切换到新分支\" class=\"headerlink\" title=\"创建并切换到新分支\"\u003e\u003c/a\u003e创建并切换到新分支\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit checkout -b \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我从错误的分支拉取了内容，或把内容拉取到了错误的分支\"\u003e\u003ca href=\"#我从错误的分支拉取了内容，或把内容拉取到了错误的分支\" class=\"headerlink\" title=\"我从错误的分支拉取了内容，或把内容拉取到了错误的分支\"\u003e\u003c/a\u003e我从错误的分支拉取了内容，或把内容拉取到了错误的分支\u003c/h3\u003e\u003cp\u003e这是另外一种使用 \u003ccode\u003egit reflog\u003c/code\u003e 情况，找到在这次错误拉(pull) 之前 HEAD 的指向。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reflog\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eab7555f HEAD@{0}: pull origin wrong-branch: Fast-forward\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ec5bc55a HEAD@{1}: checkout: checkout message goes here\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e重置分支到你所需的提交(desired commit):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit reset --hard c5bc55a\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e完成。\u003c/p\u003e\n\u003ch3 id=\"我想扔掉本地的提交-commit-，以便我的分支与远程的保持一致\"\u003e\u003ca href=\"#我想扔掉本地的提交-commit-，以便我的分支与远程的保持一致\" class=\"headerlink\" title=\"我想扔掉本地的提交(commit)，以便我的分支与远程的保持一致\"\u003e\u003c/a\u003e我想扔掉本地的提交(commit)，以便我的分支与远程的保持一致\u003c/h3\u003e\u003cp\u003e先确认你没有推(push)你的内容到远程。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003egit status\u003c/code\u003e 会显示你领先(ahead)源(origin)多少个提交:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit status\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# On branch my-branch\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Your branch is ahead of \u0026#39;origin/my-branch\u0026#39; by 2 commits.\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e#   (use \u0026#34;git push\u0026#34; to publish your local commits)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e一种方法是:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard origin/my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我需要提交到一个新分支，但错误的提交到了-master\"\u003e\u003ca href=\"#我需要提交到一个新分支，但错误的提交到了-master\" class=\"headerlink\" title=\"我需要提交到一个新分支，但错误的提交到了 master\"\u003e\u003c/a\u003e我需要提交到一个新分支，但错误的提交到了 master\u003c/h3\u003e\u003cp\u003e在 master 下创建一个新分支，不切换到新分支,仍在 master 下:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit branch my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e把 master 分支重置到前一个提交:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard HEAD^\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003ccode\u003eHEAD^\u003c/code\u003e 是 \u003ccode\u003eHEAD^1\u003c/code\u003e 的简写，你可以通过指定要设置的\u003ccode\u003eHEAD\u003c/code\u003e来进一步重置。\u003c/p\u003e\n\u003cp\u003e或者, 如果你不想使用 \u003ccode\u003eHEAD^\u003c/code\u003e, 找到你想重置到的提交(commit)的 hash(\u003ccode\u003egit log\u003c/code\u003e 能够完成)， 然后重置到这个 hash。 使用\u003ccode\u003egit push\u003c/code\u003e 同步内容到远程。\u003c/p\u003e\n\u003cp\u003e例如, master 分支想重置到的提交的 hash 为\u003ccode\u003ea13b85e\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard a13b85e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHEAD is now at a13b85e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e签出(checkout)刚才新建的分支继续工作:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我想保留来自另外一个-ref-ish-的整个文件\"\u003e\u003ca href=\"#我想保留来自另外一个-ref-ish-的整个文件\" class=\"headerlink\" title=\"我想保留来自另外一个 ref-ish 的整个文件\"\u003e\u003c/a\u003e我想保留来自另外一个 ref-ish 的整个文件\u003c/h3\u003e\u003cp\u003e假设你正在做一个原型方案(原文为 working spike (see note)), 有成百的内容，每个都工作得很好。现在, 你提交到了一个分支，保存工作内容:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(solution)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit add -A \u0026amp;\u0026amp; git commit -m \u003cspan class=\"string\"\u003e\u0026#34;Adding all changes from this spike into one big commit.\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e当你想要把它放到一个分支里 (可能是\u003ccode\u003efeature\u003c/code\u003e, 或者 \u003ccode\u003edevelop\u003c/code\u003e), 你关心是保持整个文件的完整，你想要一个大的提交分隔成比较小。\u003c/p\u003e\n\u003cp\u003e假设你有:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e分支 \u003ccode\u003esolution\u003c/code\u003e, 拥有原型方案， 领先 \u003ccode\u003edevelop\u003c/code\u003e 分支。\u003c/li\u003e\n\u003cli\u003e分支 \u003ccode\u003edevelop\u003c/code\u003e, 在这里你应用原型方案的一些内容。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e我去可以通过把内容拿到你的分支里，来解决这个问题:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(develop)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout solution -- file1.txt\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这会把这个文件内容从分支 \u003ccode\u003esolution\u003c/code\u003e 拿到分支 \u003ccode\u003edevelop\u003c/code\u003e 里来:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# On branch develop\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Your branch is up-to-date with \u0026#39;origin/develop\u0026#39;.\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e# Changes to be committed:\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e#  (use \u0026#34;git reset HEAD \u0026lt;file\u0026gt;...\u0026#34; to unstage)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e#\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"comment\"\u003e##        modified:   file1.txt\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e然后, 正常提交。\u003c/p\u003e\n\u003cp\u003eNote: Spike solutions are made to analyze or solve the problem. These solutions are used for estimation and discarded once everyone gets clear visualization of the problem. ~ \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://en.wikipedia.org/wiki/Extreme_programming_practices\"\u003eWikipedia\u003c/a\u003e.\u003c/p\u003e\n\u003ch3 id=\"我把几个提交-commit-提交到了同一个分支，而这些提交应该分布在不同的分支里\"\u003e\u003ca href=\"#我把几个提交-commit-提交到了同一个分支，而这些提交应该分布在不同的分支里\" class=\"headerlink\" title=\"我把几个提交(commit)提交到了同一个分支，而这些提交应该分布在不同的分支里\"\u003e\u003c/a\u003e我把几个提交(commit)提交到了同一个分支，而这些提交应该分布在不同的分支里\u003c/h3\u003e\u003cp\u003e假设你有一个\u003ccode\u003emaster\u003c/code\u003e分支， 执行\u003ccode\u003egit log\u003c/code\u003e, 你看到你做过两次提交:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecommit e3851e817c451cc36f2e6f3049db528415e3c114\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthor: Alex Lee \u0026lt;alexlee@example.com\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDate:   Tue Jul 22 15:39:27 2014 -0400\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Bug #21 - Added CSRF protection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecommit 5ea51731d150f7ddc4a365437931cd8be3bf3131\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthor: Alex Lee \u0026lt;alexlee@example.com\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDate:   Tue Jul 22 15:39:12 2014 -0400\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Bug #14 - Fixed spacing on title\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecommit a13b85e984171c6e2a1729bb061994525f626d14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthor: Aki Rose \u0026lt;akirose@example.com\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDate:   Tue Jul 21 01:12:48 2014 -0400\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    First commit\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e让我们用提交 hash(commit hash)标记 bug (\u003ccode\u003ee3851e8\u003c/code\u003e for #21, \u003ccode\u003e5ea5173\u003c/code\u003e for #14).\u003c/p\u003e\n\u003cp\u003e首先, 我们把\u003ccode\u003emaster\u003c/code\u003e分支重置到正确的提交(\u003ccode\u003ea13b85e\u003c/code\u003e):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard a13b85e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHEAD is now at a13b85e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e现在, 我们对 bug #21 创建一个新的分支:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -b 21\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(21)$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e接着, 我们用 \u003cem\u003echerry-pick\u003c/em\u003e 把对 bug #21 的提交放入当前分支。 这意味着我们将应用(apply)这个提交(commit)，仅仅这一个提交(commit)，直接在 HEAD 上面。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(21)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit cherry-pick e3851e8\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这时候, 这里可能会产生冲突， 参见\u003ca href=\"#interactive-rebase\"\u003e交互式 rebasing 章\u003c/a\u003e \u003ca href=\"#merge-conflict\"\u003e\u003cstrong\u003e冲突节\u003c/strong\u003e\u003c/a\u003e 解决冲突.\u003c/p\u003e\n\u003cp\u003e再者， 我们为 bug #14 创建一个新的分支, 也基于\u003ccode\u003emaster\u003c/code\u003e分支\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(21)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -b 14\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(14)$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e最后, 为 bug #14 执行 \u003ccode\u003echerry-pick\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(14)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit cherry-pick 5ea5173\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我想删除上游-upstream-分支被删除了的本地分支\"\u003e\u003ca href=\"#我想删除上游-upstream-分支被删除了的本地分支\" class=\"headerlink\" title=\"我想删除上游(upstream)分支被删除了的本地分支\"\u003e\u003c/a\u003e我想删除上游(upstream)分支被删除了的本地分支\u003c/h3\u003e\u003cp\u003e一旦你在 github 上面合并(merge)了一个 pull request, 你就可以删除你 fork 里被合并的分支。 如果你不准备继续在这个分支里工作, 删除这个分支的本地拷贝会更干净，使你不会陷入工作分支和一堆陈旧分支的混乱之中。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit fetch -p\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我不小心删除了我的分支\"\u003e\u003ca href=\"#我不小心删除了我的分支\" class=\"headerlink\" title=\"我不小心删除了我的分支\"\u003e\u003c/a\u003e我不小心删除了我的分支\u003c/h3\u003e\u003cp\u003e如果你定期推送到远程, 多数情况下应该是安全的，但有些时候还是可能删除了还没有推到远程的分支。 让我们先创建一个分支和一个新的文件:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -b my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"built_in\"\u003etouch\u003c/span\u003e foo.txt\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"built_in\"\u003els\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eREADME.md foo.txt\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e添加文件并做一次提交\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit add .\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit commit -m \u003cspan class=\"string\"\u003e\u0026#39;foo.txt added\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003efoo.txt added\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 1 files changed, 1 insertions(+)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e create mode 100644 foo.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecommit 4e3cd85a670ced7cc17a2b5d8d3d809ac88d5012\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthor: siemiatj \u0026lt;siemiatj@example.com\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDate:   Wed Jul 30 00:34:10 2014 +0200\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    foo.txt added\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecommit 69204cdf0acbab201619d95ad8295928e7f411d5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthor: Kate Hudson \u0026lt;katehudson@example.com\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDate:   Tue Jul 29 13:14:46 2014 -0400\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Fixes #6: Force pushing after amending commits\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e现在我们切回到主(master)分支，‘不小心的’删除\u003ccode\u003emy-branch\u003c/code\u003e分支\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSwitched to branch \u0026#39;master\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eYour branch is up-to-date with \u0026#39;origin/master\u0026#39;.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit branch -D my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDeleted branch my-branch (was 4e3cd85).\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"built_in\"\u003eecho\u003c/span\u003e oh noes, deleted my branch!\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eoh noes, deleted my branch!\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在这时候你应该想起了\u003ccode\u003ereflog\u003c/code\u003e, 一个升级版的日志，它存储了仓库(repo)里面所有动作的历史。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reflog\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e69204cd HEAD@{0}: checkout: moving from my-branch to master\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4e3cd85 HEAD@{1}: commit: foo.txt added\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e69204cd HEAD@{2}: checkout: moving from master to my-branch\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e正如你所见，我们有一个来自删除分支的提交 hash(commit hash)，接下来看看是否能恢复删除了的分支。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout -b my-branch-help\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSwitched to a new branch \u0026#39;my-branch-help\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch-help)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard 4e3cd85\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHEAD is now at 4e3cd85 foo.txt added\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch-help)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"built_in\"\u003els\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eREADME.md foo.txt\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e看! 我们把删除的文件找回来了。 Git 的 \u003ccode\u003ereflog\u003c/code\u003e 在 rebasing 出错的时候也是同样有用的。\u003c/p\u003e\n\u003ch3 id=\"我想删除一个分支\"\u003e\u003ca href=\"#我想删除一个分支\" class=\"headerlink\" title=\"我想删除一个分支\"\u003e\u003c/a\u003e我想删除一个分支\u003c/h3\u003e\u003cp\u003e删除一个远程分支:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit push origin --delete my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e你也可以:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit push origin :my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e删除一个本地分支:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit branch -D my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我想从别人正在工作的远程分支签出-checkout-一个分支\"\u003e\u003ca href=\"#我想从别人正在工作的远程分支签出-checkout-一个分支\" class=\"headerlink\" title=\"我想从别人正在工作的远程分支签出(checkout)一个分支\"\u003e\u003c/a\u003e我想从别人正在工作的远程分支签出(checkout)一个分支\u003c/h3\u003e\u003cp\u003e首先, 从远程拉取(fetch) 所有分支:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit fetch --all\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e假设你想要从远程的\u003ccode\u003edaves\u003c/code\u003e分支签出到本地的\u003ccode\u003edaves\u003c/code\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout --track origin/daves\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eBranch daves set up to track remote branch daves from origin.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSwitched to a new branch \u0026#39;daves\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e(\u003ccode\u003e--track\u003c/code\u003e 是 \u003ccode\u003egit checkout -b [branch] [remotename]/[branch]\u003c/code\u003e 的简写)\u003c/p\u003e\n\u003cp\u003e这样就得到了一个\u003ccode\u003edaves\u003c/code\u003e分支的本地拷贝, 任何推过(pushed)的更新，远程都能看到.\u003c/p\u003e\n\u003ch2 id=\"标签\"\u003e\u003ca href=\"#标签\" class=\"headerlink\" title=\"标签\"\u003e\u003c/a\u003e标签\u003c/h2\u003e\u003ch3 id=\"添加标签\"\u003e\u003ca href=\"#添加标签\" class=\"headerlink\" title=\"添加标签\"\u003e\u003c/a\u003e添加标签\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit tag \u0026lt;tag-name\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"添加标签并附加消息\"\u003e\u003ca href=\"#添加标签并附加消息\" class=\"headerlink\" title=\"添加标签并附加消息\"\u003e\u003c/a\u003e添加标签并附加消息\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit tag -a \u0026lt;tag-name\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"删除标签\"\u003e\u003ca href=\"#删除标签\" class=\"headerlink\" title=\"删除标签\"\u003e\u003c/a\u003e删除标签\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit tag -d \u0026lt;tag_name\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit push \u0026lt;remote\u0026gt; :refs/tags/\u0026lt;tag_name\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"恢复已删除标签\"\u003e\u003ca href=\"#恢复已删除标签\" class=\"headerlink\" title=\"恢复已删除标签\"\u003e\u003c/a\u003e恢复已删除标签\u003c/h3\u003e\u003cp\u003e如果你想恢复一个已删除标签(tag), 可以按照下面的步骤: 首先, 需要找到无法访问的标签(unreachable tag):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit fsck --unreachable | grep tag\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e记下这个标签(tag)的 hash，然后用 Git 的 \u003ca target=\"_blank\" rel=\"noopener\" href=\"http://git-scm.com/docs/git-update-ref\"\u003eupdate-ref\u003c/a\u003e:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit update-ref refs/tags/\u0026lt;tag_name\u0026gt; \u0026lt;hash\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这时你的标签(tag)应该已经恢复了。\u003c/p\u003e\n\u003ch2 id=\"Rebase-和-Merge\"\u003e\u003ca href=\"#Rebase-和-Merge\" class=\"headerlink\" title=\"Rebase 和 Merge\"\u003e\u003c/a\u003eRebase 和 Merge\u003c/h2\u003e\u003cblockquote\u003e\n\u003cp\u003emerge 与 rebase 虽然是 git 常用功能，但是强烈建议不要使用 git 命令来完成这项工作。\u003c/p\u003e\n\u003cp\u003e因为如果出现代码冲突，在没有代码比对工具的情况下，实在太艰难了。\u003c/p\u003e\n\u003cp\u003e你可以考虑使用各种 Git GUI 工具。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"将分支合并到当前-HEAD-中\"\u003e\u003ca href=\"#将分支合并到当前-HEAD-中\" class=\"headerlink\" title=\"将分支合并到当前 HEAD 中\"\u003e\u003c/a\u003e将分支合并到当前 HEAD 中\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit merge \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"将当前-HEAD-版本重置到分支中\"\u003e\u003ca href=\"#将当前-HEAD-版本重置到分支中\" class=\"headerlink\" title=\"将当前 HEAD 版本重置到分支中\"\u003e\u003c/a\u003e将当前 HEAD 版本重置到分支中\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit rebase \u0026lt;branch\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"撤销-rebase-merge\"\u003e\u003ca href=\"#撤销-rebase-merge\" class=\"headerlink\" title=\"撤销 rebase/merge\"\u003e\u003c/a\u003e撤销 rebase/merge\u003c/h3\u003e\u003cp\u003e你可以合并(merge)或 rebase 了一个错误的分支, 或者完成不了一个进行中的 rebase/merge。 Git 在进行危险操作的时候会把原始的 HEAD 保存在一个叫 ORIG_HEAD 的变量里, 所以要把分支恢复到 rebase/merge 前的状态是很容易的。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --hard ORIG_HEAD\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我已经-rebase-过-但是我不想强推-force-push\"\u003e\u003ca href=\"#我已经-rebase-过-但是我不想强推-force-push\" class=\"headerlink\" title=\"我已经 rebase 过, 但是我不想强推(force push)\"\u003e\u003c/a\u003e我已经 rebase 过, 但是我不想强推(force push)\u003c/h3\u003e\u003cp\u003e不幸的是，如果你想把这些变化(changes)反应到远程分支上，你就必须得强推(force push)。 是因你快进(Fast forward)了提交，改变了 Git 历史, 远程分支不会接受变化(changes)，除非强推(force push)。这就是许多人使用 merge 工作流, 而不是 rebasing 工作流的主要原因之一， 开发者的强推(force push)会使大的团队陷入麻烦。使用时需要注意，一种安全使用 rebase 的方法是，不要把你的变化(changes)反映到远程分支上, 而是按下面的做:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase -i master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit checkout master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit merge --ff-only my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e更多, 参见 \u003ca target=\"_blank\" rel=\"noopener\" href=\"http://stackoverflow.com/questions/11058312/how-can-i-use-git-rebase-without-requiring-a-forced-push\"\u003ethis SO thread\u003c/a\u003e.\u003c/p\u003e\n\u003ch3 id=\"我需要组合-combine-几个提交-commit\"\u003e\u003ca href=\"#我需要组合-combine-几个提交-commit\" class=\"headerlink\" title=\"我需要组合(combine)几个提交(commit)\"\u003e\u003c/a\u003e我需要组合(combine)几个提交(commit)\u003c/h3\u003e\u003cp\u003e假设你的工作分支将会做对于 \u003ccode\u003emaster\u003c/code\u003e 的 pull-request。 一般情况下你不关心提交(commit)的时间戳，只想组合 \u003cem\u003e所有\u003c/em\u003e 提交(commit) 到一个单独的里面, 然后重置(reset)重提交(recommit)。 确保主(master)分支是最新的和你的变化都已经提交了, 然后:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reset --soft master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit commit -am \u003cspan class=\"string\"\u003e\u0026#34;New awesome feature\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果你想要更多的控制, 想要保留时间戳, 你需要做交互式 rebase (interactive rebase):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase -i master\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果没有相对的其它分支， 你将不得不相对自己的\u003ccode\u003eHEAD\u003c/code\u003e 进行 rebase。 例如：你想组合最近的两次提交(commit), 你将相对于\u003ccode\u003eHEAD\\~2\u003c/code\u003e 进行 rebase， 组合最近 3 次提交(commit), 相对于\u003ccode\u003eHEAD\\~3\u003c/code\u003e, 等等。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase -i HEAD~2\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在你执行了交互式 rebase 的命令(interactive rebase command)后, 你将在你的编辑器里看到类似下面的内容:\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epick a9c8a1d Some refactoring\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epick \u003cspan class=\"number\"\u003e01\u003c/span\u003eb2fd8 New awesome feature\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epick b729ad5 fixup\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epick e3851e8 another \u003cspan class=\"keyword\"\u003efix\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## Rebase \u003cspan class=\"number\"\u003e8074\u003c/span\u003ed12..b729ad5 onto \u003cspan class=\"number\"\u003e8074\u003c/span\u003ed12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e#\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## Commands:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e##  \u003cspan class=\"keyword\"\u003ep\u003c/span\u003e, pick = use commit\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e##  r, reword = use commit, but \u003cspan class=\"keyword\"\u003eedit\u003c/span\u003e the commit message\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e##  \u003cspan class=\"keyword\"\u003ee\u003c/span\u003e, \u003cspan class=\"keyword\"\u003eedit\u003c/span\u003e = use commit, but \u003cspan class=\"keyword\"\u003estop\u003c/span\u003e \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e amending\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e##  s, squash = use commit, but meld into \u003cspan class=\"keyword\"\u003eprevious\u003c/span\u003e commit\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e##  \u003cspan class=\"keyword\"\u003ef\u003c/span\u003e, fixup = like \u003cspan class=\"string\"\u003e\u0026#34;squash\u0026#34;\u003c/span\u003e, but discard this commit\u003cspan class=\"string\"\u003e\u0026#39;s log message\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e##  x, exec = run command (the rest of the line) using shell\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e#\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e## These lines can be re-ordered; they are executed from top to bottom.\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e#\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e## If you remove a line here THAT COMMIT WILL BE LOST.\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e#\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e## However, if you remove everything, the rebase will be aborted.\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e#\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e## Note that empty commits are commented out\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e所有以 \u003ccode\u003e#\u003c/code\u003e 开头的行都是注释, 不会影响 rebase.\u003c/p\u003e\n\u003cp\u003e然后，你可以用任何上面命令列表的命令替换 \u003ccode\u003epick\u003c/code\u003e, 你也可以通过删除对应的行来删除一个提交(commit)。\u003c/p\u003e\n\u003cp\u003e例如, 如果你想 \u003cstrong\u003e单独保留最旧(first)的提交(commit),组合所有剩下的到第二个里面\u003c/strong\u003e, 你就应该编辑第二个提交(commit)后面的每个提交(commit) 前的单词为 \u003ccode\u003ef\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epick a9c8a1d Some refactoring\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epick \u003cspan class=\"number\"\u003e01\u003c/span\u003eb2fd8 New awesome feature\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003ef\u003c/span\u003e b729ad5 fixup\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003ef\u003c/span\u003e e3851e8 another \u003cspan class=\"keyword\"\u003efix\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果你想组合这些提交(commit) \u003cstrong\u003e并重命名这个提交(commit)\u003c/strong\u003e, 你应该在第二个提交(commit)旁边添加一个\u003ccode\u003er\u003c/code\u003e，或者更简单的用\u003ccode\u003es\u003c/code\u003e 替代 \u003ccode\u003ef\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epick a9c8a1d Some refactoring\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epick \u003cspan class=\"number\"\u003e01\u003c/span\u003eb2fd8 New awesome feature\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es b729ad5 fixup\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es e3851e8 another \u003cspan class=\"keyword\"\u003efix\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e你可以在接下来弹出的文本提示框里重命名提交(commit)。\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eNewer, awesomer features\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## Please enter the commit message \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e your \u003cspan class=\"keyword\"\u003echanges\u003c/span\u003e. Lines starting\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## with \u003cspan class=\"string\"\u003e\u0026#39;#\u0026#39;\u003c/span\u003e will \u003cspan class=\"keyword\"\u003ebe\u003c/span\u003e ignored, \u003cspan class=\"built_in\"\u003eand\u003c/span\u003e \u003cspan class=\"keyword\"\u003ean\u003c/span\u003e \u003cspan class=\"built_in\"\u003eempty\u003c/span\u003e message aborts the commit.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## rebase in progress; onto \u003cspan class=\"number\"\u003e8074\u003c/span\u003ed12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## You are currently editing \u003cspan class=\"keyword\"\u003ea\u003c/span\u003e commit \u003cspan class=\"keyword\"\u003ewhile\u003c/span\u003e rebasing branch \u003cspan class=\"string\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e \u003cspan class=\"keyword\"\u003eon\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#39;8074d12\u0026#39;\u003c/span\u003e.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e#\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e## Changes \u003cspan class=\"keyword\"\u003eto\u003c/span\u003e \u003cspan class=\"keyword\"\u003ebe\u003c/span\u003e committed:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# modified:   README.md\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e#\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果成功了, 你应该看到类似下面的内容:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eSuccessfully rebased and updated refs/heads/master.\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"安全合并-merging-策略\"\u003e\u003ca href=\"#安全合并-merging-策略\" class=\"headerlink\" title=\"安全合并(merging)策略\"\u003e\u003c/a\u003e安全合并(merging)策略\u003c/h4\u003e\u003cp\u003e\u003ccode\u003e--no-commit\u003c/code\u003e 执行合并(merge)但不自动提交, 给用户在做提交前检查和修改的机会。 \u003ccode\u003eno-ff\u003c/code\u003e 会为特性分支(feature branch)的存在过留下证据, 保持项目历史一致。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit merge --no-ff --no-commit my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"我需要将一个分支合并成一个提交-commit\"\u003e\u003ca href=\"#我需要将一个分支合并成一个提交-commit\" class=\"headerlink\" title=\"我需要将一个分支合并成一个提交(commit)\"\u003e\u003c/a\u003e我需要将一个分支合并成一个提交(commit)\u003c/h4\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit merge --squash my-branch\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch4 id=\"我只想组合-combine-未推的提交-unpushed-commit\"\u003e\u003ca href=\"#我只想组合-combine-未推的提交-unpushed-commit\" class=\"headerlink\" title=\"我只想组合(combine)未推的提交(unpushed commit)\"\u003e\u003c/a\u003e我只想组合(combine)未推的提交(unpushed commit)\u003c/h4\u003e\u003cp\u003e有时候，在将数据推向上游之前，你有几个正在进行的工作提交(commit)。这时候不希望把已经推(push)过的组合进来，因为其他人可能已经有提交(commit)引用它们了。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase -i @{u}\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这会产生一次交互式的 rebase(interactive rebase), 只会列出没有推(push)的提交(commit)， 在这个列表时进行 reorder/fix/squash 都是安全的。\u003c/p\u003e\n\u003ch3 id=\"检查是否分支上的所有提交-commit-都合并-merge-过了\"\u003e\u003ca href=\"#检查是否分支上的所有提交-commit-都合并-merge-过了\" class=\"headerlink\" title=\"检查是否分支上的所有提交(commit)都合并(merge)过了\"\u003e\u003c/a\u003e检查是否分支上的所有提交(commit)都合并(merge)过了\u003c/h3\u003e\u003cp\u003e检查一个分支上的所有提交(commit)是否都已经合并(merge)到了其它分支, 你应该在这些分支的 head(或任何 commits)之间做一次 diff:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e --graph --left-right --cherry-pick --oneline HEAD...feature/120-on-scroll\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这会告诉你在一个分支里有而另一个分支没有的所有提交(commit), 和分支之间不共享的提交(commit)的列表。 另一个做法可以是:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e master ^feature/120-on-scroll --no-merges\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"交互式-rebase-interactive-rebase-可能出现的问题\"\u003e\u003ca href=\"#交互式-rebase-interactive-rebase-可能出现的问题\" class=\"headerlink\" title=\"交互式 rebase(interactive rebase)可能出现的问题\"\u003e\u003c/a\u003e交互式 rebase(interactive rebase)可能出现的问题\u003c/h3\u003e\u003ch4 id=\"这个-rebase-编辑屏幕出现’noop’\"\u003e\u003ca href=\"#这个-rebase-编辑屏幕出现’noop’\" class=\"headerlink\" title=\"这个 rebase 编辑屏幕出现’noop’\"\u003e\u003c/a\u003e这个 rebase 编辑屏幕出现’noop’\u003c/h4\u003e\u003cp\u003e如果你看到的是这样:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003enoop\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这意味着你 rebase 的分支和当前分支在同一个提交(commit)上, 或者 \u003cem\u003e领先(ahead)\u003c/em\u003e 当前分支。 你可以尝试:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e检查确保主(master)分支没有问题\u003c/li\u003e\n\u003cli\u003erebase \u003ccode\u003eHEAD\\~2\u003c/code\u003e 或者更早\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"有冲突的情况\"\u003e\u003ca href=\"#有冲突的情况\" class=\"headerlink\" title=\"有冲突的情况\"\u003e\u003c/a\u003e有冲突的情况\u003c/h4\u003e\u003cp\u003e如果你不能成功的完成 rebase, 你可能必须要解决冲突。\u003c/p\u003e\n\u003cp\u003e首先执行 \u003ccode\u003egit status\u003c/code\u003e 找出哪些文件有冲突:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit status\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eOn branch my-branch\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eChanges not staged for commit:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  (use \u0026#34;git add \u0026lt;file\u0026gt;...\u0026#34; to update what will be committed)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  (use \u0026#34;git checkout -- \u0026lt;file\u0026gt;...\u0026#34; to discard changes in working directory)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  modified:   README.md\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在这个例子里面, \u003ccode\u003eREADME.md\u003c/code\u003e 有冲突。 打开这个文件找到类似下面的内容:\u003c/p\u003e\n\u003cfigure class=\"highlight vim\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; HEAD\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esome code\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e=========\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esome code\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; \u003cspan class=\"keyword\"\u003enew\u003c/span\u003e-commit\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e你需要解决新提交的代码(示例里, 从中间\u003ccode\u003e==\u003c/code\u003e线到\u003ccode\u003enew-commit\u003c/code\u003e的地方)与\u003ccode\u003eHEAD\u003c/code\u003e 之间不一样的地方.\u003c/p\u003e\n\u003cp\u003e有时候这些合并非常复杂，你应该使用可视化的差异编辑器(visual diff editor):\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e(master*)$ git mergetool -t opendiff\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在你解决完所有冲突和测试过后, \u003ccode\u003egit add\u003c/code\u003e 变化了的(changed)文件, 然后用\u003ccode\u003egit rebase --continue\u003c/code\u003e 继续 rebase。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit add README.md\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase --\u003cspan class=\"built_in\"\u003econtinue\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果在解决完所有的冲突过后，得到了与提交前一样的结果, 可以执行\u003ccode\u003egit rebase --skip\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e任何时候你想结束整个 rebase 过程，回来 rebase 前的分支状态, 你可以做:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(my-branch)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit rebase --abort\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"查看信息\"\u003e\u003ca href=\"#查看信息\" class=\"headerlink\" title=\"查看信息\"\u003e\u003c/a\u003e查看信息\u003c/h2\u003e\u003cp\u003e显示工作路径下已修改的文件：\u003ccode\u003egit status\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e显示与上次提交版本文件的不同：\u003ccode\u003egit diff\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e显示提交历史：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e从最新提交开始，显示所有的提交记录（显示\u003cspan class=\"built_in\"\u003ehash\u003c/span\u003e， 作者信息，提交的标题和时间）\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e显示某个用户的所有提交\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e --author=\u003cspan class=\"string\"\u003e\u0026#34;username\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e显示某个文件的所有修改\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003elog\u003c/span\u003e -p \u0026lt;file\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e显示搜索内容：\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e从当前目录的所有文件中查找文本内容\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit grep \u003cspan class=\"string\"\u003e\u0026#34;Hello\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e在某一版本中搜索文本\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit grep \u003cspan class=\"string\"\u003e\u0026#34;Hello\u0026#34;\u003c/span\u003e v2.5\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"其他\"\u003e\u003ca href=\"#其他\" class=\"headerlink\" title=\"其他\"\u003e\u003c/a\u003e其他\u003c/h2\u003e\u003ch3 id=\"克隆所有子模块\"\u003e\u003ca href=\"#克隆所有子模块\" class=\"headerlink\" title=\"克隆所有子模块\"\u003e\u003c/a\u003e克隆所有子模块\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit clone --recursive git://github.com/foo/bar.git\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果已经克隆了:\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit submodule update --init --recursive\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"已删除补丁-patch\"\u003e\u003ca href=\"#已删除补丁-patch\" class=\"headerlink\" title=\"已删除补丁(patch)\"\u003e\u003c/a\u003e已删除补丁(patch)\u003c/h3\u003e\u003cp\u003e如果某人在 GitHub 上给你发了一个 pull request, 但是然后他删除了他自己的原始 fork, 你将没法克隆他们的提交(commit)或使用 \u003ccode\u003egit am\u003c/code\u003e。在这种情况下, 最好手动的查看他们的提交(commit)，并把它们拷贝到一个本地新分支，然后做提交。\u003c/p\u003e\n\u003cp\u003e做完提交后, 再修改作者，参见\u003ca href=\"#commit-wrong-author\"\u003e变更作者\u003c/a\u003e。 然后, 应用变化, 再发起一个新的 pull request。\u003c/p\u003e\n\u003ch2 id=\"跟踪文件-Tracking-Files\"\u003e\u003ca href=\"#跟踪文件-Tracking-Files\" class=\"headerlink\" title=\"跟踪文件(Tracking Files)\"\u003e\u003c/a\u003e跟踪文件(Tracking Files)\u003c/h2\u003e\u003ch3 id=\"我只想改变一个文件名字的大小写，而不修改内容\"\u003e\u003ca href=\"#我只想改变一个文件名字的大小写，而不修改内容\" class=\"headerlink\" title=\"我只想改变一个文件名字的大小写，而不修改内容\"\u003e\u003c/a\u003e我只想改变一个文件名字的大小写，而不修改内容\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003emv\u003c/span\u003e --force myfile MyFile\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"我想从-Git-删除一个文件，但保留该文件\"\u003e\u003ca href=\"#我想从-Git-删除一个文件，但保留该文件\" class=\"headerlink\" title=\"我想从 Git 删除一个文件，但保留该文件\"\u003e\u003c/a\u003e我想从 Git 删除一个文件，但保留该文件\u003c/h3\u003e\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit \u003cspan class=\"built_in\"\u003erm\u003c/span\u003e --cached log.txt\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"Fork-项目\"\u003e\u003ca href=\"#Fork-项目\" class=\"headerlink\" title=\"Fork 项目\"\u003e\u003c/a\u003eFork 项目\u003c/h2\u003e\u003cp\u003eGitHub 中 Fork 是 服务端的代码仓库克隆（即 新克隆出来的代码仓库在远程服务端），包含了原来的仓库（即 upstream repository，上游仓库）所有内容，如分支、Tag、提交。代码托管服务（如 Github、BitBucket）提供了方便的完成 Fork 操作的功能（在仓库页面点一下 Fork 按钮）。这样有了一个你自己的可以自由提交的远程仓库，然后可以通过的 Pull Request 把你的提交贡献回 原仓库。而对于原仓库 Owner 来说，鼓励别人 Fork 自己的仓库，通过 Pull Request 给自己的仓库做贡献，也能提高了自己仓库的知名度。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e参考：\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://docs.github.com/en/github/getting-started-with-github/fork-a-repo\"\u003eFork a repo\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e（1）执行 \u003ccode\u003egit remote -v\u003c/code\u003e，您将看到当前为 fork 配置的远程存储库。\u003c/p\u003e\n\u003cp\u003e（2）添加上游项目的仓库地址\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit remote add upstream \u0026lt;github仓库地址\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e（3）确认是否添加成功，再次键入 \u003ccode\u003egit remote -v\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e（4）获取上游项目更新，可以执行 \u003ccode\u003egit fetch upstream\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e（5）同步上游项目的代码到新仓库\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003emerge\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit merge upstream/master\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003erebase\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003egit rebase upstream/master origin/master\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"我不知道我做错了些什么\"\u003e\u003ca href=\"#我不知道我做错了些什么\" class=\"headerlink\" title=\"我不知道我做错了些什么\"\u003e\u003c/a\u003e我不知道我做错了些什么\u003c/h2\u003e\u003cp\u003e你把事情搞砸了：你 \u003ccode\u003e重置(reset)\u003c/code\u003e 了一些东西, 或者你合并了错误的分支, 亦或你强推了后找不到你自己的提交(commit)了。有些时候, 你一直都做得很好, 但你想回到以前的某个状态。\u003c/p\u003e\n\u003cp\u003e这就是 \u003ccode\u003egit reflog\u003c/code\u003e 的目的， \u003ccode\u003ereflog\u003c/code\u003e 记录对分支顶端(the tip of a branch)的任何改变, 即使那个顶端没有被任何分支或标签引用。基本上, 每次 HEAD 的改变, 一条新的记录就会增加到\u003ccode\u003ereflog\u003c/code\u003e。遗憾的是，这只对本地分支起作用，且它只跟踪动作 (例如，不会跟踪一个没有被记录的文件的任何改变)。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e(master)$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003egit reflog\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0a2e358 HEAD@{0}: reset: moving to HEAD\\~2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0254ea7 HEAD@{1}: checkout: moving from 2.2 to master\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ec10f740 HEAD@{2}: checkout: moving from master to 2.2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e上面的 reflog 展示了从 master 分支签出(checkout)到 2.2 分支，然后再签回。 那里，还有一个硬重置(hard reset)到一个较旧的提交。最新的动作出现在最上面以 \u003ccode\u003eHEAD@{0}\u003c/code\u003e标识.\u003c/p\u003e\n\u003cp\u003e如果事实证明你不小心回移(move back)了提交(commit), reflog 会包含你不小心回移前 master 上指向的提交(0254ea7)。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egit reset --hard 0254ea7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e然后使用 git reset 就可以把 master 改回到之前的 commit，这提供了一个在历史被意外更改情况下的安全网。\u003c/p\u003e\n\u003ch2 id=\"📚-资料\"\u003e\u003ca href=\"#📚-资料\" class=\"headerlink\" title=\"📚 资料\"\u003e\u003c/a\u003e📚 资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e官方资源\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/\"\u003eGit 官网\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/git/git\"\u003eGit Github\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://guides.github.com/\"\u003eGithub 官方教程\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e模板\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/github/gitignore\"\u003egitignore 模板\u003c/a\u003e - .gitignore 文件模板\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/alexkaratarakis/gitattributes\"\u003egitattributes 模板\u003c/a\u003e - .gitattributes 文件模板\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/tiimgreen/github-cheat-sheet\"\u003egithub-cheat-sheet\u003c/a\u003e - git 命令简略图表\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGit 教程\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://learngitbranching.js.org/\"\u003eLearn Git branching\u003c/a\u003e - 交互式教程\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/book/zh/v2\"\u003eGit 官方推荐教程\u003c/a\u003e - Scott Chacon 的 Git 书。\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/k88hudson/git-flight-rules\"\u003egit-flight-rules\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/521xueweihan/git-tips\"\u003egit-tips\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/geeeeeeeeek/git-recipes\"\u003eGit 中文教程\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\"\u003e廖雪峰的 Git 教程\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/xirong/my-git\"\u003e有关 git 的学习资源\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e文章\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/k88hudson/git-flight-rules/blob/master/README_zh-CN.md\"\u003eGit Cookbook\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/521xueweihan/git-tips\"\u003eGit 奇技淫巧\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/aseaday/git-style-guide\"\u003eGit 风格指南\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://www.cnblogs.com/cnblogsfans/p/5075073.html\"\u003eGit 在团队中的最佳实践–如何正确使用 Git Flow\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html\"\u003eCommit message 和 Change log 编写指南\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGit 工具\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-scm.com/downloads/guis\"\u003eguis\u003c/a\u003e - Git 官网展示的客户端工具列表。\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/gogits/gogs\"\u003egogs\u003c/a\u003e - 极易搭建的自助 Git 服务。\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/nvie/gitflow\"\u003egitflow\u003c/a\u003e - 应用 \u003ca target=\"_blank\" rel=\"noopener\" href=\"http://nvie.com/posts/a-successful-git-branching-model/\"\u003efit-flow\u003c/a\u003e 模型的工具。\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://firstaidgit.io/\"\u003efirstaidgit.io\u003c/a\u003e 一个可搜索的最常被问到的 Git 的问题\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/unixorn/git-extra-commands\"\u003egit-extra-commands\u003c/a\u003e - 一堆有用的额外的 Git 脚本\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/tj/git-extras\"\u003egit-extras\u003c/a\u003e - GIT 工具集 – repo summary, repl, changelog population, author commit percentages and more\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/qw3rtman/git-fire\"\u003egit-fire\u003c/a\u003e - git-fire 是一个 Git 插件，用于帮助在紧急情况下添加所有当前文件, 做提交(committing), 和推(push)到一个新分支(阻止合并冲突)。\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/git-tips/tips\"\u003egit-tips\u003c/a\u003e - Git 小提示\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/Originate/git-town\"\u003egit-town\u003c/a\u003e - 通用，高级 Git 工作流支持！\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eGUI 客户端\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.gitkraken.com/\"\u003eGitKraken\u003c/a\u003e - 豪华的 Git 客户端 Windows, Mac \u0026amp; Linux\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://git-cola.github.io/\"\u003egit-cola\u003c/a\u003e - 另外一个 Git 客户端 Windows \u0026amp; OS X\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/git-up/GitUp\"\u003eGitUp\u003c/a\u003e - 一个新的 Git 客户端，在处理 Git 的复杂性上有自己的特点\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://rowanj.github.io/gitx/\"\u003egitx-dev\u003c/a\u003e - 图形化的 Git 客户端 OS X\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.sourcetreeapp.com/\"\u003eSource Tree\u003c/a\u003e - 免费的图形化 Git 客户端 Windows \u0026amp; OS X\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://www.git-tower.com/\"\u003eTower\u003c/a\u003e - 图形化 Git 客户端 OS X(付费)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003egit cheat sheet\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf\"\u003egithub-git-cheat-sheet\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2021-04-16T10:19:18Z",
  "Author": "钝悟 ◾ Dunwu"
}