{
  "Source": "dunwu",
  "Title": "HBase 快速入门",
  "Link": "https://dunwu.github.io/blog/pages/7ab03c/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"HBase-快速入门\"\u003e\u003ca href=\"#HBase-快速入门\" class=\"headerlink\" title=\"HBase 快速入门\"\u003e\u003c/a\u003eHBase 快速入门\u003c/h1\u003e\u003ch2 id=\"HBase-简介\"\u003e\u003ca href=\"#HBase-简介\" class=\"headerlink\" title=\"HBase 简介\"\u003e\u003c/a\u003eHBase 简介\u003c/h2\u003e\u003ch3 id=\"为什么需要-HBase\"\u003e\u003ca href=\"#为什么需要-HBase\" class=\"headerlink\" title=\"为什么需要 HBase\"\u003e\u003c/a\u003e为什么需要 HBase\u003c/h3\u003e\u003cp\u003e在介绍 HBase 之前，我们不妨先了解一下为什么需要 HBase，或者说 HBase 是为了达到什么目的而产生。\u003c/p\u003e\n\u003cp\u003e在 HBase 诞生之前，Hadoop 可以通过 HDFS 来存储结构化、半结构甚至非结构化的数据，它是传统数据库的补充，是海量数据存储的最佳方法，它针对大文件的存储，批量访问和流式访问都做了优化，同时也通过多副本解决了容灾问题。\u003c/p\u003e\n\u003cp\u003eHadoop 的缺陷在于：它只能执行批处理，并且只能以顺序方式访问数据。这意味着即使是最简单的工作，也必须搜索整个数据集，即：\u003cstrong\u003eHadoop 无法实现对数据的随机访问\u003c/strong\u003e。实现数据的随机访问是传统的关系型数据库所擅长的，但它们却不能用于海量数据的存储。在这种情况下，必须有一种新的方案来\u003cstrong\u003e同时解决海量数据存储和随机访问的问题\u003c/strong\u003e，HBase 就是其中之一 (HBase，Cassandra，couchDB，Dynamo 和 MongoDB 都能存储海量数据并支持随机访问)。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e注：数据结构分类：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e结构化数据：即以关系型数据库表形式管理的数据；\u003c/li\u003e\n\u003cli\u003e半结构化数据：非关系模型的，有基本固定结构模式的数据，例如日志文件、XML 文档、JSON 文档、Email 等；\u003c/li\u003e\n\u003cli\u003e非结构化数据：没有固定模式的数据，如 WORD、PDF、PPT、EXL，各种格式的图片、视频等。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"什么是-HBase\"\u003e\u003ca href=\"#什么是-HBase\" class=\"headerlink\" title=\"什么是 HBase\"\u003e\u003c/a\u003e什么是 HBase\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eHBase 是一个构建在 HDFS（Hadoop 文件系统）之上的列式数据库\u003c/strong\u003e。\u003c/p\u003e\n\u003cp\u003eHBase 是一种类似于 \u003ccode\u003eGoogle’s Big Table\u003c/code\u003e 的数据模型，它是 Hadoop 生态系统的一部分，它将数据存储在 HDFS 上，客户端可以通过 HBase 实现对 HDFS 上数据的随机访问。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://raw.githubusercontent.com/dunwu/images/master/snap/20200601170449.png\" alt=\"img\"/\u003e\u003c/p\u003e\n\u003cp\u003eHBase 的\u003cstrong\u003e核心特性\u003c/strong\u003e如下：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e分布式\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e伸缩性\u003c/strong\u003e：支持通过增减机器进行水平扩展，以提升整体容量和性能\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e高可用\u003c/strong\u003e：支持 RegionServers 之间的自动故障转移\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e自动分区\u003c/strong\u003e：Region 分散在集群中，当行数增长的时候，Region 也会自动的分区再均衡\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e超大数据集\u003c/strong\u003e：HBase 被设计用来读写超大规模的数据集（数十亿行至数百亿行的表）\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e支持结构化、半结构化和非结构化的数据\u003c/strong\u003e：由于 HBase 基于 HDFS 构建，所以和 HDFS 一样，支持结构化、半结构化和非结构化的数据\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e非关系型数据库\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e不支持标准 SQL 语法\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e没有真正的索引\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e不支持复杂的事务\u003c/strong\u003e：只支持行级事务，即单行数据的读写都是原子性的\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eHBase 的其他特性\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e读写操作遵循强一致性\u003c/li\u003e\n\u003cli\u003e过滤器支持谓词下推\u003c/li\u003e\n\u003cli\u003e易于使用的 Java 客户端 API\u003c/li\u003e\n\u003cli\u003e它支持线性和模块化可扩展性。\u003c/li\u003e\n\u003cli\u003eHBase 表支持 Hadoop MapReduce 作业的便捷基类\u003c/li\u003e\n\u003cli\u003e很容易使用 Java API 进行客户端访问\u003c/li\u003e\n\u003cli\u003e为实时查询提供块缓存 BlockCache 和布隆过滤器\u003c/li\u003e\n\u003cli\u003e它通过服务器端过滤器提供查询谓词下推\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"什么时候使用-HBase\"\u003e\u003ca href=\"#什么时候使用-HBase\" class=\"headerlink\" title=\"什么时候使用 HBase\"\u003e\u003c/a\u003e什么时候使用 HBase\u003c/h3\u003e\u003cp\u003e根据上一节对于 HBase 特性的介绍，我们可以梳理出 HBase 适用、不适用的场景：\u003c/p\u003e\n\u003cp\u003eHBase 不适用场景：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e需要索引\u003c/li\u003e\n\u003cli\u003e需要复杂的事务\u003c/li\u003e\n\u003cli\u003e数据量较小（比如：数据量不足几百万行）\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eHBase 适用场景：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e能存储海量数据并支持随机访问（比如：数据量级达到十亿级至百亿级）\u003c/li\u003e\n\u003cli\u003e存储结构化、半结构化数据\u003c/li\u003e\n\u003cli\u003e硬件资源充足\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e一言以蔽之——HBase 适用的场景是：\u003cstrong\u003e实时地随机访问超大数据集\u003c/strong\u003e。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eHBase 的典型应用场景\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e存储监控数据\u003c/li\u003e\n\u003cli\u003e存储用户/车辆 GPS 信息\u003c/li\u003e\n\u003cli\u003e存储用户行为数据\u003c/li\u003e\n\u003cli\u003e存储各种日志数据，如：访问日志、操作日志、推送日志等。\u003c/li\u003e\n\u003cli\u003e存储短信、邮件等消息类数据\u003c/li\u003e\n\u003cli\u003e存储网页数据\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"HBase-数据模型简介\"\u003e\u003ca href=\"#HBase-数据模型简介\" class=\"headerlink\" title=\"HBase 数据模型简介\"\u003e\u003c/a\u003eHBase 数据模型简介\u003c/h3\u003e\u003cp\u003e前面已经提及，HBase 是一个列式数据库，其数据模型和关系型数据库有所不同。其数据模型的关键术语如下：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTable：HBase 表由多行组成。\u003c/li\u003e\n\u003cli\u003eRow：HBase 中的一行由一个行键和一个或多个列以及与之关联的值组成。 行在存储时按行键的字母顺序排序。 为此，行键的设计非常重要。 目标是以相关行彼此靠近的方式存储数据。 常见的行键模式是网站域。 如果您的行键是域，您应该将它们反向存储（org.apache.www、org.apache.mail、org.apache.jira）。 这样，所有 Apache 域在表中彼此靠近，而不是根据子域的第一个字母展开。\u003c/li\u003e\n\u003cli\u003eColumn：HBase 中的列由列族和列限定符组成，它们由 :（冒号）字符分隔。\u003c/li\u003e\n\u003cli\u003eColumn Family：通常出于性能原因，列族在物理上将一组列及其值放在一起。 每个列族都有一组存储属性，例如它的值是否应该缓存在内存中，它的数据是如何压缩的，它的行键是如何编码的，等等。 表中的每一行都有相同的列族，尽管给定的行可能不在给定的列族中存储任何内容。\u003c/li\u003e\n\u003cli\u003e列限定符：将列限定符添加到列族以提供给定数据片段的索引。 给定列族内容，列限定符可能是 content:html，另一个可能是 content:pdf。 尽管列族在表创建时是固定的，但列限定符是可变的，并且行之间可能有很大差异。\u003c/li\u003e\n\u003cli\u003eCell：单元格是行、列族和列限定符的组合，包含一个值和一个时间戳，代表值的版本。\u003c/li\u003e\n\u003cli\u003eTimestamp：时间戳写在每个值旁边，是给定版本值的标识符。 默认情况下，时间戳表示写入数据时 RegionServer 上的时间，但您可以在将数据放入单元格时指定不同的时间戳值。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"https://raw.githubusercontent.com/dunwu/images/master/cs/bigdata/hbase/1551164224778.png\" alt=\"img\"/\u003e\u003c/p\u003e\n\u003ch3 id=\"特性比较\"\u003e\u003ca href=\"#特性比较\" class=\"headerlink\" title=\"特性比较\"\u003e\u003c/a\u003e特性比较\u003c/h3\u003e\u003ch4 id=\"HBase-vs-RDBMS\"\u003e\u003ca href=\"#HBase-vs-RDBMS\" class=\"headerlink\" title=\"HBase vs. RDBMS\"\u003e\u003c/a\u003eHBase vs. RDBMS\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eRDBMS\u003c/th\u003e\n\u003cth\u003eHBase\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eRDBMS 有它的模式，描述表的整体结构的约束\u003c/td\u003e\n\u003ctd\u003eHBase 无模式，它不具有固定列模式的概念；仅定义列族\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e支持的文件系统有 FAT、NTFS 和 EXT\u003c/td\u003e\n\u003ctd\u003e支持的文件系统只有 HDFS\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e使用提交日志来存储日志\u003c/td\u003e\n\u003ctd\u003e使用预写日志 (WAL) 来存储日志\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e使用特定的协调系统来协调集群\u003c/td\u003e\n\u003ctd\u003e使用 ZooKeeper 来协调集群\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e存储的都是中小规模的数据表\u003c/td\u003e\n\u003ctd\u003e存储的是超大规模的数据表，并且适合存储宽表\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e通常支持复杂的事务\u003c/td\u003e\n\u003ctd\u003e仅支持行级事务\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e适用于结构化数据\u003c/td\u003e\n\u003ctd\u003e适用于半结构化、结构化数据\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e使用主键\u003c/td\u003e\n\u003ctd\u003e使用 row key\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch4 id=\"HBase-vs-HDFS\"\u003e\u003ca href=\"#HBase-vs-HDFS\" class=\"headerlink\" title=\"HBase vs. HDFS\"\u003e\u003c/a\u003eHBase vs. HDFS\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eHDFS\u003c/th\u003e\n\u003cth\u003eHBase\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003eHDFS 提供了一个用于分布式存储的文件系统。\u003c/td\u003e\n\u003ctd\u003eHBase 提供面向表格列的数据存储。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eHDFS 为大文件提供优化存储。\u003c/td\u003e\n\u003ctd\u003eHBase 为表格数据提供了优化。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eHDFS 使用块文件。\u003c/td\u003e\n\u003ctd\u003eHBase 使用键值对数据。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eHDFS 数据模型不灵活。\u003c/td\u003e\n\u003ctd\u003eHBase 提供了一个灵活的数据模型。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eHDFS 使用文件系统和处理框架。\u003c/td\u003e\n\u003ctd\u003eHBase 使用带有内置 Hadoop MapReduce 支持的表格存储。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eHDFS 主要针对一次写入多次读取进行了优化。\u003c/td\u003e\n\u003ctd\u003eHBase 针对读/写许多进行了优化。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch4 id=\"行式数据库-vs-列式数据库\"\u003e\u003ca href=\"#行式数据库-vs-列式数据库\" class=\"headerlink\" title=\"行式数据库 vs. 列式数据库\"\u003e\u003c/a\u003e行式数据库 vs. 列式数据库\u003c/h4\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e行式数据库\u003c/th\u003e\n\u003cth\u003e列式数据库\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e对于添加/修改操作更高效\u003c/td\u003e\n\u003ctd\u003e对于读取操作更高效\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e读取整行数据\u003c/td\u003e\n\u003ctd\u003e仅读取必要的列数据\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e最适合在线事务处理系统（OLTP）\u003c/td\u003e\n\u003ctd\u003e不适合在线事务处理系统（OLTP）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e将行数据存储在连续的页内存中\u003c/td\u003e\n\u003ctd\u003e将列数据存储在非连续的页内存中\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003e列式数据库的优点：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e支持数据压缩\u003c/li\u003e\n\u003cli\u003e支持快速数据检索\u003c/li\u003e\n\u003cli\u003e简化了管理和配置\u003c/li\u003e\n\u003cli\u003e有利于聚合查询（例如 COUNT、SUM、AVG、MIN 和 MAX）的高性能\u003c/li\u003e\n\u003cli\u003e分区效率很高，因为它提供了自动分片机制的功能，可以将较大的区域分配给较小的区域\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e列式数据库的缺点：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJOIN 查询和来自多个表的数据未优化\u003c/li\u003e\n\u003cli\u003e必须为频繁的删除和更新创建拆分，因此降低了存储效率\u003c/li\u003e\n\u003cli\u003e由于非关系数据库的特性，分区和索引的设计非常困难\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"HBase-安装\"\u003e\u003ca href=\"#HBase-安装\" class=\"headerlink\" title=\"HBase 安装\"\u003e\u003c/a\u003eHBase 安装\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://hbase.apache.org/book.html#quickstart\"\u003e独立模式\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://hbase.apache.org/book.html#quickstart_pseudo\"\u003e伪分布式模式\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://hbase.apache.org/book.html#quickstart_fully_distributed\"\u003e全分布式模式\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/big-data-europe/docker-hbase\"\u003eDocker 部署\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"HBase-Hello-World-示例\"\u003e\u003ca href=\"#HBase-Hello-World-示例\" class=\"headerlink\" title=\"HBase Hello World 示例\"\u003e\u003c/a\u003eHBase Hello World 示例\u003c/h2\u003e\u003col\u003e\n\u003cli\u003e\u003cp\u003e连接 HBase\u003c/p\u003e\n\u003cp\u003e在 HBase 安装目录的 \u003ccode\u003e/bin\u003c/code\u003e 目录下执行 \u003ccode\u003ehbase shell\u003c/code\u003e 命令进入 HBase 控制台。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"meta prompt_\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e./bin/hbase shell\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehbase(main):001:0\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e输入 \u003ccode\u003ehelp\u003c/code\u003e 可以查看 HBase Shell 命令。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e创建表\u003c/p\u003e\n\u003cp\u003e可以使用 \u003ccode\u003ecreate\u003c/code\u003e 命令创建一张新表。必须要指定表名和 Column Family。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):001:0\u0026gt; create \u0026#39;test\u0026#39;, \u0026#39;cf\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.4170 seconds\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e=\u0026gt; Hbase::Table - test\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e列出表信息\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003elist\u003c/code\u003e 命令来确认新建的表已存在。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):002:0\u0026gt; list \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eTABLE\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003etest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e1 row(s) in 0.0180 seconds\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e=\u0026gt; [\u0026#34;test\u0026#34;]\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e可以使用 \u003ccode\u003edescribe\u003c/code\u003e 命令可以查看表的细节信息，包括配置信息\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):003:0\u0026gt; describe \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eTable test is ENABLED\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003etest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCOLUMN FAMILIES DESCRIPTION\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e{NAME =\u0026gt; \u0026#39;cf\u0026#39;, VERSIONS =\u0026gt; \u0026#39;1\u0026#39;, EVICT_BLOCKS_ON_CLOSE =\u0026gt; \u0026#39;false\u0026#39;, NEW_VERSION_BEHAVIOR =\u0026gt; \u0026#39;false\u0026#39;, KEEP_DELETED_CELLS =\u0026gt; \u0026#39;FALSE\u0026#39;, CACHE_DATA_ON_WRITE =\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026#39;false\u0026#39;, DATA_BLOCK_ENCODING =\u0026gt; \u0026#39;NONE\u0026#39;, TTL =\u0026gt; \u0026#39;FOREVER\u0026#39;, MIN_VERSIONS =\u0026gt; \u0026#39;0\u0026#39;, REPLICATION_SCOPE =\u0026gt; \u0026#39;0\u0026#39;, BLOOMFILTER =\u0026gt; \u0026#39;ROW\u0026#39;, CACHE_INDEX_ON_WRITE =\u0026gt; \u0026#39;f\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ealse\u0026#39;, IN_MEMORY =\u0026gt; \u0026#39;false\u0026#39;, CACHE_BLOOMS_ON_WRITE =\u0026gt; \u0026#39;false\u0026#39;, PREFETCH_BLOCKS_ON_OPEN =\u0026gt; \u0026#39;false\u0026#39;, COMPRESSION =\u0026gt; \u0026#39;NONE\u0026#39;, BLOCKCACHE =\u0026gt; \u0026#39;true\u0026#39;, BLOCKSIZE\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e =\u0026gt; \u0026#39;65536\u0026#39;}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e1 row(s)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eTook 0.9998 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e向表中写数据\u003c/p\u003e\n\u003cp\u003e可以使用 \u003ccode\u003eput\u003c/code\u003e 命令向 HBase 表中写数据。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):003:0\u0026gt; put \u0026#39;test\u0026#39;, \u0026#39;row1\u0026#39;, \u0026#39;cf:a\u0026#39;, \u0026#39;value1\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.0850 seconds\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehbase(main):004:0\u0026gt; put \u0026#39;test\u0026#39;, \u0026#39;row2\u0026#39;, \u0026#39;cf:b\u0026#39;, \u0026#39;value2\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.0110 seconds\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehbase(main):005:0\u0026gt; put \u0026#39;test\u0026#39;, \u0026#39;row3\u0026#39;, \u0026#39;cf:c\u0026#39;, \u0026#39;value3\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.0100 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e一次性扫描表的所有数据\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003escan\u003c/code\u003e 命令来扫描表数据。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):006:0\u0026gt; scan \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eROW                                      COLUMN+CELL\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e row1                                    column=cf:a, timestamp=1421762485768, value=value1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e row2                                    column=cf:b, timestamp=1421762491785, value=value2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e row3                                    column=cf:c, timestamp=1421762496210, value=value3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3 row(s) in 0.0230 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e查看一行数据\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003eget\u003c/code\u003e 命令可以查看一行表数据。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):007:0\u0026gt; get \u0026#39;test\u0026#39;, \u0026#39;row1\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCOLUMN                                   CELL\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e cf:a                                    timestamp=1421762485768, value=value1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e1 row(s) in 0.0350 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e禁用表\u003c/p\u003e\n\u003cp\u003e如果想要删除表或修改表设置，必须先使用 \u003ccode\u003edisable\u003c/code\u003e 命令禁用表。如果想再次启用表，可以使用 \u003ccode\u003eenable\u003c/code\u003e 命令。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):008:0\u0026gt; disable \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 1.1820 seconds\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehbase(main):009:0\u0026gt; enable \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.1770 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e删除表\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003edrop\u003c/code\u003e 命令可以删除表。\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ehbase(main):011:0\u0026gt; drop \u0026#39;test\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e0 row(s) in 0.1370 seconds\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e退出 HBase Shell\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003equit\u003c/code\u003e 命令，就能退出 HBase Shell 控制台。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"参考资料\"\u003e\u003ca href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"\u003e\u003c/a\u003e参考资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e官方\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://hbase.apache.org/\"\u003eHBase 官网\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://hbase.apache.org/book.html\"\u003eHBase 官方文档\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://abloz.com/hbase/book.html\"\u003eHBase 官方文档中文版\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e书籍\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://book.douban.com/subject/27600204/\"\u003eHadoop 权威指南\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e文章\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://static.googleusercontent.com/media/research.google.com/zh-CN//archive/bigtable-osdi06.pdf\"\u003eBigtable: A Distributed Storage System for Structured Data\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://mapr.com/blog/in-depth-look-hbase-architecture\"\u003eAn In-Depth Look at the HBase Architecture\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e教程\u003c/strong\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/heibaiying/BigData-Notes\"\u003ehttps://github.com/heibaiying/BigData-Notes\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.cloudduggu.com/hbase/introduction/\"\u003ehttps://www.cloudduggu.com/hbase/introduction/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2020-02-10T06:27:39Z",
  "Author": "钝悟 ◾ Dunwu"
}