{
  "Source": "dunwu",
  "Title": "ZooKeeperAcl",
  "Link": "https://dunwu.github.io/blog/pages/4046ce/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\u003ch1 id=\"ZooKeeper-ACL\"\u003e\u003ca href=\"#ZooKeeper-ACL\" class=\"headerlink\" title=\"ZooKeeper ACL\"\u003e\u003c/a\u003eZooKeeper ACL\u003c/h1\u003e\u003cblockquote\u003e\n\u003cp\u003e为了避免存储在 Zookeeper 上的数据被其他程序或者人为误修改，Zookeeper 提供了 ACL(Access Control Lists) 进行权限控制。\u003c/p\u003e\n\u003cp\u003eACL 权限可以针对节点设置相关读写等权限，保障数据安全性。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eZooKeeper ACL 提供了以下几种命令行：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003egetAcl 命令\u003c/strong\u003e：获取某个节点的 acl 权限信息。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esetAcl 命令\u003c/strong\u003e：设置某个节点的 acl 权限信息。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eaddauth 命令\u003c/strong\u003e：输入认证授权信息，注册时输入明文密码，加密形式保存。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ACL-组成\"\u003e\u003ca href=\"#ACL-组成\" class=\"headerlink\" title=\"ACL 组成\"\u003e\u003c/a\u003eACL 组成\u003c/h2\u003e\u003cp\u003eZookeeper 的 acl 通过 \u003cstrong\u003e\u003ccode\u003e[scheme:id:permissions]\u003c/code\u003e\u003c/strong\u003e 来构成权限列表。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003escheme\u003c/strong\u003e：代表采用的某种权限机制，包括 world、auth、digest、ip、super 几种。\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eworld\u003c/strong\u003e：默认模式，所有客户端都拥有指定的权限。world 下只有一个 id 选项，就是 anyone，通常组合写法为 \u003ccode\u003eworld:anyone:[permissons]\u003c/code\u003e；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eauth\u003c/strong\u003e：只有经过认证的用户才拥有指定的权限。通常组合写法为 \u003ccode\u003eauth:user:password:[permissons]\u003c/code\u003e，使用这种模式时，你需要先进行登录，之后采用 auth 模式设置权限时，\u003ccode\u003euser\u003c/code\u003e 和 \u003ccode\u003epassword\u003c/code\u003e 都将使用登录的用户名和密码；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edigest\u003c/strong\u003e：只有经过认证的用户才拥有指定的权限。通常组合写法为 \u003ccode\u003eauth:user:BASE64(SHA1(password)):[permissons]\u003c/code\u003e，这种形式下的密码必须通过 SHA1 和 BASE64 进行双重加密；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eip\u003c/strong\u003e：限制只有特定 IP 的客户端才拥有指定的权限。通常组成写法为 \u003ccode\u003eip:182.168.0.168:[permissions]\u003c/code\u003e；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esuper\u003c/strong\u003e：代表超级管理员，拥有所有的权限，需要修改 Zookeeper 启动脚本进行配置。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eid\u003c/strong\u003e：代表允许访问的用户。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003epermissions\u003c/strong\u003e：权限组合字符串，由 cdrwa 组成，其中每个字母代表支持不同权限。可选项如下：\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eCREATE\u003c/strong\u003e：允许创建子节点；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eREAD\u003c/strong\u003e：允许从节点获取数据并列出其子节点；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eWRITE\u003c/strong\u003e：允许为节点设置数据；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDELETE\u003c/strong\u003e：允许删除子节点；\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eADMIN\u003c/strong\u003e：允许为节点设置权限。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"设置与查看权限\"\u003e\u003ca href=\"#设置与查看权限\" class=\"headerlink\" title=\"设置与查看权限\"\u003e\u003c/a\u003e设置与查看权限\u003c/h2\u003e\u003cp\u003e想要给某个节点设置权限 (ACL)，有以下两个可选的命令：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 1.给已有节点赋予权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esetAcl path acl\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 2.在创建节点时候指定权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecreate [-s] [-e] path data acl\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e查看指定节点的权限命令如下：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003egetAcl path\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"添加认证信息\"\u003e\u003ca href=\"#添加认证信息\" class=\"headerlink\" title=\"添加认证信息\"\u003e\u003c/a\u003e添加认证信息\u003c/h2\u003e\u003cp\u003e可以使用如下所示的命令为当前 Session 添加用户认证信息，等价于登录操作。\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 格式\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eaddauth scheme auth\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e#示例：添加用户名为test,密码为root的用户认证信息\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eaddauth digest \u003cspan class=\"built_in\"\u003etest\u003c/span\u003e:root\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"权限设置示例\"\u003e\u003ca href=\"#权限设置示例\" class=\"headerlink\" title=\"权限设置示例\"\u003e\u003c/a\u003e权限设置示例\u003c/h2\u003e\u003ch3 id=\"world-模式\"\u003e\u003ca href=\"#world-模式\" class=\"headerlink\" title=\"world 模式\"\u003e\u003c/a\u003eworld 模式\u003c/h3\u003e\u003cp\u003eworld 是一种默认的模式，即创建时如果不指定权限，则默认的权限就是 world。\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 32] create /mytest abc\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCreated /mytest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 4] getAcl /mytest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#39;world,\u0026#39;\u003c/span\u003eanyone \u003cspan class=\"comment\"\u003e# 默认的权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e: cdrwa\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 34] setAcl /mytest world:anyone:cwda \u003cspan class=\"comment\"\u003e# 修改节点，不允许所有客户端读\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e....\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 6] get /mytest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eorg.apache.zookeeper.KeeperException\u003cspan class=\"variable\"\u003e$NoAuthException\u003c/span\u003e: KeeperErrorCode = NoAuth \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e /mytest \u003cspan class=\"comment\"\u003e# 无权访问\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"auth-模式\"\u003e\u003ca href=\"#auth-模式\" class=\"headerlink\" title=\"auth 模式\"\u003e\u003c/a\u003eauth 模式\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 36] addauth digest \u003cspan class=\"built_in\"\u003etest\u003c/span\u003e:root \u003cspan class=\"comment\"\u003e# 登录\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 37] setAcl /mytest auth::cdrwa \u003cspan class=\"comment\"\u003e# 设置权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 38] getAcl /mytest \u003cspan class=\"comment\"\u003e# 查看权限信息\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#39;digest,\u0026#39;\u003c/span\u003eheibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s= \u003cspan class=\"comment\"\u003e# 用户名和密码 (密码经过加密处理)，注意返回的权限类型是 digest\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e: cdrwa\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 用户名和密码都是使用登录的用户名和密码，即使你在创建权限时候进行指定也是无效的\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 39] setAcl /mytest auth:root:root:cdrwa    \u003cspan class=\"comment\"\u003e#指定用户名和密码为 root\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 40] getAcl /mytest\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#39;digest,\u0026#39;\u003c/span\u003eheibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s=  \u003cspan class=\"comment\"\u003e#无效，使用的用户名和密码依然还是 test\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e: cdrwa\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"digest-模式\"\u003e\u003ca href=\"#digest-模式\" class=\"headerlink\" title=\"digest 模式\"\u003e\u003c/a\u003edigest 模式\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[zk:44] create /spark \u003cspan class=\"string\"\u003e\u0026#34;spark\u0026#34;\u003c/span\u003e digest:heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s=:cdrwa  \u003cspan class=\"comment\"\u003e#指定用户名和加密后的密码\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk:45] getAcl /spark  \u003cspan class=\"comment\"\u003e#获取权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#39;digest,\u0026#39;\u003c/span\u003eheibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s=   \u003cspan class=\"comment\"\u003e# 返回的权限类型是 digest\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e: cdrwa\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e到这里你可以发现使用 \u003ccode\u003eauth\u003c/code\u003e 模式设置的权限和使用 \u003ccode\u003edigest\u003c/code\u003e 模式设置的权限，在最终结果上，得到的权限模式都是 \u003ccode\u003edigest\u003c/code\u003e。某种程度上，你可以把 \u003ccode\u003eauth\u003c/code\u003e 模式理解成是 \u003ccode\u003edigest\u003c/code\u003e 模式的一种简便实现。因为在 \u003ccode\u003edigest\u003c/code\u003e 模式下，每次设置都需要书写用户名和加密后的密码，这是比较繁琐的，采用 \u003ccode\u003eauth\u003c/code\u003e 模式就可以避免这种麻烦。\u003c/p\u003e\n\u003ch3 id=\"ip-模式\"\u003e\u003ca href=\"#ip-模式\" class=\"headerlink\" title=\"ip 模式\"\u003e\u003c/a\u003eip 模式\u003c/h3\u003e\u003cp\u003e限定只有特定的 ip 才能访问。\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 46] create /hive \u003cspan class=\"string\"\u003e\u0026#34;hive\u0026#34;\u003c/span\u003e ip:192.168.0.108:cdrwa\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 47] get /hive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthentication is not valid : /hive  \u003cspan class=\"comment\"\u003e# 当前主机已经不能访问\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这里可以看到当前主机已经不能访问，想要能够再次访问，可以使用对应 IP 的客户端，或使用下面介绍的 \u003ccode\u003esuper\u003c/code\u003e 模式。\u003c/p\u003e\n\u003ch3 id=\"super-模式\"\u003e\u003ca href=\"#super-模式\" class=\"headerlink\" title=\"super 模式\"\u003e\u003c/a\u003esuper 模式\u003c/h3\u003e\u003cp\u003e需要修改启动脚本 \u003ccode\u003ezkServer.sh\u003c/code\u003e，并在指定位置添加超级管理员账户和密码信息：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#34;-Dzookeeper.DigestAuthenticationProvider.superDigest=heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s=\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e修改完成后需要使用 \u003ccode\u003ezkServer.sh restart\u003c/code\u003e 重启服务，此时再次访问限制 IP 的节点：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 0] get /hive  \u003cspan class=\"comment\"\u003e#访问受限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAuthentication is not valid : /hive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 1] addauth digest heibai:heibai  \u003cspan class=\"comment\"\u003e# 登录 (添加认证信息)\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[zk: localhost:2181(CONNECTED) 2] get /hive  \u003cspan class=\"comment\"\u003e#成功访问\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ehive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecZxid = 0x158\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ectime = Sat May 25 09:11:29 CST 2019\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emZxid = 0x158\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emtime = Sat May 25 09:11:29 CST 2019\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epZxid = 0x158\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ecversion = 0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edataVersion = 0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eaclVersion = 0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eephemeralOwner = 0x0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edataLength = 4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003enumChildren = 0\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"参考资料\"\u003e\u003ca href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"\u003e\u003c/a\u003e参考资料\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.w3cschool.cn/zookeeper/zookeeper_installation.html\"\u003eZookeeper 安装\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/heibaiying/BigData-Notes/blob/master/notes/installation/Zookeeper%E5%8D%95%E6%9C%BA%E7%8E%AF%E5%A2%83%E5%92%8C%E9%9B%86%E7%BE%A4%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md\"\u003eZookeeper 单机环境和集群环境搭建\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.runoob.com/w3cnote/zookeeper-bs-command.html\"\u003eZookeeper 客户端基础命令使用\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2022-02-19T05:27:21Z",
  "Author": "钝悟 ◾ Dunwu"
}