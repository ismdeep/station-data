{
  "Source": "izsk.me",
  "Title": "Linux下使用lvm将多块盘合并",
  "Link": "https://izsk.me/2020/09/15/System-use-lvm-manager-disks/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n      \n\n      \n        \u003cp\u003e需求: 将vdb vdc这两个500G的盘合并成一个1000G的盘，然后新建一个目录挂载到大盘上，当大盘出现磁盘紧张的时候还可以自动扩容.\u003c/p\u003e\n\u003cp\u003e由于部门里有基础服务的同事，很少有机会直接接触lvm，刚好最近有几台物理服务器，借这个机会，就尝试自己实践了一番\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\n\n\u003ch3 id=\"lsblk\"\u003e\u003ca href=\"#lsblk\" class=\"headerlink\" title=\"lsblk\"\u003e\u003c/a\u003elsblk\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用lsblk 查看当前挂载的磁盘\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003elsblk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eNAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evda    253:0    0   50G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vda1 253:1    0   50G  0 part /\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdb    253:16   0  500G  0 disk /data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdc    253:32   0  500G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这里将vdb vdc这两个500G的盘合并成一个1000G的盘，然后新建一个目录挂载到大盘上\u003c/p\u003e\n\u003ch3 id=\"fdisk\"\u003e\u003ca href=\"#fdisk\" class=\"headerlink\" title=\"fdisk\"\u003e\u003c/a\u003efdisk\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e31\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e32\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e33\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e34\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e35\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e36\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e37\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e38\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e40\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e41\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e42\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e43\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e44\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e45\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e46\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用fdisk进行盘的格式化\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003efdisk /dev/vdb\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 以下是交互输出结果\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eWelcome to fdisk (util-linux 2.23.2).\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eChanges will remain \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e memory only, until you decide to write them.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eBe careful before using the write \u003cspan class=\"built_in\"\u003ecommand\u003c/span\u003e.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDevice does not contain a recognized partition table\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eBuilding a new DOS disklabel with disk identifier 0xadfbfcb4.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCommand (m \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"built_in\"\u003ehelp\u003c/span\u003e): n \u003cspan class=\"comment\"\u003e# 新建分区\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePartition \u003cspan class=\"built_in\"\u003etype\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   p   primary (0 primary, 0 extended, 4 free)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   e   extended\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSelect (default p): p  \u003cspan class=\"comment\"\u003e# 待定主分区\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePartition number (1-4, default 1): 1 \u003cspan class=\"comment\"\u003e# 序号\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eFirst sector (2048-1048575999, default 2048): \u003cspan class=\"comment\"\u003e# 直接回车\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUsing default value 2048\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eLast sector, +sectors or +size{K,M,G} (2048-1048575999, default 1048575999): \u003cspan class=\"comment\"\u003e# 直接回车\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUsing default value 1048575999\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePartition 1 of \u003cspan class=\"built_in\"\u003etype\u003c/span\u003e Linux and of size 500 GiB is \u003cspan class=\"built_in\"\u003eset\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCommand (m \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"built_in\"\u003ehelp\u003c/span\u003e): p \u003cspan class=\"comment\"\u003e# 确认分区情况\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDisk /dev/vdb: 536.9 GB, 536870912000 bytes, 1048576000 sectors\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUnits = sectors of 1 * 512 = 512 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSector size (logical/physical): 512 bytes / 512 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eI/O size (minimum/optimal): 512 bytes / 512 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDisk label \u003cspan class=\"built_in\"\u003etype\u003c/span\u003e: dos\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDisk identifier: 0xadfbfcb4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   Device Boot      Start         End      Blocks   Id  System\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e/dev/vdb1            2048  1048575999   524286976   83  Linux\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCommand (m \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"built_in\"\u003ehelp\u003c/span\u003e): t \u003cspan class=\"comment\"\u003e# 选择系统id\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSelected partition 1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHex code (\u003cspan class=\"built_in\"\u003etype\u003c/span\u003e L to list all codes): 8e \u003cspan class=\"comment\"\u003e# 8e指定的是使用LVM\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eChanged \u003cspan class=\"built_in\"\u003etype\u003c/span\u003e of partition \u003cspan class=\"string\"\u003e\u0026#39;Linux\u0026#39;\u003c/span\u003e to \u003cspan class=\"string\"\u003e\u0026#39;Linux LVM\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCommand (m \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"built_in\"\u003ehelp\u003c/span\u003e): w \u003cspan class=\"comment\"\u003e# 保存\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe partition table has been altered!\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCalling ioctl() to re-read partition table.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eSyncing disks.\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e上面用注释标注的是需要在交互提示时输入的参数，完成之后使用fdisk -l查看确认\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://raw.githubusercontent.com/zhoushuke/BlogPhoto/master/githuboss/20201014114920.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e使用相同的办法处理\u003ccode\u003e/dev/vdc\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"LVM\"\u003e\u003ca href=\"#LVM\" class=\"headerlink\" title=\"LVM\"\u003e\u003c/a\u003eLVM\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# pvcreate如果提示命令不存在，则需要安装lvm2\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eyum install lvm2 -y\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用pvcreate 创建物理卷\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epvcreate /dev/vdb1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 提示 Physical volume \u0026#34;/dev/vdb1\u0026#34; successfully created.\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用pvs或者 pvdisplay 查看结果\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epvs\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e#  PV         VG Fmt  Attr PSize    PFree\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e#  /dev/vdb1     lvm2 ---  \u0026lt;500.00g \u0026lt;500.00g\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用同样的办法处理/dev/vdc1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用vgcreate创建卷组，用于管理PV以及LV, 这里vgdata是随意的名字\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evgcreate vgdata /dev/vdc1 /dev/vdb1  \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用vgs 查看vg, vgdisplay的信息\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用lvcreate创建逻辑卷\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# -L 后面是大小， -n 后面是逻辑卷名称， vgdata对应上面的卷组\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003elvcreate -L 900G -n data vgdata\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 使用lvdisplay 查看结果\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://raw.githubusercontent.com/zhoushuke/BlogPhoto/master/githuboss/20201014115754.png\"/\u003e\u003c/p\u003e\n\u003ch3 id=\"Mkfs\"\u003e\u003ca href=\"#Mkfs\" class=\"headerlink\" title=\"Mkfs\"\u003e\u003c/a\u003eMkfs\u003c/h3\u003e\u003cp\u003e完成上述操作后，对该卷组进行格式化，这里格式化成xfs\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 格式化成xfs, /dev/vgdata/data为上面 LV Path\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emkfs.xfs /dev/vgdata/data\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e再次查看会发现vgdata-data确实是900G了\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[root@spring-7 /]\u003cspan class=\"comment\"\u003e# lsblk\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eNAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evda             253:0    0   50G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vda1          253:1    0   50G  0 part /\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdb             253:16   0  500G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vdb1          253:17   0  500G  0 part\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  └─vgdata-data 252:0    0  900G  0 lvm\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdc             253:32   0  500G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vdc1          253:33   0  500G  0 part\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  └─vgdata-data 252:0    0  900G  0 lvm\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\n\n\u003ch3 id=\"Mount\"\u003e\u003ca href=\"#Mount\" class=\"headerlink\" title=\"Mount\"\u003e\u003c/a\u003eMount\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003emkdir\u003c/span\u003e -p /data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003emount /dev/vgdata/data /data\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e查看:\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[root@spring-7 data]\u003cspan class=\"comment\"\u003e# lsblk\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eNAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evda             253:0    0   50G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vda1          253:1    0   50G  0 part /\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdb             253:16   0  500G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vdb1          253:17   0  500G  0 part\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  └─vgdata-data 252:0    0  900G  0 lvm  /data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003evdc             253:32   0  500G  0 disk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e└─vdc1          253:33   0  500G  0 part\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  └─vgdata-data 252:0    0  900G  0 lvm  /data\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\n\n\u003ch3 id=\"Auto-mount\"\u003e\u003ca href=\"#Auto-mount\" class=\"headerlink\" title=\"Auto mount\"\u003e\u003c/a\u003eAuto mount\u003c/h3\u003e\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 为了防止机器重启，需要将挂载操作写入到/etc/fstab中，加入下面一行即可\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e/dev/vgdata/data                          /data                   xfs      defaults        1 1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\n\n\u003cp\u003e整个过程倒是不复杂, 以后有这需要直接上个自动化脚本, 非常方便.\u003c/p\u003e\n\u003ch3 id=\"参考文章\"\u003e\u003ca href=\"#参考文章\" class=\"headerlink\" title=\"参考文章:\"\u003e\u003c/a\u003e\u003cstrong\u003e参考文章:\u003c/strong\u003e\u003c/h3\u003e\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://juejin.im/post/6844903959199481869\"\u003ehttps://juejin.im/post/6844903959199481869\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"转载请注明原作者-周淑科-https-izsk-me\"\u003e\u003ca href=\"#转载请注明原作者-周淑科-https-izsk-me\" class=\"headerlink\" title=\"转载请注明原作者: 周淑科(https://izsk.me)\"\u003e\u003c/a\u003e\u003cstrong\u003e转载请注明原作者: 周淑科(\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://izsk.me/\"\u003ehttps://izsk.me\u003c/a\u003e)\u003c/strong\u003e\u003c/h3\u003e\n      \n    \u003c/div\u003e",
  "Date": "2020-09-15T18:10:53+08:00",
  "Author": "Z.S.K."
}