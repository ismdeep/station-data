{
  "Source": "leovan.me",
  "Title": "Hive 安装和配置 (Hive Setup)",
  "Link": "https://leovan.me/cn/2021/06/hive-setup/",
  "Content": "\u003carticle class=\"main\"\u003e\n    \u003cheader class=\"content-title\"\u003e\n    \n\u003ch1 class=\"title\"\u003e\n  \n  Hive 安装和配置 (Hive Setup)\n  \n\u003c/h1\u003e\n\n\n\n\n\n\n\n\u003ch2 class=\"author-date\"\u003e范叶亮 / \n2021-06-14\u003c/h2\u003e\n\n\n\n\u003ch3 class=\"post-meta\"\u003e\n\n\n\u003cstrong\u003e分类: \u003c/strong\u003e\n\u003ca href=\"/categories/tech101\"\u003eTech101\u003c/a\u003e, \u003ca href=\"/categories/%E7%BC%96%E7%A8%8B\"\u003e编程\u003c/a\u003e\n\n\n\n\n/\n\n\n\n\n\u003cstrong\u003e标签: \u003c/strong\u003e\n\u003cspan\u003eHive\u003c/span\u003e, \u003cspan\u003eMySQL\u003c/span\u003e, \u003cspan\u003eMySQL JDBC Connector\u003c/span\u003e\n\n\n\n\n/\n\n\n\u003cstrong\u003e字数: \u003c/strong\u003e\n1016\n\u003c/h3\u003e\n\n\n\n\u003chr/\u003e\n\n\n\n    \n    \n    \u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"1261604535\"\u003e\u003c/ins\u003e\n    \u003cscript\u003e\n    (adsbygoogle = window.adsbygoogle || []).push({});\n    \u003c/script\u003e\n    \n    \n    \u003c/header\u003e\n\n\n\n\n\u003cp\u003e文本使用的软件版本分别为：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eJDK：1.8.0_291，\u003ca href=\"https://www.oracle.com/cn/java/technologies/javase/javase-jdk8-downloads.html\"\u003e下载地址\u003c/a\u003e。\u003c/li\u003e\n\u003cli\u003eHadoop：3.2.2，\u003ca href=\"https://hadoop.apache.org/releases.html\"\u003e下载地址\u003c/a\u003e。\u003c/li\u003e\n\u003cli\u003eHive：3.2.1，\u003ca href=\"https://hive.apache.org/downloads.html\"\u003e下载地址\u003c/a\u003e。\u003c/li\u003e\n\u003cli\u003eMySQL：8.0.25，使用 \u003ccode\u003eapt install mysql-server\u003c/code\u003e 安装。\u003c/li\u003e\n\u003cli\u003eMySQL JDBC Connector：8.0.25，\u003ca href=\"https://dev.mysql.com/downloads/connector/j/\"\u003e下载地址\u003c/a\u003e。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e按照\u003ca href=\"/tech101/2021/06/virtual-env-preparation/\"\u003e虚拟环境准备 (Virtual Environment Preparation)\u003c/a\u003e 准备虚拟机列表如下：\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e主机名\u003c/th\u003e\n\u003cth\u003eIP\u003c/th\u003e\n\u003cth\u003e角色\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003evm-01\u003c/td\u003e\n\u003ctd\u003e192.168.56.101\u003c/td\u003e\n\u003ctd\u003eHadoop\u003cbr/\u003eMySQL\u003cbr/\u003eHive\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003evm-02\u003c/td\u003e\n\u003ctd\u003e192.168.56.102\u003c/td\u003e\n\u003ctd\u003eHadoop\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003evm-03\u003c/td\u003e\n\u003ctd\u003e192.168.56.103\u003c/td\u003e\n\u003ctd\u003eHadoop\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e按照 \u003ca href=\"/tech101/2021/06/hadoop-cluster-setup/\"\u003eHadoop 集群搭建 (Hadoop Cluster Setup)\u003c/a\u003e 搭建 Hadoop 集群。\u003c/p\u003e\n\u003ch1 id=\"mysql-安装和配置\"\u003eMySQL 安装和配置\u003c/h1\u003e\n\u003cp\u003e通过如下命令安装 MySQL：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo apt install mysql-server mysql-client libmysqlclient-dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e安装完毕后，使用如下命令初始化 MySQL：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo mysql_secure_installation\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在密码安全性校验步骤，输入 \u003ccode\u003eN\u003c/code\u003e 关闭密码安全性校验：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eVALIDATE PASSWORD COMPONENT can be used to test passwords\nand improve security. It checks the strength of password\nand allows the users to set only those passwords which are\nsecure enough. Would you like to setup VALIDATE PASSWORD component?\n\nPress y|Y for Yes, any other key for No: N\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e输入新密码：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eNew password: *********\nRe-enter new password: *********\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在删除匿名用户环节，输入 \u003ccode\u003eY\u003c/code\u003e 删除匿名用户：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eBy default, a MySQL installation has an anonymous user,\nallowing anyone to log into MySQL without having to have\na user account created for them. This is intended only for\ntesting, and to make the installation go a bit smoother.\nYou should remove them before moving into a production\nenvironment.\n\nRemove anonymous users? (Press y|Y for Yes, any other key for No) : Y\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e输入 \u003ccode\u003eN\u003c/code\u003e 允许远程登录 \u003ccode\u003eroot\u003c/code\u003e 用户：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eNormally, root should only be allowed to connect from\n\u0026#39;localhost\u0026#39;. This ensures that someone cannot guess at\nthe root password from the network.\n\nDisallow root login remotely? (Press y|Y for Yes, any other key for No) : N\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e输入 \u003ccode\u003eN\u003c/code\u003e 保留 \u003ccode\u003etest\u003c/code\u003e 数据库：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eBy default, MySQL comes with a database named \u0026#39;test\u0026#39; that\nanyone can access. This is also intended only for testing,\nand should be removed before moving into a production\nenvironment.\n\nRemove test database and access to it? (Press y|Y for Yes, any other key for No) : N\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e输入 \u003ccode\u003eY\u003c/code\u003e 应用设置并生效：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eReloading the privilege tables will ensure that all changes\nmade so far will take effect immediately.\n\nReload privilege tables now? (Press y|Y for Yes, any other key for No) : Y\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e修改 MySQL 配置文件：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo vi /etc/mysql/mysql.conf.d/mysqld.cnf\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e将绑定地址替换为 \u003ccode\u003e0.0.0.0\u003c/code\u003e：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-txt\"\u003ebind-address            = 0.0.0.0\nmysqlx-bind-address     = 0.0.0.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e重启 MySQL 服务：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo service mysql restart\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在本地通过如下命令并输入密码进入 MySQL：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo mysql -uroot -p\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在 MySQL 命令行中输入如下语句为 \u003ccode\u003eroot\u003c/code\u003e 用户配置允许远程访问：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eCREATE USER \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;**********\u0026#39;;\nGRANT ALL PRIVILEGES ON *.* TO \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\nFLUSH PRIVILEGES;\nEXIT;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e之后在宿主机通过如下命令即可登录虚拟机中的 MySQL：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003emysql -h192.168.56.101 -uroot -p\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e为 Hive 创建数据库和用户，并设置相关权限：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eCREATE DATABASE hive;\nCREATE USER \u0026#39;hive\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;**********\u0026#39;;\nGRANT ALL PRIVILEGES ON hive.* TO \u0026#39;hive\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\nFLUSH PRIVILEGES;\nEXIT;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"hive-安装和配置\"\u003eHive 安装和配置\u003c/h1\u003e\n\u003cp\u003e将 Hive 安装包解压缩到 \u003ccode\u003e/opt\u003c/code\u003e 目录并创建软链接：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecd /opt\ntar -zxvf apache-hive-3.1.2-bin.tar.gz\nln -s /opt/apache-hive-3.1.2-bin /opt/hive\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e将如下信息添加到 \u003ccode\u003e/etc/profile\u003c/code\u003e 中：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-txt\"\u003e# Hive\nexport HIVE_HOME=/opt/hive\nexport PATH=$PATH:$HIVE_HOME/bin\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e复制环境变量文件：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecp /opt/hive/conf/hive-env.sh.template /opt/hive/conf/hive-env.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e修改 \u003ccode\u003ehive-env.sh\u003c/code\u003e 内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eexport JAVA_HOME=/opt/jdk\nexport HADOOP_HOME=/opt/hadoop\nexport HIVE_HOME=/opt/hive\nexport HIVE_CONF_DIR=$HIVE_HOME/conf\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e创建配置文件：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003evi /opt/hive/conf/hive-site.xml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e修改 \u003ccode\u003ehive-site.xml\u003c/code\u003e 内容如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-xml\"\u003e\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; standalone=\u0026#34;no\u0026#34;?\u0026gt;\n\u0026lt;?xml-stylesheet type=\u0026#34;text/xsl\u0026#34; href=\u0026#34;configuration.xsl\u0026#34;?\u0026gt;\n\u0026lt;configuration\u0026gt;\n  \u0026lt;property\u0026gt;\n    \u0026lt;name\u0026gt;javax.jdo.option.ConnectionURL\u0026lt;/name\u0026gt;\n    \u0026lt;value\u0026gt;jdbc:mysql://vm-01:3306/hive\u0026lt;/value\u0026gt;\n  \u0026lt;/property\u0026gt;\n  \u0026lt;property\u0026gt;\n    \u0026lt;name\u0026gt;javax.jdo.option.ConnectionDriverName\u0026lt;/name\u0026gt;\n    \u0026lt;value\u0026gt;com.mysql.cj.jdbc.Driver\u0026lt;/value\u0026gt;\n  \u0026lt;/property\u0026gt;\n  \u0026lt;property\u0026gt;\n    \u0026lt;name\u0026gt;javax.jdo.option.ConnectionUserName\u0026lt;/name\u0026gt;\n    \u0026lt;value\u0026gt;hive\u0026lt;/value\u0026gt;\n  \u0026lt;/property\u0026gt;\n  \u0026lt;property\u0026gt;\n    \u0026lt;name\u0026gt;javax.jdo.option.ConnectionPassword\u0026lt;/name\u0026gt;\n    \u0026lt;value\u0026gt;*********\u0026lt;/value\u0026gt;\n  \u0026lt;/property\u0026gt;\n\u0026lt;/configuration\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e将 MySQL JDBC Connector 解压缩到 \u003ccode\u003e/opt/hive/lib\u003c/code\u003e 中：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecd /opt\ntar -zxvf mysql-connector-java-8.0.25.tar.gz\nmv /opt/mysql-connector-java-8.0.25/mysql-connector-java-8.0.25.jar /opt/hive/lib\nrm -rf /opt/mysql-connector-java-8.0.25\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e修正不兼容的依赖包：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003emv /opt/hive/lib/log4j-slf4j-impl-2.10.0.jar /opt/hive/lib/log4j-slf4j-impl-2.10.0.jar.bak\nmv /opt/hive/lib/guava-19.0.jar /opt/hive/lib/guava-19.0.jar.bak\ncp /opt/hadoop/share/hadoop/common/lib/guava-*.jar /opt/hive/lib\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e初始化元数据：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003eschematool -dbType mysql -initSchema\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e出现如下输出时表示元数据初始化成功：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eMetastore connection URL:\t jdbc:mysql://vm-01:3306/hive\nMetastore Connection Driver :\t com.mysql.cj.jdbc.Driver\nMetastore connection User:\t hive\nStarting metastore schema initialization to 3.1.0\nInitialization script hive-schema-3.1.0.mysql.sql\n......\nInitialization script completed\nschemaTool completed\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"启动-hive\"\u003e启动 Hive\u003c/h1\u003e\n\u003cp\u003e执行如下命令启动 Hive：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ehive\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e出现如下输出时表示启动成功：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eHive Session ID = f3edb53b-5037-47c3-b318-75854e2328c5\n\nLogging initialized using configuration in jar:file:/opt/apache-hive-3.1.2-bin/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: true\nHive Session ID = 3331472a-a171-47be-843a-378611233f18\nHive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nhive\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\n\n\n\n\n\u003cdiv class=\"donate\"\u003e\n  \u003cdiv class=\"donate-header\"\u003e\u003c/div\u003e\n  \u003cdiv class=\"donate-slug\" id=\"donate-slug\"\u003ehive-setup\u003c/div\u003e\n  \u003cbutton class=\"donate-button\"\u003e赞 赏\u003c/button\u003e\n  \u003cdiv class=\"donate-footer\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"donate-modal-wrapper\"\u003e\n  \u003cdiv class=\"donate-modal\"\u003e\n    \u003cdiv class=\"donate-box\"\u003e\n      \u003cdiv class=\"donate-box-content\"\u003e\n        \u003cdiv class=\"donate-box-content-inner\"\u003e\n          \u003cdiv class=\"donate-box-header\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n          \u003cdiv class=\"donate-box-body\"\u003e\n            \u003cdiv class=\"donate-box-money\"\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-2\" data-v=\"2\" data-unchecked=\"￥ 2\" data-checked=\"2 元\"\u003e￥ 2\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-5\" data-v=\"5\" data-unchecked=\"￥ 5\" data-checked=\"5 元\"\u003e￥ 5\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-10\" data-v=\"10\" data-unchecked=\"￥ 10\" data-checked=\"10 元\"\u003e￥ 10\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-50\" data-v=\"50\" data-unchecked=\"￥ 50\" data-checked=\"50 元\"\u003e￥ 50\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-100\" data-v=\"100\" data-unchecked=\"￥ 100\" data-checked=\"100 元\"\u003e￥ 100\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-custom\" data-v=\"custom\" data-unchecked=\"任意金额\" data-checked=\"任意金额\"\u003e任意金额\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-qrcode\" id=\"donate-box-pay-qrcode\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"donate-box-footer\"\u003e\n            \u003cdiv class=\"donate-box-pay-method donate-box-pay-method-checked\" data-v=\"wechat-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-wechat-pay\" src=\"\"/\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay-method\" data-v=\"alipay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-alipay\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n    \u003cbutton type=\"button\" class=\"donate-box-close-button\"\u003e\n      \u003csvg class=\"donate-box-close-button-icon\" fill=\"#fff\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"\u003e\u003cpath d=\"M13.486 12l5.208-5.207a1.048 1.048 0 0 0-.006-1.483 1.046 1.046 0 0 0-1.482-.005L12 10.514 6.793 5.305a1.048 1.048 0 0 0-1.483.005 1.046 1.046 0 0 0-.005 1.483L10.514 12l-5.208 5.207a1.048 1.048 0 0 0 .006 1.483 1.046 1.046 0 0 0 1.482.005L12 13.486l5.207 5.208a1.048 1.048 0 0 0 1.483-.006 1.046 1.046 0 0 0 .005-1.482L13.486 12z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\n    \u003c/button\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cscript type=\"text/javascript\" src=\"/js/donate.js\"\u003e\u003c/script\u003e\n\n\n  \u003cfooter\u003e\n  \n\u003cnav class=\"post-nav\"\u003e\n  \u003cspan class=\"nav-prev\"\u003e← \u003ca href=\"/cn/2021/06/hadoop-cluster-setup/\"\u003eHadoop 集群搭建 (Hadoop Cluster Setup)\u003c/a\u003e\u003c/span\u003e\n  \u003cspan class=\"nav-next\"\u003e\u003ca href=\"/cn/2021/06/spark-cluster-setup/\"\u003eSpark 集群搭建 (Spark Cluster Setup)\u003c/a\u003e →\u003c/span\u003e\n\u003c/nav\u003e\n\n\n\n\n\u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"8302038603\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n  (adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/toggle-theme.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"/js/no-highlight.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/math-code.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/heading-anchor.js\"\u003e\u003c/script\u003e\n\n\n\n\u003csection class=\"comments\"\u003e\n\u003cscript src=\"https://giscus.app/client.js\" data-repo=\"leovan/leovan.me\" data-repo-id=\"MDEwOlJlcG9zaXRvcnkxMTMxOTY0Mjc=\" data-category=\"Comments\" data-category-id=\"DIC_kwDOBr89i84CT-R7\" data-mapping=\"pathname\" data-strict=\"1\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"top\" data-theme=\"preferred_color_scheme\" data-lang=\"zh-CN\" data-loading=\"lazy\" crossorigin=\"anonymous\" defer=\"\"\u003e\n\u003c/script\u003e\n\u003c/section\u003e\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/toolbar/prism-toolbar.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\n  (function() {\n    if (!self.Prism) {\n      return;\n    }\n\n    \n    Prism.languages.dos = Prism.languages.powershell;\n    Prism.languages.gremlin = Prism.languages.groovy;\n\n    let languages = {\n      'r': 'R', 'python': 'Python', 'xml': 'XML', 'html': 'HTML',\n      'yaml': 'YAML', 'latex': 'LaTeX', 'tex': 'TeX',\n      'powershell': 'PowerShell', 'javascript': 'JavaScript',\n      'dos': 'DOS', 'qml': 'QML', 'json': 'JSON', 'bash': 'Bash',\n      'text': 'Text', 'txt': 'Text', 'sparql': 'SPARQL',\n      'gremlin': 'Gremlin', 'cypher': 'Cypher', 'ngql': 'nGQL',\n      'shell': 'Shell', 'sql': 'SQL', 'apacheconf': 'Apache Configuration', 'c': 'C', 'css': 'CSS'\n    };\n\n    Prism.hooks.add('before-highlight', function(env) {\n      if (env.language !== 'plain') {\n        let language = languages[env.language] || env.language;\n        env.element.setAttribute('data-language', language);\n      }\n    });\n\n    \n    let ClipboardJS = window.ClipboardJS || undefined;\n\n    Prism.plugins.toolbar.registerButton('copy-to-clipboard', function(env) {\n      let linkCopy = document.createElement('button');\n      linkCopy.classList.add('prism-button-copy');\n\n      registerClipboard();\n\n      return linkCopy;\n\n      function registerClipboard() {\n        let clip = new ClipboardJS(linkCopy, {\n          'text': function () {\n            return env.code;\n          }\n        });\n\n        clip.on('success', function() {\n          linkCopy.classList.add('prism-button-copy-success');\n          resetText();\n        });\n        clip.on('error', function () {\n          linkCopy.classList.add('prism-button-copy-error');\n          resetText();\n        });\n      }\n\n      function resetText() {\n        setTimeout(function () {\n          linkCopy.classList.remove('prism-button-copy-success');\n          linkCopy.classList.remove('prism-button-copy-error');\n        }, 1600);\n      }\n    });\n  })();\n\u003c/script\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003cscript async=\"\" src=\"/js/center-img.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/right-quote.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/external-link.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/alt-title.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/figure.js\"\u003e\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/vanilla-back-to-top@latest/dist/vanilla-back-to-top.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\naddBackToTop({\n  diameter: 48\n});\n\u003c/script\u003e\n\n  \u003chr/\u003e\n  \u003cdiv class=\"copyright no-border-bottom\"\u003e\n    \u003cdiv class=\"copyright-author-year\"\u003e\n      \u003cspan\u003eCopyright © 2017-2024 \u003ca href=\"/\"\u003e范叶亮 | Leo Van\u003c/a\u003e\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n  \u003c/footer\u003e\n  \u003c/article\u003e",
  "Date": "2021-06-14T00:00:00Z",
  "Author": "范叶亮"
}