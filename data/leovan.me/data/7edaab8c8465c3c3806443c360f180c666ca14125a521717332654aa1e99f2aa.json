{
  "Source": "leovan.me",
  "Title": "贝塞尔曲线 (Bézier Curve)",
  "Link": "https://leovan.me/cn/2019/02/bezier-curve/",
  "Content": "\u003carticle class=\"main\"\u003e\n    \u003cheader class=\"content-title\"\u003e\n    \n\u003ch1 class=\"title\"\u003e\n  \n  贝塞尔曲线 (Bézier Curve)\n  \n\u003c/h1\u003e\n\n\n\n\n\n\n\n\u003ch2 class=\"author-date\"\u003e范叶亮 / \n2019-02-19\u003c/h2\u003e\n\n\n\n\u003ch3 class=\"post-meta\"\u003e\n\n\n\u003cstrong\u003e分类: \u003c/strong\u003e\n\u003ca href=\"/categories/%E6%95%B0%E5%AD%A6\"\u003e数学\u003c/a\u003e, \u003ca href=\"/categories/%E5%8F%AF%E8%A7%86%E5%8C%96\"\u003e可视化\u003c/a\u003e\n\n\n\n\n/\n\n\n\n\n\u003cstrong\u003e标签: \u003c/strong\u003e\n\u003cspan\u003e贝塞尔曲线\u003c/span\u003e, \u003cspan\u003eBézier Curve\u003c/span\u003e\n\n\n\n\n/\n\n\n\u003cstrong\u003e字数: \u003c/strong\u003e\n1207\n\u003c/h3\u003e\n\n\n\n\u003chr/\u003e\n\n\n\n    \n    \n    \u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"1261604535\"\u003e\u003c/ins\u003e\n    \u003cscript\u003e\n    (adsbygoogle = window.adsbygoogle || []).push({});\n    \u003c/script\u003e\n    \n    \n    \u003c/header\u003e\n\n\n\n\n\u003cp\u003e知道\u003cstrong\u003e贝塞尔曲线 (Bézier Curve)\u003c/strong\u003e 这个名字已经有很长一段时间了，但一直没有去详细了解一番。直到最近想要绘制一个比较复杂的曲线，才发现很多工具都以贝塞尔曲线为基础的，这包括 Adobe 全家桶中的钢笔工具，还有 OmniGraffle 中的曲线。迫于仅靠猜其是如何工作的但一直没猜透的无奈，只能去详细了解一下其原理再使用了。\u003c/p\u003e\n\u003ch1 id=\"数学表示\"\u003e数学表示\u003c/h1\u003e\n\u003cp\u003e贝塞尔曲线 (Bézier Curve) 是由法国工程师\u003ca href=\"https://zh.wikipedia.org/wiki/%E7%9A%AE%E5%9F%83%E5%B0%94%C2%B7%E8%B4%9D%E5%A1%9E%E5%B0%94\"\u003e皮埃尔·贝兹 (Pierre Bézier)\u003c/a\u003e 于 1962 年所广泛发表，他运用贝塞尔曲线来为汽车的主体进行设计 \u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e。贝塞尔曲线最初由\u003ca href=\"https://en.wikipedia.org/wiki/Paul_de_Casteljau\"\u003e保尔·德·卡斯特里奥 (Paul de Casteljau)\u003c/a\u003e 于 1959 年运用\u003ca href=\"https://zh.wikipedia.org/wiki/%E5%BE%B7%E5%8D%A1%E6%96%AF%E7%89%B9%E9%87%8C%E5%A5%A5%E7%AE%97%E6%B3%95\"\u003e德卡斯特里奥算法 (De Casteljau’s Algorithm)\u003c/a\u003e 开发，以稳定数值的方法求出贝塞尔曲线。\u003c/p\u003e\n\u003ch2 id=\"线性贝塞尔曲线\"\u003e线性贝塞尔曲线\u003c/h2\u003e\n\u003cp\u003e给定点 \u003ccode\u003e$P_0, P_1$\u003c/code\u003e，线性贝塞尔曲线定义为：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$$ B \\left(t\\right) = \\left(1 - t\\right) P_0 + t P_1, t \\in \\left[0, 1\\right] $$\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e不难看出，线性贝塞尔曲线即为点 \u003ccode\u003e$P_0$\u003c/code\u003e 和 \u003ccode\u003e$P_1$\u003c/code\u003e 之间的线段。\u003c/p\u003e\n\u003cp\u003e对于 \u003ccode\u003e$P_0 = \\left(4, 6\\right), P_1 = \\left(10, 0\\right)$\u003c/code\u003e，当 \u003ccode\u003e$t = 0.25$\u003c/code\u003e 时，线性贝塞尔曲线如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/1st-power-bezier-curve.png\" alt=\"线性贝塞尔曲线\"/\u003e\u003c/p\u003e\n\u003cp\u003e整个线性贝塞尔曲线生成过程如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/1st-power-bezier-curve.gif\" alt=\"线性贝塞尔曲线生成过程\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"二次贝塞尔曲线\"\u003e二次贝塞尔曲线\u003c/h2\u003e\n\u003cp\u003e给定点 \u003ccode\u003e$P_0, P_1, P_2$\u003c/code\u003e，二次贝塞尔曲线定义为：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$$ B \\left(t\\right) = \\left(1 - t\\right)^2 P_0 + 2 t \\left(1 - t\\right) P_1 + t^2 P_2, t \\in \\left[0, 1\\right] $$\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e对于 \u003ccode\u003e$P_0 = \\left(0, 0\\right), P_1 = \\left(4, 6\\right), P_2 = \\left(10, 0\\right)$\u003c/code\u003e，当 \u003ccode\u003e$t = 0.25$\u003c/code\u003e 时，二次贝塞尔曲线如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/2nd-power-bezier-curve.png\" alt=\"二次贝塞尔曲线\"/\u003e\u003c/p\u003e\n\u003cp\u003e整个二次贝塞尔曲线生成过程如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/2nd-power-bezier-curve.gif\" alt=\"二次贝塞尔曲线生成过程\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"三次贝塞尔曲线\"\u003e三次贝塞尔曲线\u003c/h2\u003e\n\u003cp\u003e给定点 \u003ccode\u003e$P_0, P_1, P_2, P_3$\u003c/code\u003e，三次贝塞尔曲线定义为：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$$ B \\left(t\\right) = \\left(1 - t\\right)^3 P_0 + 3 t \\left(1 - t\\right)^2 P_1 + 3 t^2 \\left(1 - t\\right) P_2 + t^3 P_3, t \\in \\left[0, 1\\right] $$\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e对于 \u003ccode\u003e$P_0 = \\left(0, 0\\right), P_1 = \\left(-1, 6\\right), P_2 = \\left(6, 6\\right), P_3 = \\left(12, 0\\right)$\u003c/code\u003e，当 \u003ccode\u003e$t = 0.25$\u003c/code\u003e 时，三次贝塞尔曲线如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/3rd-power-bezier-curve.png\" alt=\"三次贝塞尔曲线\"/\u003e\u003c/p\u003e\n\u003cp\u003e整个三次贝塞尔曲线生成过程如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/3rd-power-bezier-curve.gif\" alt=\"三次贝塞尔曲线生成过程\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"一般化的贝塞尔曲线\"\u003e一般化的贝塞尔曲线\u003c/h2\u003e\n\u003cp\u003e对于一般化的贝塞尔曲线，给定点 \u003ccode\u003e$P_0, P_1, \\cdots, P_n$\u003c/code\u003e， \u003ccode\u003e$n$\u003c/code\u003e 次贝塞尔曲线定义为：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$$ B \\left(t\\right) =  \\sum_{i=0}^{n}{\\binom{n}{i} \\left(1 - t\\right)^{n - i} t^{i} P_i}, t \\in \\left[0, 1\\right] $$\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e其中，\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$$ b_{i, n} \\left(t\\right) = \\binom{n}{i} \\left(1 - t\\right)^{n - i} t^{i} $$\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e称之为 \u003ccode\u003e$n$\u003c/code\u003e 阶 \u003ca href=\"https://en.wikipedia.org/wiki/Bernstein_polynomial\"\u003eBernstein 多项式\u003c/a\u003e，点 \u003ccode\u003e$P_i$\u003c/code\u003e 称为贝塞尔曲线的控制点。从生成过程来看，贝塞尔曲线是通过 \u003ccode\u003e$n$\u003c/code\u003e 次\u003cstrong\u003e中介点\u003c/strong\u003e (\u003ccode\u003e$Q_j, R_k, S_l$\u003c/code\u003e) 生成的，一个更加复杂的四次贝塞尔曲线 (\u003ccode\u003e$t = 0.25$\u003c/code\u003e) 如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/4th-power-bezier-curve.png\" alt=\"四次贝塞尔曲线\"/\u003e\u003c/p\u003e\n\u003cp\u003e整个四次贝塞尔曲线生成过程如下图所示：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/4th-power-bezier-curve.gif\" alt=\"四次贝塞尔曲线生成过程\"/\u003e\u003c/p\u003e\n\u003cp\u003e其中，\u003ccode\u003e$Q_0 = \\left(1 - t\\right) P_0 + t P_1$\u003c/code\u003e，\u003ccode\u003e$R_0 = \\left(1 - t\\right) Q_0 + t Q_1$\u003c/code\u003e，\u003ccode\u003e$S_0 = \\left(1 - t\\right) R_0 + t R_1$\u003c/code\u003e，\u003ccode\u003e$B = \\left(1 - t\\right) S_0 + t S_1$\u003c/code\u003e 为构成贝塞尔曲线的点。\u003c/p\u003e\n\u003cp\u003e上述图形和动画的绘制代码请参见\u003ca href=\"https://github.com/leovan/leovan.me/tree/main/static/codes/cn/2019-02-19-bezier-curve/bezier-curve-images.py\"\u003e这里\u003c/a\u003e。\u003c/p\u003e\n\u003ch1 id=\"应用技巧\"\u003e应用技巧\u003c/h1\u003e\n\u003cp\u003e在很多绘图软件中，钢笔工具使用的是三次贝塞尔曲线，其中\u003cstrong\u003e起始点\u003c/strong\u003e和\u003cstrong\u003e结束点\u003c/strong\u003e分别对应 \u003ccode\u003e$P_0$\u003c/code\u003e 和 \u003ccode\u003e$P_1$\u003c/code\u003e，起始点和结束点的\u003cstrong\u003e控制点\u003c/strong\u003e分别对应 \u003ccode\u003e$P_2$\u003c/code\u003e 和 \u003ccode\u003e$P_3$\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e在利用钢笔工具绘图时，可以参考如下建议来快速高效地完成绘图 \u003csup id=\"fnref:2\"\u003e\u003ca href=\"#fn:2\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e2\u003c/a\u003e\u003c/sup\u003e：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e控制点尽可能在曲线的最外侧或最内侧。\u003c/li\u003e\n\u003cli\u003e除了曲线的结束处外，控制点的控制柄尽可能水平或垂直。\u003c/li\u003e\n\u003cli\u003e合理安排控制点的密度。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e下面两张图分别展示了一个原始的字母图案，以及参考上述建议利用贝塞尔曲线勾勒出来的字母图案边框：\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/letters.png\" alt=\"Letters\"/\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2019-02-19-bezier-curve/letters-buzier-curve.png\" alt=\"Letters Buzier Curve\"/\u003e\u003c/p\u003e\n\u003cp\u003e最后推荐一个网站 \u003ca href=\"https://bezier.method.ac\"\u003eThe Bezier Game\u003c/a\u003e，可以帮助更好的理解和掌握基于贝塞尔曲线的钢笔工具使用。\u003c/p\u003e\n\u003cdiv class=\"footnotes\" role=\"doc-endnotes\"\u003e\n\u003chr/\u003e\n\u003col\u003e\n\u003cli id=\"fn:1\"\u003e\n\u003cp\u003e\u003ca href=\"https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF\"\u003ehttps://zh.wikipedia.org/wiki/贝塞尔曲线\u003c/a\u003e \u003ca href=\"#fnref:1\" class=\"footnote-backref\" role=\"doc-backlink\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"fn:2\"\u003e\n\u003cp\u003e\u003ca href=\"http://theagsc.com/blog/tutorials/so-whats-the-big-deal-with-horizontal-vertical-bezier-handles-anyway/\"\u003eSo What’s the Big Deal with Horizontal \u0026amp; Vertical Bezier Handles Anyway?\u003c/a\u003e \u003ca href=\"#fnref:2\" class=\"footnote-backref\" role=\"doc-backlink\"\u003e↩︎\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\n\n\n\n\n\u003cdiv class=\"donate\"\u003e\n  \u003cdiv class=\"donate-header\"\u003e\u003c/div\u003e\n  \u003cdiv class=\"donate-slug\" id=\"donate-slug\"\u003ebezier-curve\u003c/div\u003e\n  \u003cbutton class=\"donate-button\"\u003e赞 赏\u003c/button\u003e\n  \u003cdiv class=\"donate-footer\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"donate-modal-wrapper\"\u003e\n  \u003cdiv class=\"donate-modal\"\u003e\n    \u003cdiv class=\"donate-box\"\u003e\n      \u003cdiv class=\"donate-box-content\"\u003e\n        \u003cdiv class=\"donate-box-content-inner\"\u003e\n          \u003cdiv class=\"donate-box-header\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n          \u003cdiv class=\"donate-box-body\"\u003e\n            \u003cdiv class=\"donate-box-money\"\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-2\" data-v=\"2\" data-unchecked=\"￥ 2\" data-checked=\"2 元\"\u003e￥ 2\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-5\" data-v=\"5\" data-unchecked=\"￥ 5\" data-checked=\"5 元\"\u003e￥ 5\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-10\" data-v=\"10\" data-unchecked=\"￥ 10\" data-checked=\"10 元\"\u003e￥ 10\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-50\" data-v=\"50\" data-unchecked=\"￥ 50\" data-checked=\"50 元\"\u003e￥ 50\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-100\" data-v=\"100\" data-unchecked=\"￥ 100\" data-checked=\"100 元\"\u003e￥ 100\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-custom\" data-v=\"custom\" data-unchecked=\"任意金额\" data-checked=\"任意金额\"\u003e任意金额\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-qrcode\" id=\"donate-box-pay-qrcode\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"donate-box-footer\"\u003e\n            \u003cdiv class=\"donate-box-pay-method donate-box-pay-method-checked\" data-v=\"wechat-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-wechat-pay\" src=\"\"/\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay-method\" data-v=\"alipay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-alipay\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n    \u003cbutton type=\"button\" class=\"donate-box-close-button\"\u003e\n      \u003csvg class=\"donate-box-close-button-icon\" fill=\"#fff\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"\u003e\u003cpath d=\"M13.486 12l5.208-5.207a1.048 1.048 0 0 0-.006-1.483 1.046 1.046 0 0 0-1.482-.005L12 10.514 6.793 5.305a1.048 1.048 0 0 0-1.483.005 1.046 1.046 0 0 0-.005 1.483L10.514 12l-5.208 5.207a1.048 1.048 0 0 0 .006 1.483 1.046 1.046 0 0 0 1.482.005L12 13.486l5.207 5.208a1.048 1.048 0 0 0 1.483-.006 1.046 1.046 0 0 0 .005-1.482L13.486 12z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\n    \u003c/button\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cscript type=\"text/javascript\" src=\"/js/donate.js\"\u003e\u003c/script\u003e\n\n\n  \u003cfooter\u003e\n  \n\u003cnav class=\"post-nav\"\u003e\n  \u003cspan class=\"nav-prev\"\u003e← \u003ca href=\"/cn/2019/02/how-to-read-a-book/\"\u003e如何阅读一本书 (How to Read a Book)\u003c/a\u003e\u003c/span\u003e\n  \u003cspan class=\"nav-next\"\u003e\u003ca href=\"/cn/2019/03/browser-tabs-you-do-not-close/\"\u003e关不掉的浏览器标签页 (Browser Tabs You do not Close)\u003c/a\u003e →\u003c/span\u003e\n\u003c/nav\u003e\n\n\n\n\n\u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"8302038603\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n  (adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/toggle-theme.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"/js/no-highlight.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/math-code.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/heading-anchor.js\"\u003e\u003c/script\u003e\n\n\n\n\u003csection class=\"comments\"\u003e\n\u003cscript src=\"https://giscus.app/client.js\" data-repo=\"leovan/leovan.me\" data-repo-id=\"MDEwOlJlcG9zaXRvcnkxMTMxOTY0Mjc=\" data-category=\"Comments\" data-category-id=\"DIC_kwDOBr89i84CT-R7\" data-mapping=\"pathname\" data-strict=\"1\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"top\" data-theme=\"preferred_color_scheme\" data-lang=\"zh-CN\" data-loading=\"lazy\" crossorigin=\"anonymous\" defer=\"\"\u003e\n\u003c/script\u003e\n\u003c/section\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003cscript async=\"\" src=\"/js/center-img.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/right-quote.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/external-link.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/alt-title.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/figure.js\"\u003e\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/vanilla-back-to-top@latest/dist/vanilla-back-to-top.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\naddBackToTop({\n  diameter: 48\n});\n\u003c/script\u003e\n\n  \u003chr/\u003e\n  \u003cdiv class=\"copyright no-border-bottom\"\u003e\n    \u003cdiv class=\"copyright-author-year\"\u003e\n      \u003cspan\u003eCopyright © 2017-2024 \u003ca href=\"/\"\u003e范叶亮 | Leo Van\u003c/a\u003e\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n  \u003c/footer\u003e\n  \u003c/article\u003e",
  "Date": "2019-02-19T00:00:00Z",
  "Author": "范叶亮"
}