{
  "Source": "leovan.me",
  "Title": "SQL 样式指南 (SQL Style Guide)",
  "Link": "https://leovan.me/cn/2021/05/sql-style-guide/",
  "Content": "\u003carticle class=\"main\"\u003e\n    \u003cheader class=\"content-title\"\u003e\n    \n\u003ch1 class=\"title\"\u003e\n  \n  SQL 样式指南 (SQL Style Guide)\n  \n\u003c/h1\u003e\n\n\n\n\n\n\n\n\u003ch2 class=\"author-date\"\u003e范叶亮 / \n2021-05-04\u003c/h2\u003e\n\n\n\n\u003ch3 class=\"post-meta\"\u003e\n\n\n\u003cstrong\u003e分类: \u003c/strong\u003e\n\u003ca href=\"/categories/%E7%BC%96%E7%A8%8B\"\u003e编程\u003c/a\u003e\n\n\n\n\n/\n\n\n\n\n\u003cstrong\u003e标签: \u003c/strong\u003e\n\u003cspan\u003eSQL\u003c/span\u003e, \u003cspan\u003e样式指南\u003c/span\u003e, \u003cspan\u003eStyle Guide\u003c/span\u003e, \u003cspan\u003eCommon Table Expressions\u003c/span\u003e, \u003cspan\u003eCTEs\u003c/span\u003e\n\n\n\n\n/\n\n\n\u003cstrong\u003e字数: \u003c/strong\u003e\n1263\n\u003c/h3\u003e\n\n\n\n\u003chr/\u003e\n\n\n\n    \n    \n    \u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"1261604535\"\u003e\u003c/ins\u003e\n    \u003cscript\u003e\n    (adsbygoogle = window.adsbygoogle || []).push({});\n    \u003c/script\u003e\n    \n    \n    \u003c/header\u003e\n\n\n\n\n\u003cp\u003e代码样式指南主要用于规范项目中代码的一致性，使得代码简单、可读和易于维护，从一定程度上也影响代码的质量。一句话概括如何评价代码的质量：\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e衡量代码质量的唯一有效标准：WTF/min – \u003ca href=\"https://en.wikipedia.org/wiki/Robert_C._Martin\"\u003eRobert C. Martin\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"/images/cn/2021-05-04-sql-style-guide/wtfsm.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003eGoogle 针对大多数编程语言（例如：C/C++，Java，JavaScript，Python，R 等）都整理了相关的\u003ca href=\"https://google.github.io/styleguide/\"\u003e代码风格\u003c/a\u003e，但对于 SQL 这种用于数据库查询特殊目的的编程语言并没有整理对应的风格。同其他编程语言代码风格一样，没有哪种风格是最好的，只要在项目中采用统一合理的风格即可。\u003c/p\u003e\n\u003cp\u003e本文参考的 SQL 样式指南有如下几种：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"https://www.sqlstyle.guide/zh/\"\u003ehttps://www.sqlstyle.guide/zh/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://about.gitlab.com/handbook/business-technology/data-team/platform/sql-style-guide/\"\u003ehttps://about.gitlab.com/handbook/business-technology/data-team/platform/sql-style-guide/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.telemetry.mozilla.org/concepts/sql_style.html\"\u003ehttps://docs.telemetry.mozilla.org/concepts/sql_style.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/mattm/sql-style-guide\"\u003ehttps://github.com/mattm/sql-style-guide\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e本文给出的 SQL 样式指南基于上述几种进行整理和修改。\u003c/p\u003e\n\u003ch1 id=\"一般原则\"\u003e一般原则\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e使用一致的、描述性名称。\u003c/li\u003e\n\u003cli\u003e使用空格（2 个或 4 个，项目中保持一致），避免使用 TAB 缩进。\u003c/li\u003e\n\u003cli\u003e在 SQL 中加入必要的注释，块注释使用 \u003ccode\u003e/* */\u003c/code\u003e，行注释使用 \u003ccode\u003e--\u003c/code\u003e，并在末尾换行。\u003c/li\u003e\n\u003cli\u003e使用单引号 \u003ccode\u003e\u0026#39;\u003c/code\u003e 作为被引号包裹的标识符。\u003c/li\u003e\n\u003cli\u003e运算符前后添加空格，逗号 \u003ccode\u003e,\u003c/code\u003e 后添加空格，避免行尾有空格。\u003c/li\u003e\n\u003cli\u003e每行代码不超过 80 个字符。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"命名惯例\"\u003e命名惯例\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e避免名称和保留字一样。\u003c/li\u003e\n\u003cli\u003e关键词、函数名称采用大写，字段名、表名采用小蛇式（lower snake case）命名。\u003c/li\u003e\n\u003cli\u003e名称要以字母开头，不能以下划线结尾，名称中仅可以使用字母、数字和下划线。\u003c/li\u003e\n\u003cli\u003e不要在名字中出现连续下划线 \u003ccode\u003e__\u003c/code\u003e，这样很难辨认。\u003c/li\u003e\n\u003cli\u003e尽量避免使用缩写词。使用时一定确定这个缩写简明易懂。\u003c/li\u003e\n\u003cli\u003e字段名总是使用单数。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"对齐和换行\"\u003e对齐和换行\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e避免\u003ca href=\"https://zh.wikipedia.org/wiki/%E5%B7%9D%E6%B5%81_(%E5%AD%97%E4%BD%93%E6%8E%92%E5%8D%B0%E5%AD%A6)\"\u003e川流\u003c/a\u003e式对齐代码。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT id\nFROM table_name\nWHERE column = \u0026#34;test\u0026#34;\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT id\n  FROM talbe_name\n WHERE column = \u0026#34;test\u0026#34;\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e多个元素组合无法呈现在一行中时，应将第一个元素另起一行。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  CASE postcode\n    WHEN \u0026#39;BN1\u0026#39; THEN \u0026#39;Brighton\u0026#39;\n    WHEN \u0026#39;EH1\u0026#39; THEN \u0026#39;Edinburgh\u0026#39;\n  END AS city\nFROM table_name\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  CASE postcode WHEN \u0026#39;BN1\u0026#39; THEN \u0026#39;Brighton\u0026#39;\n                WHEN \u0026#39;EH1\u0026#39; THEN \u0026#39;Edinburgh\u0026#39;\n  END AS city\nFROM table_name\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e由括号构成的多行，结尾括号应单独一行。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT id\nFROM table_name\nWHERE postcode IN (\n  \u0026#39;looooooooooooooooooooooooong_BN1\u0026#39;,\n  \u0026#39;loooooooooooooooooooooooooog_EH1\u0026#39;\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT id\nFROM table_name\nWHERE postcode IN (\u0026#39;looooooooong_BN1\u0026#39;,\n                   \u0026#39;looooooooong_EH1\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e多行采用右侧逗号和左侧关键字连接。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  id,\n  name\nFROM\n  talbe_name\nWHERE\n  id \u0026gt; 1\n  AND name LIKE \u0026#34;%Tom%\u0026#34;\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  id\n  , name\nFROM\n  table_name\nWHERE\n  id \u0026gt; 1 AND\n  name LIKE \u0026#34;%Tom%\u0026#34;\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e根关键词建议单独一行，多个参数单独一行。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  id,\n  name\nFROM\n  table_name\nWHERE\n  id \u0026gt; 1\n  AND name LIKE \u0026#34;%Tom%\u0026#34;\nLIMIT\n  10\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Acceptable */\nSELECT\n  id,\n  name\nFROM table_name\nWHERE\n  id \u0026gt; 1\n  AND name LIKE \u0026#34;%Tom%\u0026#34;\nLIMIT 10\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT id, name\nFROM table_name\nWHERE\n  id \u0026gt; 1\n  AND name LIKE \u0026#34;%Tom%\u0026#34;\nLIMIT 10\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"明确指定\"\u003e明确指定\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e使用 \u003ccode\u003eAS\u003c/code\u003e 明确指定别名，而非隐式。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  table_name_1.id AS user_id,\n  table_name_2.name AS user_name\nFROM\n  looooooooong_table_name_1 AS table_name_1\nLEFT JOIN\n  looooooooong_table_name_2 AS table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  table_name_1.id user_id,\n  table_name_2.name user_name\nFROM\n  looooooooong_table_name_1 table_name_1\nLEFT JOIN\n  looooooooong_table_name_2 table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e避免使用隐式关联。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  table_name_1.id,\n  table_name_2.name\nFROM\n  table_name_1\nINNER JOIN\n  table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  table_name_1.id,\n  table_name_2.name\nFROM\n  table_name_1,\n  table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e明确关联类型。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  table_name_1.id,\n  table_name_2.name\nFROM\n  table_name_1\nINNER JOIN\n  table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  table_name_1.id,\n  table_name_2.name\nFROM\n  table_name_1\nJOIN\n  table_name_2\nON\n  table_name_1.id = table_name_2.id\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e明确指定分组列。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nSELECT\n  submission_date,\n  normalized_channel IN (\u0026#39;nightly\u0026#39;, \u0026#39;aurora\u0026#39;, \u0026#39;beta\u0026#39;) AS is_prerelease,\n  COUNT(*) AS count\nFROM\n  telemetry.clients_daily\nWHERE\n  submission_date \u0026gt; \u0026#39;2019-07-01\u0026#39;\nGROUP BY\n  submission_date,\n  is_prerelease\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT\n  submission_date,\n  normalized_channel IN (\u0026#39;nightly\u0026#39;, \u0026#39;aurora\u0026#39;, \u0026#39;beta\u0026#39;) AS is_prerelease,\n  COUNT(*) AS count\nFROM\n  telemetry.clients_daily\nWHERE\n  submission_date \u0026gt; \u0026#39;2019-07-01\u0026#39;\nGROUP BY\n  1, 2\n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"子查询\"\u003e子查询\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e尽量使用 \u003ca href=\"https://en.wikipedia.org/wiki/Hierarchical_and_recursive_queries_in_SQL#Common_table_expression\"\u003eCommon Table Expressions (CTEs)\u003c/a\u003e 而非子查询。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nWITH sample AS (\n  SELECT\n    client_id,\n    submission_date\n  FROM\n    main_summary\n  WHERE\n    sample_id = \u0026#39;42\u0026#39;\n)\n\nSELECT *\nFROM sample\nLIMIT 10\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nSELECT *\nFROM (\n  SELECT\n    client_id,\n    submission_date\n  FROM\n    main_summary\n  WHERE\n    sample_id = \u0026#39;42\u0026#39;\n)\nLIMIT 10\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e尽量在 CTEs 中处理查询而非主语句中。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Good */\nWITH backings_per_category AS (\n  SELECT\n    ...\n), backers AS (\n  SELECT\n    backings_per_category.backer_id,\n    COUNT(backings_per_category.id) AS projects_backed_per_category\n  INNER JOIN ksr.users AS users ON users.id = backings_per_category.backer_id\n  GROUP BY backings_per_category.backer_id\n), backers_and_creators AS (\n  ...\n)\nSELECT * FROM backers_and_creators;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003e/* Bad */\nWITH backings_per_category AS (\n  SELECT\n    ...\n), backers AS (\n  SELECT\n    backer_id,\n    COUNT(backings_per_category.id) AS projects_backed_per_category\n), backers_and_creators AS (\n  ...\n)\nSELECT *\nFROM backers_and_creators\nINNER JOIN backers\nON backers_and_creators\nON backers.backer_id = backers_and_creators.backer_id\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"其他\"\u003e其他\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e尽量使用 \u003ccode\u003e!=\u003c/code\u003e 而不是 \u003ccode\u003e\u0026lt;\u0026gt;\u003c/code\u003e 表示不等于。\u003c/li\u003e\n\u003cli\u003e尽量使用 \u003ccode\u003eBETWEEN\u003c/code\u003e 而不是多个 \u003ccode\u003eAND\u003c/code\u003e 语句。\u003c/li\u003e\n\u003cli\u003e尽量使用 \u003ccode\u003eIN()\u003c/code\u003e 而不是多个 \u003ccode\u003eOR\u003c/code\u003e 语句。\u003c/li\u003e\n\u003cli\u003e尽量避免使用 \u003ccode\u003eSELECT *\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003e尽量避免使用无意义的别名，例如：\u003ccode\u003ea, b, c\u003c/code\u003e。\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\n\n\n\u003cdiv class=\"donate\"\u003e\n  \u003cdiv class=\"donate-header\"\u003e\u003c/div\u003e\n  \u003cdiv class=\"donate-slug\" id=\"donate-slug\"\u003esql-style-guide\u003c/div\u003e\n  \u003cbutton class=\"donate-button\"\u003e赞 赏\u003c/button\u003e\n  \u003cdiv class=\"donate-footer\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"donate-modal-wrapper\"\u003e\n  \u003cdiv class=\"donate-modal\"\u003e\n    \u003cdiv class=\"donate-box\"\u003e\n      \u003cdiv class=\"donate-box-content\"\u003e\n        \u003cdiv class=\"donate-box-content-inner\"\u003e\n          \u003cdiv class=\"donate-box-header\"\u003e「真诚赞赏，手留余香」\u003c/div\u003e\n          \u003cdiv class=\"donate-box-body\"\u003e\n            \u003cdiv class=\"donate-box-money\"\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-2\" data-v=\"2\" data-unchecked=\"￥ 2\" data-checked=\"2 元\"\u003e￥ 2\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-5\" data-v=\"5\" data-unchecked=\"￥ 5\" data-checked=\"5 元\"\u003e￥ 5\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-10\" data-v=\"10\" data-unchecked=\"￥ 10\" data-checked=\"10 元\"\u003e￥ 10\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-50\" data-v=\"50\" data-unchecked=\"￥ 50\" data-checked=\"50 元\"\u003e￥ 50\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-100\" data-v=\"100\" data-unchecked=\"￥ 100\" data-checked=\"100 元\"\u003e￥ 100\u003c/button\u003e\n              \u003cbutton class=\"donate-box-money-button donate-box-money-button-unchecked\" id=\"donate-box-money-button-custom\" data-v=\"custom\" data-unchecked=\"任意金额\" data-checked=\"任意金额\"\u003e任意金额\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-qrcode\" id=\"donate-box-pay-qrcode\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"donate-box-footer\"\u003e\n            \u003cdiv class=\"donate-box-pay-method donate-box-pay-method-checked\" data-v=\"wechat-pay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-wechat-pay\" src=\"\"/\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"donate-box-pay-method\" data-v=\"alipay\"\u003e\n              \u003cimg class=\"donate-box-pay-method-image\" id=\"donate-box-pay-method-image-alipay\" src=\"\"/\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n    \u003cbutton type=\"button\" class=\"donate-box-close-button\"\u003e\n      \u003csvg class=\"donate-box-close-button-icon\" fill=\"#fff\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"\u003e\u003cpath d=\"M13.486 12l5.208-5.207a1.048 1.048 0 0 0-.006-1.483 1.046 1.046 0 0 0-1.482-.005L12 10.514 6.793 5.305a1.048 1.048 0 0 0-1.483.005 1.046 1.046 0 0 0-.005 1.483L10.514 12l-5.208 5.207a1.048 1.048 0 0 0 .006 1.483 1.046 1.046 0 0 0 1.482.005L12 13.486l5.207 5.208a1.048 1.048 0 0 0 1.483-.006 1.046 1.046 0 0 0 .005-1.482L13.486 12z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\n    \u003c/button\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cscript type=\"text/javascript\" src=\"/js/donate.js\"\u003e\u003c/script\u003e\n\n\n  \u003cfooter\u003e\n  \n\u003cnav class=\"post-nav\"\u003e\n  \u003cspan class=\"nav-prev\"\u003e← \u003ca href=\"/cn/2021/04/process-thread-and-coroutine-python-implementation/\"\u003e进程，线程和协程 (Process, Thread and Coroutine)\u003c/a\u003e\u003c/span\u003e\n  \u003cspan class=\"nav-next\"\u003e\u003ca href=\"/cn/2021/05/big-data-sql-performance-tuning/\"\u003e大数据 SQL 性能调优 (Big Data SQL Performance Tuning)\u003c/a\u003e →\u003c/span\u003e\n\u003c/nav\u003e\n\n\n\n\n\u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-2608165017777396\" data-ad-slot=\"8302038603\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n  (adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/toggle-theme.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"/js/no-highlight.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/math-code.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/heading-anchor.js\"\u003e\u003c/script\u003e\n\n\n\n\u003csection class=\"comments\"\u003e\n\u003cscript src=\"https://giscus.app/client.js\" data-repo=\"leovan/leovan.me\" data-repo-id=\"MDEwOlJlcG9zaXRvcnkxMTMxOTY0Mjc=\" data-category=\"Comments\" data-category-id=\"DIC_kwDOBr89i84CT-R7\" data-mapping=\"pathname\" data-strict=\"1\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"top\" data-theme=\"preferred_color_scheme\" data-lang=\"zh-CN\" data-loading=\"lazy\" crossorigin=\"anonymous\" defer=\"\"\u003e\n\u003c/script\u003e\n\u003c/section\u003e\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"//cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/toolbar/prism-toolbar.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\n  (function() {\n    if (!self.Prism) {\n      return;\n    }\n\n    \n    Prism.languages.dos = Prism.languages.powershell;\n    Prism.languages.gremlin = Prism.languages.groovy;\n\n    let languages = {\n      'r': 'R', 'python': 'Python', 'xml': 'XML', 'html': 'HTML',\n      'yaml': 'YAML', 'latex': 'LaTeX', 'tex': 'TeX',\n      'powershell': 'PowerShell', 'javascript': 'JavaScript',\n      'dos': 'DOS', 'qml': 'QML', 'json': 'JSON', 'bash': 'Bash',\n      'text': 'Text', 'txt': 'Text', 'sparql': 'SPARQL',\n      'gremlin': 'Gremlin', 'cypher': 'Cypher', 'ngql': 'nGQL',\n      'shell': 'Shell', 'sql': 'SQL', 'apacheconf': 'Apache Configuration', 'c': 'C', 'css': 'CSS'\n    };\n\n    Prism.hooks.add('before-highlight', function(env) {\n      if (env.language !== 'plain') {\n        let language = languages[env.language] || env.language;\n        env.element.setAttribute('data-language', language);\n      }\n    });\n\n    \n    let ClipboardJS = window.ClipboardJS || undefined;\n\n    Prism.plugins.toolbar.registerButton('copy-to-clipboard', function(env) {\n      let linkCopy = document.createElement('button');\n      linkCopy.classList.add('prism-button-copy');\n\n      registerClipboard();\n\n      return linkCopy;\n\n      function registerClipboard() {\n        let clip = new ClipboardJS(linkCopy, {\n          'text': function () {\n            return env.code;\n          }\n        });\n\n        clip.on('success', function() {\n          linkCopy.classList.add('prism-button-copy-success');\n          resetText();\n        });\n        clip.on('error', function () {\n          linkCopy.classList.add('prism-button-copy-error');\n          resetText();\n        });\n      }\n\n      function resetText() {\n        setTimeout(function () {\n          linkCopy.classList.remove('prism-button-copy-success');\n          linkCopy.classList.remove('prism-button-copy-error');\n        }, 1600);\n      }\n    });\n  })();\n\u003c/script\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003cscript async=\"\" src=\"/js/center-img.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/right-quote.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/external-link.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/alt-title.js\"\u003e\u003c/script\u003e\n\u003cscript async=\"\" src=\"/js/figure.js\"\u003e\u003c/script\u003e\n\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js\"\u003e\u003c/script\u003e\n\n\n\u003cscript src=\"//cdn.jsdelivr.net/npm/vanilla-back-to-top@latest/dist/vanilla-back-to-top.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\naddBackToTop({\n  diameter: 48\n});\n\u003c/script\u003e\n\n  \u003chr/\u003e\n  \u003cdiv class=\"copyright no-border-bottom\"\u003e\n    \u003cdiv class=\"copyright-author-year\"\u003e\n      \u003cspan\u003eCopyright © 2017-2024 \u003ca href=\"/\"\u003e范叶亮 | Leo Van\u003c/a\u003e\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n  \u003c/footer\u003e\n  \u003c/article\u003e",
  "Date": "2021-05-04T00:00:00Z",
  "Author": "范叶亮"
}