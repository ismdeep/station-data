{
  "Source": "liam.page",
  "Title": "在 MacTeX 中使用中文模板",
  "Link": "https://liam.page/2015/04/14/using-chinese-templates-in-mactex/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e中国人使用 LaTeX 的一大问题就是为文档添加中文支持。国内很多学校、期刊都有自己的模板，更多的是一些个人配置的勉强成型的小模板。Mac 用户安装 MacTeX 之后，可能会很头疼如何将这些模板移植到自己的电脑上。这篇文章对此做一个方法上的讨论。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003cp\u003e在 LaTeX 中使用中文，\u003cstrong\u003e不严谨地说\u003c/strong\u003e，主要需要解决编码和字体调用的问题。\u003c/p\u003e\n\u003cp\u003e国内 LaTeX 圈子流行过 GBK 编码和 UTF-8 编码。前者是国标，是过去的主流，但是问题多多。现在推荐使用后者。\u003c/p\u003e\n\u003cp\u003e字体调用方面，原来的 \u003ccode\u003eCCT\u003c/code\u003e（新版）、\u003ccode\u003eCJK\u003c/code\u003e 还有现在的 \u003ccode\u003exeCJK\u003c/code\u003e、\u003ccode\u003eLuaTeX-ja\u003c/code\u003e 和李阿玲的 pTeX-ng 在 TeX Live（MacTeX）底下都能正常工作。只不过，Mac 默认的字体和 Windows 默认的字体有一些不同，在这方面需要做一些调整。\u003c/p\u003e\n\u003cp\u003e国内期刊的模板大多数是 \u003ccode\u003eCCT\u003c/code\u003e 和 \u003ccode\u003eCJK\u003c/code\u003e 方式，其他一些模板可能比较先进，使用 \u003ccode\u003exeCJK\u003c/code\u003e 方式。\u003ccode\u003eLuaTeX-ja\u003c/code\u003e 国内用的少，使用方法和 \u003ccode\u003exeCJK\u003c/code\u003e 比较类似；pTeX-ng 尚在开发中。所以这里只介绍使用 \u003ccode\u003eCCT\u003c/code\u003e、\u003ccode\u003eCJK\u003c/code\u003e 或 \u003ccode\u003exeCJK\u003c/code\u003e 三种中文支持方式在 TeX Live 里如何进行调整。\u003c/p\u003e\n\u003ch2 id=\"xeCJK\"\u003e\u003ca href=\"#xeCJK\" class=\"headerlink\" title=\"xeCJK\"\u003e\u003c/a\u003e\u003ccode\u003exeCJK\u003c/code\u003e\u003c/h2\u003e\u003cp\u003e\u003ccode\u003exeCJK\u003c/code\u003e 通过 \u003ccode\u003e\\setCJKmainfont\u003c/code\u003e 等命令（\u003ccode\u003eluatexja-fontspec\u003c/code\u003e 则是 \u003ccode\u003e\\setmainjfont\u003c/code\u003e）来调用操作系统内的字体，并设置为文档字体。在 Windows 底下编写的中文模板，惯常使用 Windows 自带的中易系列字体，比如\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKmainfont\u003c/span\u003e[Boldfont = SimHei, ItalicFont = KaiTi]{SimSun}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKsansfont\u003c/span\u003e{SimHei}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKmonofont\u003c/span\u003e{FangSong}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这种情况下，可以打开模板文件（\u003ccode\u003e.tex\u003c/code\u003e、\u003ccode\u003e.sty\u003c/code\u003e 或 \u003ccode\u003e.cls\u003c/code\u003e），找到字体设置部分，将其内容改为 Mac 的字体设置即可。比如可以参考配置：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKmainfont\u003c/span\u003e[BoldFont=STZhongsong, ItalicFont=STKaiti]{STSong}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKsansfont\u003c/span\u003e[BoldFont=STHeiti]{STXihei}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setCJKmonofont\u003c/span\u003e{STFangsong}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e具体的含义可参考：\u003ca href=\"/2014/11/02/latex-mactex-chinese-support/\"\u003e为 MacTeX 配置中文支持\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003exeCJK\u003c/code\u003e 的模板，应该都保存为 UTF-8 编码，所以不需要进行编码调整。\u003cbr/\u003e（部分模板使用 GBK 编码，在文档头会有 \u003ccode\u003e\\XeTeXinputencoding \u0026#39;CP936\u0026#39;\u003c/code\u003e 的 XeTeX 原语。此时最好将文件另存为 UTF-8 编码，并删除这些原语。）\u003c/p\u003e\n\u003ch2 id=\"CJK\"\u003e\u003ca href=\"#CJK\" class=\"headerlink\" title=\"CJK\"\u003e\u003c/a\u003e\u003ccode\u003eCJK\u003c/code\u003e\u003c/h2\u003e\u003cp\u003e在不适用 \u003ccode\u003ezhmetrics\u003c/code\u003e 技术的时候，\u003ccode\u003eCJK\u003c/code\u003e 需要 Type 1 字体。将中易字体拆分成许多 sub-fonts 并转换为 Type 1 字体是个费时费力的工作。CTeX 套装打包了已经配置好的 CJK 字体，它的 song、hei、kai、fs、li 和 you 等六套字体，流传甚广。国内使用 \u003ccode\u003eCJK\u003c/code\u003e 的模板，大都使用了这几套字体。\u003c/p\u003e\n\u003cp\u003e不过，\u003ccode\u003eCJK\u003c/code\u003e 宏包本身并不含有这些字体，所以在使用 TeX Live 的时候，直接编译这些模板会报错。\u003c/p\u003e\n\u003cp\u003e我们看一段最简单的使用 \u003ccode\u003eCJK\u003c/code\u003e 宏包做中文支持的例子。\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{CJKutf8}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{CJK*}{UTF8}{song}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e中文。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\clearpage\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{CJK*}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e对于 Windows 系统的 TeX Live 用户而言，最简单的办法是使用 \u003ccode\u003ezhmetrics\u003c/code\u003e 技术。为此我们只需要在导言区添加一行命令即可，代码变为：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{CJKutf8}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\AtBeginDvi\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\input\u003c/span\u003e{zhwinfonts}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{CJK*}{UTF8}{song}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e中文。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\clearpage\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{CJK*}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e此时，使用 pdfLaTeX 或 LaTeX - DVIPDFMx 编译文档，即可得到正确的结果。\u003c/p\u003e\n\u003cp\u003e对于 Mac/Linux 系统的 TeX Live（MacTeX）用户而言，简单地加载 \u003ccode\u003ezhwinfonts.tex\u003c/code\u003e 是不会奏效的。\u003ccode\u003ezhwinfonts.tex\u003c/code\u003e 是为 Windows 系统配置的文件，在 Mac/Linux 系统中缺少这些字体。我自己买了方正系列字体在 Mac 上使用，所以写了一个 \u003ccode\u003ezhfzfonts.tex\u003c/code\u003e 来调用这些字体。\u003c/p\u003e\n\u003cp\u003e请参考：\u003ca href=\"/2020/04/17/using-CJK-on-macTeX-step-by-step/\"\u003e手把手教你在 macTeX 上使用 CJK\u003c/a\u003e。\u003c/p\u003e\n\u003cp\u003e另外，\u003ccode\u003eCJK\u003c/code\u003e 支持 GBK，也支持 UTF-8。请注意将文档编码保存为与 \u003ccode\u003eCJK\u003c/code\u003e 环境相同的编码格式。\u003c/p\u003e\n\u003ch2 id=\"CCT\"\u003e\u003ca href=\"#CCT\" class=\"headerlink\" title=\"CCT\"\u003e\u003c/a\u003e\u003ccode\u003eCCT\u003c/code\u003e\u003c/h2\u003e\u003cp\u003e以系统工程理论与实践为代表的一些国内期刊，使用 \u003ccode\u003eCCT\u003c/code\u003e 模板。前年为此写过一篇博客，专门讨论此类模板。参见：\u003ca href=\"/2013/10/15/LaTeX-CCT-template/\"\u003e国内期刊 CCT 模板编译经验\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eCCT\u003c/code\u003e 只支持 GBK 编码。\u003c/p\u003e\n\u003ch2 id=\"ctex-宏包-x2F-文档类\"\u003e\u003ca href=\"#ctex-宏包-x2F-文档类\" class=\"headerlink\" title=\"ctex 宏包/文档类\"\u003e\u003c/a\u003e\u003ccode\u003ectex\u003c/code\u003e 宏包/文档类\u003c/h2\u003e\u003cp\u003e\u003ccode\u003ectex\u003c/code\u003e 宏包/文档类在使用 XeLaTeX 编译的时候，使用 \u003ccode\u003exeCJK\u003c/code\u003e 作为中文支持方式；在使用 LaTeX/pdfLaTeX 的时候使用 \u003ccode\u003eCJK\u003c/code\u003e 作为中文支持方式。因此，使用 \u003ccode\u003ectex\u003c/code\u003e 宏包/文档类的模板，在 TeX Live 系统下的配置方式需要根据所选的编译方式做调整。\u003c/p\u003e\n\u003cp\u003e使用 XeLaTeX 的时候，需要给 \u003ccode\u003ectex\u003c/code\u003e 加上 \u003ccode\u003enofonts\u003c/code\u003e 选项（将来的 2.0 版本则是 fontset = none），然后再用 \u003ccode\u003e\\setCJKmainfont\u003c/code\u003e 配置字体。\u003c/p\u003e\n\u003cp\u003e使用 LaTeX/pdfLaTeX 的时候，则可以使用 \u003ccode\u003ezhfzfonts.tex\u003c/code\u003e 来映射字体。\u003c/p\u003e\n\u003cp\u003e使用 \u003ccode\u003ectex\u003c/code\u003e 宏包/文档类的时候，需要根据所选的编译方式和宏包/文档类选项来确定源文件的编码格式。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e使用 XeLaTeX 的时候，不论选项为何，源文件都需要保存为 UTF-8 编码。\u003c/li\u003e\n\u003cli\u003e使用 LaTeX/pdfLaTeX 的时候，则需要根据宏包/文档类选项来确定源文件的编码格式。\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2015-04-14T09:52:30Z",
  "Author": "Liam Huang"
}