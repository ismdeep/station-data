{
  "Source": "liam.page",
  "Title": "在 macOS 上跨版本更新 TeX Live",
  "Link": "https://liam.page/2019/11/11/cross-release-update-TeX-Live-on-macOS/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e很久没写 LaTeX 了。嗯……原因是因为我很久没用 LaTeX 了。\u003c/p\u003e\n\u003cp\u003e因为很久没用 LaTeX，所以 Mac 上的 macTeX 也很久没更新。这不，目前版本还是 macTeX 2018，而 macTeX 2019 都出来很久了。另一方面，因为系统版本有升级，导致与 macTeX 2018 有些不兼容。于是，升级到 2019 版本变得势在必行。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"升级-macTeX-还是升级-TeX-Live\"\u003e\u003ca href=\"#升级-macTeX-还是升级-TeX-Live\" class=\"headerlink\" title=\"升级 macTeX 还是升级 TeX Live\"\u003e\u003c/a\u003e升级 macTeX 还是升级 TeX Live\u003c/h2\u003e\u003cp\u003e本质上 macTeX 是对 TeX Live 的打包封装。里面当中实际执行的，还是 TeX Live。因此，升级 TeX Live 而不升级 macTeX 可以避免下载巨大的 \u003ccode\u003emacTeX.pkg\u003c/code\u003e。\u003c/p\u003e\n\u003ch2 id=\"update-tlmgr-latest\"\u003e\u003ca href=\"#update-tlmgr-latest\" class=\"headerlink\" title=\"update-tlmgr-latest\"\u003e\u003c/a\u003e\u003ccode\u003eupdate-tlmgr-latest\u003c/code\u003e\u003c/h2\u003e\u003cp\u003e一般升级，用到的命令是\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etlmgr update --self --all --reinstall-forcibly-removed\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e但是，跨版本升级时，它会报错。不过，它会有提示，让你下载 \u003ccode\u003eupdate-tlmgr-latest\u003c/code\u003e 来将 \u003ccode\u003etlmgr\u003c/code\u003e 更新到最新版本，从而可以跨版本更新。于是我们有\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ewget http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ebash update-tlmgr-latest.sh\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003etlmgr update --self --all --reinstall-forcibly-removed\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"更新语言配置\"\u003e\u003ca href=\"#更新语言配置\" class=\"headerlink\" title=\"更新语言配置\"\u003e\u003c/a\u003e更新语言配置\u003c/h2\u003e\u003cp\u003e上述 \u003ccode\u003etlmgr update\u003c/code\u003e 在执行到最后，构建 \u003ccode\u003efmt\u003c/code\u003e 文件时会报错。例如：\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eI can\u0026#39;t find file `dehypht-x-2018-03-31.tex`!\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e检查发现，构建 \u003ccode\u003efmt\u003c/code\u003e 文件时，会读取 \u003ccode\u003e/usr/local/texlive/2018/texmf-var/tex/generic/config/language.def\u003c/code\u003e 文件，它提到了：\u003ccode\u003e\\addlanguage{german-x-latest}{dehypht-x-2018-03-30.tex}{}{2}{2}\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e上网检查发现，可以用 \u003ccode\u003etlmgr generate language\u003c/code\u003e 更新语言定义文件。遂执行\u003c/p\u003e\n\u003cfigure class=\"highlight shell\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etlmgr generate language\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003efmtutil -sys --all\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e至此，万事 OK~\u003c/p\u003e\n\n    \u003c/div\u003e",
  "Date": "2019-11-11T11:24:38Z",
  "Author": "Liam Huang"
}