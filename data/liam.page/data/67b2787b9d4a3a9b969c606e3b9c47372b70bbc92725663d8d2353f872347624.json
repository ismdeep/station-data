{
  "Source": "liam.page",
  "Title": "升级 Ubuntu，解决登录时提示有软件包可以更新的问题",
  "Link": "https://liam.page/2015/06/27/ubuntu-server-packages-can-be-updated/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003eUbuntu 系统在用户登录时会显示欢迎信息。有时用户会看到「有 xx 个软件包可以更新，其中有 xx 个安全更新」。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eWelcome to Ubuntu 14.04.2 LTS (GNU/Linux 3.13.0-48-generic x86_64)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    * Documentation:  https://help.ubuntu.com/\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    System information as of Sat Jun 27 01:12:04 UTC 2015\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    System load:  0.0               Processes:           98\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Usage of /:   10.6% of 9.71GB   Users logged in:     0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Memory usage: 10%               IP address for eth0: 192.168.12.233\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Swap usage:   0%\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Graph this data and manage this system at:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    https://landscape.canonical.com/\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    Get cloud support with Ubuntu Advantage Cloud Guest:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    http://www.ubuntu.com/business/services/cloud\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e91 packages can be updated.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39 updates are security updates.\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e对于一般的更新，如果不影响使用，一般也就罢了。但是通常，如果系统提示有安全更新，大多数用户（特别是服务器管理员）还是会去更新的。不过，面对 Ubuntu 的这些提示，很多用户经常遇到「不管怎么 \u003ccode\u003eapt-get updage \u0026amp;\u0026amp; apt-get upgrade\u003c/code\u003e 也不见好」的问题。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"升级命令\"\u003e\u003ca href=\"#升级命令\" class=\"headerlink\" title=\"升级命令\"\u003e\u003c/a\u003e升级命令\u003c/h2\u003e\u003cp\u003e虽然 apt-get 经常被人诟病，但实际上它还是个挺好用的软件包管理器。在 Ubuntu 14.04 以后的系统中，apt-get 相关的升级更新命令有四个：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eapt-get update\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eapt-get upgrade\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eapt-get full-upgrade\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eapt-get dist-upgrade\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e那么，这四个升级命令都有什么差别呢？\u003c/p\u003e\n\u003cp\u003e根据 apt-get 的官方手册：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eupdate\u003c/code\u003e - 从服务器更新可用的软件包列表。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eupgrade\u003c/code\u003e - 根据列表，更新已安装的软件包。\u003ccode\u003eupgrade\u003c/code\u003e 不会删除在列表中已经没有的软件包，也不会安装有依赖需求但尚未安装的软件包。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efull-upgrade\u003c/code\u003e - 根据列表，更新已安装的软件包。\u003ccode\u003efull-upgrade\u003c/code\u003e 可能会为了解决软件包冲突而删除一些已安装的软件包。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edist-upgrade\u003c/code\u003e - 根据列表，更新已安装的软件包。\u003ccode\u003edist-upgrade\u003c/code\u003e 可能会为了解决软件包冲突而删除一些已安装的软件包，也可能会为了解决软件包依赖问题安装新的软件包。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"我们应该怎么做？\"\u003e\u003ca href=\"#我们应该怎么做？\" class=\"headerlink\" title=\"我们应该怎么做？\"\u003e\u003c/a\u003e我们应该怎么做？\u003c/h2\u003e\u003cp\u003e依次执行如下命令即可：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003esudo apt-get update\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo apt-get upgrade\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo apt-get dist-upgrade\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003esudo reboot\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n    \u003c/div\u003e",
  "Date": "2015-06-27T01:25:25Z",
  "Author": "Liam Huang"
}