{
  "Source": "liam.page",
  "Title": "在 LaTeX 中实现定理的重述",
  "Link": "https://liam.page/2015/09/12/primed-theorems/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e\u003ca href=\"/2013/12/04/LaTeX-Recalling-a-theorem/\"\u003e之前的文章\u003c/a\u003e中，我们介绍了如何复写定理。这里我们讨论如何实现定理的重述。\u003c/p\u003e\n\u003cp\u003e所谓定理的重述，是这样的情况：在文章的某处，我们陈述了一个定理；接下来，我们在文章的其他地方，陈述了一个与之等价但叙述方式不同的定理。此时，如果第一个定理的编号是 \u003ccode\u003eTheorem 7\u003c/code\u003e，那么第二个的编号就应该是 \u003ccode\u003eTheorem 7\u0026#39;\u003c/code\u003e。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003cp\u003e我们来观察一下这个需求，不难发现有以下特征：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e原定理的位置不确定；\u003c/li\u003e\n\u003cli\u003e原定理的编号不确定；\u003c/li\u003e\n\u003cli\u003e重述定理的编号和原定理的编号相同，只不过多了一个撇（Prime）。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e对 LaTeX 有一定了解的用户，可能会发现，这些特征和「交叉引用」非常相似。交叉引用的 \u003ccode\u003e\\label\u003c/code\u003e 位置和编号也是不确定的（只有在第一遍编译之后才确定）；交叉引用的结果 \u003ccode\u003e\\ref\u003c/code\u003e 显示的内容应当与 \u003ccode\u003e\\label\u003c/code\u003e 标记的锚点编号一致。\u003c/p\u003e\n\u003cp\u003e因此，我们考虑用交叉引用来处理这个问题。\u003c/p\u003e\n\u003cp\u003e对于定理重述，另一个显而易见的事情是：除了编号，定理重述的格式应当与定理本身保持一致。因此，定理重述的环境应该在定理环境的基础上做修改，而不是全盘推翻重做。\u003c/p\u003e\n\u003cp\u003e考虑到这些需求，有经验的 LaTeX 用户不难写出以下代码：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\newtheorem\u003c/span\u003e{thm}{Theorem}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\newenvironment\u003c/span\u003e{thmbis}[1]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  {\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\thethm\u003c/span\u003e}{\u003cspan class=\"keyword\"\u003e\\ref\u003c/span\u003e{\u003cspan class=\"params\"\u003e#1\u003c/span\u003e}\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u0026#39;\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e}\u003cspan class=\"comment\"\u003e%\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   \u003cspan class=\"keyword\"\u003e\\addtocounter\u003c/span\u003e{thm}{-1}\u003cspan class=\"comment\"\u003e%\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   \u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thm}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  {\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thm}}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这里，我们用 \u003ccode\u003e\\renewcommand\u003c/code\u003e 修改了计数器 \u003ccode\u003ethm\u003c/code\u003e 的显示方式 \u003ccode\u003e\\thethm\u003c/code\u003e：首先对原定理做引用，然后加上一个撇。随后，在 \u003ccode\u003ethm\u003c/code\u003e 的当前值上减 1。这是因为，在之后的 \u003ccode\u003e\\begin{thm}\u003c/code\u003e 中会给 \u003ccode\u003ethm\u003c/code\u003e 计数器自加 1，这里作为「补偿」，需要预先减去 1。\u003c/p\u003e\n\u003cp\u003e完整的例子可见：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e[a4paper]{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\newtheorem\u003c/span\u003e{thm}{Theorem}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\newenvironment\u003c/span\u003e{thmbis}[1]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  {\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\thethm\u003c/span\u003e}{\u003cspan class=\"keyword\"\u003e\\ref\u003c/span\u003e{\u003cspan class=\"params\"\u003e#1\u003c/span\u003e}\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u0026#39;\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e}\u003cspan class=\"comment\"\u003e%\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   \u003cspan class=\"keyword\"\u003e\\addtocounter\u003c/span\u003e{thm}{-1}\u003cspan class=\"comment\"\u003e%\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   \u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thm}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  {\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thm}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e1+1=2\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thm}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{comm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003e$\u003c/span\u003ea+b=b+a\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thmbis}{comm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003e$\u003c/span\u003ex+y=y+x\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thmbis}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{thm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e0\u003cspan class=\"keyword\"\u003e\\ne\u003c/span\u003e0\u003cspan class=\"built_in\"\u003e$\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{thm}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n    \u003c/div\u003e",
  "Date": "2015-09-12T14:32:12Z",
  "Author": "Liam Huang"
}