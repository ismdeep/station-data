{
  "Source": "liam.page",
  "Title": "用 caption 宏包修复浮动体超链接不准的问题",
  "Link": "https://liam.page/2015/11/21/using-the-caption-package-to-justify-the-link-anchor/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e\u003ca href=\"/2015/07/27/using-hypcap-to-justify-the-link-point/\"\u003e前文\u003c/a\u003e 我介绍了使用 \u003ccode\u003ehypcap\u003c/code\u003e 宏包修复图标超链接不准的问题。具体来说，是修复了将 \u003ccode\u003e\\caption\u003c/code\u003e 放在 \u003ccode\u003e\\includegraphics\u003c/code\u003e 后面，然后在文中对图片进行引用的话，点击超链接后将跳转到图片标题位置而不是浮动体顶部的问题。\u003c/p\u003e\n\u003cp\u003e之后，\u003ca target=\"_blank\" rel=\"noopener\" href=\"http://weibo.com/u/1277361954\"\u003eshengwenbo\u003c/a\u003e 在文后评论说，\u003ccode\u003ecaption\u003c/code\u003e 宏包也能实现这一功能。本文就来介绍，如何使用 \u003ccode\u003ecaption\u003c/code\u003e 宏包来实现这一效果。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"基本用法\"\u003e\u003ca href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"\u003e\u003c/a\u003e基本用法\u003c/h2\u003e\u003cp\u003e最基本的用法很简单，只需要在加载插图宏包（\u003ccode\u003egraphicx\u003c/code\u003e）和超链接宏包（\u003ccode\u003ehyperref\u003c/code\u003e）之余，加载 \u003ccode\u003ecaption\u003c/code\u003e 宏包即可。具体来说，代码如下。\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{hyperref}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{caption}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe} \u003cspan class=\"comment\"\u003e% for dummy text\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.6\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image.jpg}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{dummy figure}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:test}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\blindtext\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\clearpage\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\blindtext\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThis is the hyper-reference of Figure \u003cspan class=\"keyword\"\u003e\\ref\u003c/span\u003e{fig:test}.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这样一来，当点击第二页 \u003ccode\u003eFigure\u003c/code\u003e 之后的「1」之后，就能跳转至图片的开始位置（而不是标题位置）。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/LaTeX/Anchor-Point-Caption.png\" alt=\"跳转位置\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"细节\"\u003e\u003ca href=\"#细节\" class=\"headerlink\" title=\"细节\"\u003e\u003c/a\u003e细节\u003c/h2\u003e\u003cp\u003e\u003ccode\u003ecaption\u003c/code\u003e 宏包用于控制浮动体超链接跳转位置的功能，实际上由宏包选项 \u003ccode\u003ehypcap\u003c/code\u003e 控制。默认情况下，\u003ccode\u003ehypcap = true\u003c/code\u003e，即打开这一功能。\u003c/p\u003e\n\u003cp\u003e除此之外，\u003ccode\u003ecaption\u003c/code\u003e 宏包还提供了 \u003ccode\u003ehypcapspace\u003c/code\u003e 选项，用来控制浮动体跳转的具体位置。具体来说，\u003ccode\u003ehypcapspace\u003c/code\u003e 选项接收一个 TeX 长度，跳转的位置则被设置为浮动体开始位置前的该长度；它的默认值为 \u003ccode\u003ehypcapspace = 0.5\\baselineskip\u003c/code\u003e。比如说：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{hyperref}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e[hypcap = true, hypcapspace = 2cm]{caption}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe} \u003cspan class=\"comment\"\u003e% for dummy text\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.6\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image.jpg}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{dummy figure}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:test}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\blindtext\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\clearpage\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\blindtext\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThis is the hyper-reference of Figure \u003cspan class=\"keyword\"\u003e\\ref\u003c/span\u003e{fig:test}.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/LaTeX/Anchor-Point-Caption-2cm.png\" alt=\"hypcapspace 设置为 2cm 时的效果\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"优势\"\u003e\u003ca href=\"#优势\" class=\"headerlink\" title=\"优势\"\u003e\u003c/a\u003e优势\u003c/h2\u003e\u003cp\u003e相较之前介绍过的 \u003ccode\u003ehypcap\u003c/code\u003e 宏包，由 \u003ccode\u003ecaption\u003c/code\u003e 宏包完成这项工作，显得更加自然。毕竟，对浮动体标题的操作是一个常见需求，因而加载 \u003ccode\u003ecaption\u003c/code\u003e 宏包很多时候是理所当然的；而 \u003ccode\u003ehypcap\u003c/code\u003e 宏包则更像是一个补丁。具体到功能上，\u003ccode\u003ecaption\u003c/code\u003e 相较 \u003ccode\u003ehypcap\u003c/code\u003e 宏包有以下一些优势：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ehypcap\u003c/code\u003e 宏包只支持 LaTeX 自带的 \u003ccode\u003efigure\u003c/code\u003e 和 \u003ccode\u003etable\u003c/code\u003e 两个浮动体环境，而 \u003ccode\u003ecaption\u003c/code\u003e 则支持更多。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ehypcap\u003c/code\u003e 宏包不能与 \u003ccode\u003ecaption\u003c/code\u003e 宏包定义的 \u003ccode\u003e\\captionsetup{type = \u0026lt;type\u0026gt;}\u003c/code\u003e + \u003ccode\u003e\\caption\u003c/code\u003e 联用，而 \u003ccode\u003ecaption\u003c/code\u003e 对自家定义的宏当然支持良好。\u003c/li\u003e\n\u003c/ul\u003e\n\n    \u003c/div\u003e",
  "Date": "2015-11-21T11:46:23Z",
  "Author": "Liam Huang"
}