{
  "Source": "liam.page",
  "Title": "循环列表中的最大子序列和问题",
  "Link": "https://liam.page/2016/05/12/max-subsequence-sum-in-circular-list/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e序列的最大子序列和问题，说的是：给定一个包含若干整数（正负不限）的序列，寻找其中的一个子序列，使得该子序列元素之和在所有子序列的和中最大。\u003c/p\u003e\n\u003cp\u003e这一经典的问题，可由动态规划（中的 Kadane 算法）在 $O(n)$ 的时间内解决。\u003c/p\u003e\n\u003cp\u003e如果我们将给定的序列首尾相连，成为一个环状列表。同样的问题，就变得复杂起来。不过，在巧妙的思路下，问题仍然可以在 $O(n)$ 时间内解决。\u003c/p\u003e\n\u003cp\u003e下面我们先复习一下 Kadane 算法；然后看看怎样在线性时间内，解决循环列表中的最大子序列和问题。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"Kadane-算法\"\u003e\u003ca href=\"#Kadane-算法\" class=\"headerlink\" title=\"Kadane 算法\"\u003e\u003c/a\u003eKadane 算法\u003c/h2\u003e\u003cp\u003e该算法由 CMU 的 Jay Kadane 提出，运用了动态规划的思想。\u003c/p\u003e\n\u003cp\u003e动态规划是求解最优化问题的一种思想，它的核心，是要寻找一种看待问题的方式：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e这种看待问题的方式，将问题可能的中间过程，划分为若干状态；\u003c/li\u003e\n\u003cli\u003e对于每个状态来说，能取得的值可以有多个，但我们只关注其中的最优解；\u003c/li\u003e\n\u003cli\u003e随着解题过程向前推进，在每个阶段之间，状态之间可能发生转移；\u003c/li\u003e\n\u003cli\u003e在转移的过程中，各个状态在下一个阶段的最优解，可以由上一个阶段某些状态的最优解，经过某种确定的方式得到；\u003c/li\u003e\n\u003cli\u003e这种方式，只与上一阶段的状态有关，而与上一阶段的状态是如何得到的无关。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e这样一来，如果我们能够在某个阶段找到确定的最优解，就能够逐层递推，找到原问题的最优解。\u003c/p\u003e\n\u003cp\u003e在这里：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e有限的阶段，即是子问题；\u003c/li\u003e\n\u003cli\u003e每个阶段各个状态的最优解，共同构成了当前阶段的局部最优解；\u003c/li\u003e\n\u003cli\u003e最优解在阶段之间的递推关系，叫做最优子结构；\u003c/li\u003e\n\u003cli\u003e最优子结构只与上一阶段的状态本身有关，这个性质叫做无后效性。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e也就是说，动态规划的核心，是要寻找一种具有最优子结构的无后效的问题拆解方式。\u003c/p\u003e\n\u003cp\u003e在 Kadane 算法中，\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e我们将从前往后扫描序列，每次扫描到一个新的整数，就是一个阶段；\u003c/li\u003e\n\u003cli\u003e对于每个阶段来说，我们只关注一个状态，这个时候阶段和状态的概念是等价的：\u003cstrong\u003e以当前整数结尾的子序列的和\u003c/strong\u003e；\u003c/li\u003e\n\u003cli\u003e对于每个阶段来说，和最大的那个子序列，就是局部最优解；\u003c/li\u003e\n\u003cli\u003e在转移过程中，下一个阶段的局部最优解很容易构造：如果上一阶段的最优解小于零，则下一个阶段的局部最优解就是下一个整数本身；如果上一阶段的局部最优解不小于零，则下一个阶段的局部最优解，只需要在上一阶段的局部最优解的基础上，加上下一个整数即可。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e这样，我们就找到了一个无后效性的最优子结构。\u003c/p\u003e\n\u003cp\u003e据此，我们不难写出如下代码（Python）：\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003cfigcaption\u003e\u003cspan\u003eKadane.py\u003c/span\u003e\u003c/figcaption\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title function_\"\u003emaxSubArraySum\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"keyword\"\u003enot\u003c/span\u003e nums:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"literal\"\u003eNone\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eelif\u003c/span\u003e \u003cspan class=\"number\"\u003e1\u003c/span\u003e == \u003cspan class=\"built_in\"\u003elen\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    local_max, global_max = nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e], nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e i \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e xrange (\u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"built_in\"\u003elen\u003c/span\u003e (nums)):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        local_max  = \u003cspan class=\"built_in\"\u003emax\u003c/span\u003e (local_max + nums[i], nums[i])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        global_max = \u003cspan class=\"built_in\"\u003emax\u003c/span\u003e (local_max, global_max)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e global_max\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"string\"\u003e\u0026#39;__main__\u0026#39;\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    test_cases = [[], [\u003cspan class=\"number\"\u003e0\u003c/span\u003e], [\u003cspan class=\"number\"\u003e1\u003c/span\u003e], [\u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"number\"\u003e3\u003c/span\u003e], [-\u003cspan class=\"number\"\u003e3\u003c/span\u003e, -\u003cspan class=\"number\"\u003e1\u003c/span\u003e, -\u003cspan class=\"number\"\u003e2\u003c/span\u003e],\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e                  [\u003cspan class=\"number\"\u003e9\u003c/span\u003e, \u003cspan class=\"number\"\u003e8\u003c/span\u003e, \u003cspan class=\"number\"\u003e5\u003c/span\u003e, \u003cspan class=\"number\"\u003e2\u003c/span\u003e, -\u003cspan class=\"number\"\u003e5\u003c/span\u003e, \u003cspan class=\"number\"\u003e6\u003c/span\u003e, \u003cspan class=\"number\"\u003e2\u003c/span\u003e, -\u003cspan class=\"number\"\u003e2\u003c/span\u003e]]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e nums \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e test_cases:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"built_in\"\u003eprint\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#34;The maxSubArraySum of\u0026#34;\u003c/span\u003e, nums, \u003cspan class=\"string\"\u003e\u0026#34;is\u0026#34;\u003c/span\u003e, maxSubArraySum (nums)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"循环列表中的最大子序列和问题\"\u003e\u003ca href=\"#循环列表中的最大子序列和问题\" class=\"headerlink\" title=\"循环列表中的最大子序列和问题\"\u003e\u003c/a\u003e循环列表中的最大子序列和问题\u003c/h2\u003e\u003cp\u003e对于一个循环列表来说，求解最大子序列和的问题，时间复杂度不会超过 $O(n^2)$。这是因为，我们可以依次移动长度为 $n$ 的窗口，然后用 Kadane 算法求解当前窗口的最大子序列和；而后再将这些窗口分别的最大子序列和做比较，求得其中的最大者。由于窗口数量最大为 $n$，而 Kadane 算法是线性的，所以这种平凡的解法，时间复杂度是 $O(n^2)$。\u003c/p\u003e\n\u003cp\u003e不过，问题也可以在线性时间内解决。考虑一个循环序列：\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003earr[0], arr[1], arr[2], ..., arr[n]\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e其最大子序列和对应的子序列，有两种情况：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e子序列不跨过 \u003ccode\u003earr[n], arr[0]\u003c/code\u003e，即不 wrap 的情况。此时问题退化为普通序列的最大子序列和问题，我们可以在线性时间内解决。\u003c/li\u003e\n\u003cli\u003e子序列跨过 \u003ccode\u003earr[n], arr[0]\u003c/code\u003e，即 wrap 的情况。此时，我们有 \u003ccode\u003e最大子序列和 = 全序列和 - 序列中不 wrap 的子序列的和\u003c/code\u003e。显而易见，\u003ccode\u003e全序列和\u003c/code\u003e 是一个常数，要 wrap 的子序列和尽可能大，就需要中间不 wrap 的子序列和尽可能小。这时候，如果我们将整个序列正负号翻转，那么求得该翻转后的序列的最大子序列和，就对应了翻转前的最小子序列和。因此，这种情况也可以在线性时间内解决。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e据此，我们不难得到：\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003cfigcaption\u003e\u003cspan\u003ecircular_kadane.py\u003c/span\u003e\u003c/figcaption\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e31\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e32\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e33\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e34\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e35\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e36\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e37\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e38\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e40\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e41\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e42\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e43\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title function_\"\u003ekadane\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"keyword\"\u003enot\u003c/span\u003e nums:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"literal\"\u003eNone\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eelif\u003c/span\u003e \u003cspan class=\"number\"\u003e1\u003c/span\u003e == \u003cspan class=\"built_in\"\u003elen\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    local_max  = nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    global_max = nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e i \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e xrange (\u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"built_in\"\u003elen\u003c/span\u003e (nums)):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        local_max  = \u003cspan class=\"built_in\"\u003emax\u003c/span\u003e (local_max + nums[i], nums[i])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        global_max = \u003cspan class=\"built_in\"\u003emax\u003c/span\u003e (local_max, global_max)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e global_max\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title function_\"\u003emaxCircularSum\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"keyword\"\u003enot\u003c/span\u003e nums:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"literal\"\u003eNone\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eelif\u003c/span\u003e \u003cspan class=\"number\"\u003e1\u003c/span\u003e == \u003cspan class=\"built_in\"\u003elen\u003c/span\u003e (nums):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e nums[\u003cspan class=\"number\"\u003e0\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    max_kadane = kadane (nums)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e max_kadane \u0026lt;= \u003cspan class=\"number\"\u003e0\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e max_kadane\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    max_wrap = \u003cspan class=\"built_in\"\u003esum\u003c/span\u003e (nums)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    nums     = [-x \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e x \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e nums]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    cur_kadane = kadane (nums)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    max_wrap += cur_kadane\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e max_wrap \u0026gt; max_kadane:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e max_wrap\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003eelse\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e max_kadane\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"string\"\u003e\u0026#39;__main__\u0026#39;\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    test_cases = [[], [\u003cspan class=\"number\"\u003e0\u003c/span\u003e], [\u003cspan class=\"number\"\u003e1\u003c/span\u003e], [\u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"number\"\u003e3\u003c/span\u003e], [-\u003cspan class=\"number\"\u003e3\u003c/span\u003e, -\u003cspan class=\"number\"\u003e1\u003c/span\u003e, -\u003cspan class=\"number\"\u003e2\u003c/span\u003e],\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e                  [\u003cspan class=\"number\"\u003e11\u003c/span\u003e, \u003cspan class=\"number\"\u003e10\u003c/span\u003e, -\u003cspan class=\"number\"\u003e20\u003c/span\u003e, \u003cspan class=\"number\"\u003e5\u003c/span\u003e, -\u003cspan class=\"number\"\u003e3\u003c/span\u003e, -\u003cspan class=\"number\"\u003e5\u003c/span\u003e, \u003cspan class=\"number\"\u003e8\u003c/span\u003e, -\u003cspan class=\"number\"\u003e13\u003c/span\u003e, \u003cspan class=\"number\"\u003e10\u003c/span\u003e]]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e nums \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e test_cases:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"built_in\"\u003eprint\u003c/span\u003e \u003cspan class=\"string\"\u003e\u0026#34;The maxCircularSum of\u0026#34;\u003c/span\u003e, nums, \u003cspan class=\"string\"\u003e\u0026#34;is\u0026#34;\u003c/span\u003e, maxCircularSum (nums)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e运行结果：\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [] is None\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [0] is 0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [1] is 1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [1, 2, 3] is 6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [-3, -1, -2] is -1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eThe maxCircularSum of [11, 10, -20, 5, -3, -5, 8, -13, 10] is 31\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n    \u003c/div\u003e",
  "Date": "2016-05-12T04:41:01Z",
  "Author": "Liam Huang"
}