{
  "Source": "liam.page",
  "Title": "Windows 中的 mklink 命令",
  "Link": "https://liam.page/2018/12/10/mklink-in-Windows/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e日常使用 Linux 的用户，想必对 \u003ccode\u003eln\u003c/code\u003e 命令不会陌生。使用该命令，可以在 Linux 系统上创建针对文件或目录的符号链接，实现一个文件（目录）两个名字的功能。\u003c/p\u003e\n\u003cp\u003eWindows 上也有一个类似功能的命令，它是 \u003ccode\u003emklink\u003c/code\u003e。不过它的行为和 \u003ccode\u003eln\u003c/code\u003e 不太一样。此外，Windows 上还有「快捷方式」这种东西，也能实现一个文件（目录）两个名字的功能。但它和 \u003ccode\u003emklink\u003c/code\u003e 建立的符号链接不一样，它是 Windows 上特有的一种文件格式，专门用来指向其它文件（目录）。\u003c/p\u003e\n\u003cp\u003e此篇讲讲 Windows 上的 \u003ccode\u003emklink\u003c/code\u003e 命令。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"速查表\"\u003e\u003ca href=\"#速查表\" class=\"headerlink\" title=\"速查表\"\u003e\u003c/a\u003e速查表\u003c/h2\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e不带参数\u003c/th\u003e\n\u003cth\u003e\u003ccode\u003e/D\u003c/code\u003e 参数\u003c/th\u003e\n\u003cth\u003e\u003ccode\u003e/H\u003c/code\u003e 参数\u003c/th\u003e\n\u003cth\u003e\u003ccode\u003eJ\u003c/code\u003e 参数\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e中文名称\u003c/td\u003e\n\u003ctd\u003e符号链接\u003c/td\u003e\n\u003ctd\u003e符号链接\u003c/td\u003e\n\u003ctd\u003e硬链接\u003c/td\u003e\n\u003ctd\u003e联接\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e英文名称\u003c/td\u003e\n\u003ctd\u003eSymbolic Link\u003c/td\u003e\n\u003ctd\u003eSymbolic Link\u003c/td\u003e\n\u003ctd\u003eHard Link\u003c/td\u003e\n\u003ctd\u003eJunction\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e作用对象\u003c/td\u003e\n\u003ctd\u003e文件\u003c/td\u003e\n\u003ctd\u003e目录\u003c/td\u003e\n\u003ctd\u003e文件\u003c/td\u003e\n\u003ctd\u003e目录\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e是否一定指向路径\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e是\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003edir\u003c/code\u003e 类型\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eSYMLINK\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eSYMLINK\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e无特殊显示\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eJUNCTION\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e资源管理器类型\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e.symlink\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e文件夹\u003c/td\u003e\n\u003ctd\u003e无特殊显示\u003c/td\u003e\n\u003ctd\u003e文件夹\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e资源管理器图标\u003c/td\u003e\n\u003ctd\u003e快捷方式\u003c/td\u003e\n\u003ctd\u003e文件夹快捷方式\u003c/td\u003e\n\u003ctd\u003e无特殊显示\u003c/td\u003e\n\u003ctd\u003e文件夹快捷方式\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e修改同步\u003c/td\u003e\n\u003ctd\u003e是\u003c/td\u003e\n\u003ctd\u003e是\u003c/td\u003e\n\u003ctd\u003e是\u003c/td\u003e\n\u003ctd\u003e是\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e删除同步\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003ctd\u003e否\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e彻底删除源\u003c/td\u003e\n\u003ctd\u003e删除源路径\u003c/td\u003e\n\u003ctd\u003e删除源路径\u003c/td\u003e\n\u003ctd\u003e删除所有硬链接\u003c/td\u003e\n\u003ctd\u003e删除源路径\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e引用错误报错\u003c/td\u003e\n\u003ctd\u003e无\u003c/td\u003e\n\u003ctd\u003e引用了一个不可用的位置\u003c/td\u003e\n\u003ctd\u003e-\u003c/td\u003e\n\u003ctd\u003e引用了一个不可用的位置\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2 id=\"详细说明\"\u003e\u003ca href=\"#详细说明\" class=\"headerlink\" title=\"详细说明\"\u003e\u003c/a\u003e详细说明\u003c/h2\u003e\u003cp\u003e\u003ccode\u003emklink\u003c/code\u003e 命令需要使用管理员权限，在 \u003ccode\u003ecmd.exe\u003c/code\u003e 中运行。在 Windows 7 中，可以在开始菜单中搜索 \u003ccode\u003ecmd\u003c/code\u003e，而后右键搜索结果，选择「以管理员身份运行」。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/windows/cmd_administrator.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e执行 \u003ccode\u003emklink\u003c/code\u003e 命令，不带任何 flags 及 arguments，可以查看它的语法说明（官方网页版\u003ca target=\"_blank\" rel=\"noopener\" href=\"https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/mklink\"\u003e说明\u003c/a\u003e）。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e创建符号链接。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eMKLINK [[/D] | [/H] | [/J]] Link Target\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        /D      创建目录符号链接。默认为文件\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e                符号链接。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        /H      创建硬链接，而不是符号链接。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        /J      创建目录联接。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        Link    指定新的符号链接名称。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        Target  指定新链接引用的路径\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e                (相对或绝对)。\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"不带参数\"\u003e\u003ca href=\"#不带参数\" class=\"headerlink\" title=\"不带参数\"\u003e\u003c/a\u003e不带参数\u003c/h3\u003e\u003cp\u003e不带参数的 \u003ccode\u003emklink\u003c/code\u003e 命令可以为文件创建符号链接。当源路径是目录时，不带参数的 \u003ccode\u003emklink\u003c/code\u003e 不会报错，但是实际产生的符号链接不可用。在 \u003ccode\u003ecmd\u003c/code\u003e 中使用 \u003ccode\u003edir\u003c/code\u003e 列出当前目录的文件列表时，符号链接显示为 \u003ccode\u003eSYMLINK\u003c/code\u003e，同时在文件名后以方括号表示链接的源地址。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink source_link.txt source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link.txt \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source.txt 创建的符号链接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink source_link source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source 创建的符号链接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;dir\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 驱动器 D 中的卷是 Data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 卷的序列号是 22FA-F6AC\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e D:\\test 的目录\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:18    \u0026lt;DIR\u0026gt;          .\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:18    \u0026lt;DIR\u0026gt;          ..\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17    \u0026lt;DIR\u0026gt;          source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17                 0 source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:18    \u0026lt;SYMLINK\u0026gt;      source_link [source]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:18    \u0026lt;SYMLINK\u0026gt;      source_link.txt [source.txt]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               3 个文件              0 字节\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               3 个目录 241,024,643,072 可用字节\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e不带参数的 \u003ccode\u003emklink\u003c/code\u003e 创建的符号链接，展现在 Windows 资源管理器中的样式与普通的快捷方式没有两样——在图标的左下角有一个小箭头。不过，在资源管理器中，符号链接的文件类型是 \u003ccode\u003e.symlink\u003c/code\u003e。对于源路径是目录的情况，图标显示为一块白板。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/windows/mklink_void.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e删除不带参数的 \u003ccode\u003emklink\u003c/code\u003e 创建的符号链接，不会影响源路径指向的文件。删除不带参数的 \u003ccode\u003emklink\u003c/code\u003e 创建的符号链接指向的源文件，访问符号链接时无法访问。\u003c/p\u003e\n\u003ch3 id=\"参数-D\"\u003e\u003ca href=\"#参数-D\" class=\"headerlink\" title=\"参数 /D\"\u003e\u003c/a\u003e参数 \u003ccode\u003e/D\u003c/code\u003e\u003c/h3\u003e\u003cp\u003e参数 \u003ccode\u003e/D\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令可以为目录创建符号链接。当源路径是文件时，不带参数的 \u003ccode\u003emklink\u003c/code\u003e 不会报错，但是实际产生的符号链接不可用；访问时会提示「目录名称无效」。在 \u003ccode\u003ecmd\u003c/code\u003e 中使用 \u003ccode\u003edir\u003c/code\u003e 列出当前目录的文件列表时，符号链接显示为 \u003ccode\u003eSYMLINK\u003c/code\u003e，同时在文件名后以方括号表示链接的源地址。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /D source_link source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source 创建的符号链接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /D source_link.txt source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link.txt \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source.txt 创建的符号链接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;dir\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 驱动器 D 中的卷是 Data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 卷的序列号是 22FA-F6AC\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e D:\\test 的目录\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:27    \u0026lt;DIR\u0026gt;          .\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:27    \u0026lt;DIR\u0026gt;          ..\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17    \u0026lt;DIR\u0026gt;          source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17                 0 source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:27    \u0026lt;SYMLINKD\u0026gt;     source_link [source]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:27    \u0026lt;SYMLINKD\u0026gt;     source_link.txt [source.txt]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               1 个文件              0 字节\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               5 个目录 241,024,618,496 可用字节\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e参数 \u003ccode\u003e/D\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的符号链接，展现在 Windows 资源管理器中的样式与普通的快捷方式没有两样——在图标的左下角有一个小箭头。不过，在资源管理器中，符号链接的文件类型是「文件夹」。对于源路径是文件的情况，图标显示为空目录的样式。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/windows/mklink_d.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e删除参数 \u003ccode\u003e/D\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的符号链接，不会影响源路径指向的文件。删除参数 \u003ccode\u003e/D\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的符号链接指向的源文件，访问符号链接时无法访问；提示「引用了一个不可用的位置」。\u003c/p\u003e\n\u003ch3 id=\"参数-H\"\u003e\u003ca href=\"#参数-H\" class=\"headerlink\" title=\"参数 /H\"\u003e\u003c/a\u003e参数 \u003ccode\u003e/H\u003c/code\u003e\u003c/h3\u003e\u003cp\u003e参数 \u003ccode\u003e/H\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令可以为文件创建硬链接。当源路径是目录时，不带参数的 \u003ccode\u003emklink\u003c/code\u003e 会报错「拒绝访问」。在 \u003ccode\u003ecmd\u003c/code\u003e 中使用 \u003ccode\u003edir\u003c/code\u003e 列出当前目录的文件列表时，硬链接的样式与正常文件没什么不同。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /H source_link.txt source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link.txt \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source.txt 创建了硬链接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /H source_link source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e拒绝访问。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;dir\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 驱动器 D 中的卷是 Data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 卷的序列号是 22FA-F6AC\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e D:\\test 的目录\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:38    \u0026lt;DIR\u0026gt;          .\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:38    \u0026lt;DIR\u0026gt;          ..\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:35    \u0026lt;DIR\u0026gt;          source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17                 0 source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:17                 0 source_link.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               2 个文件              0 字节\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               3 个目录 241,024,421,888 可用字节\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e参数 \u003ccode\u003e/H\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的硬链接，展现在 Windows 资源管理器中的样式与源文件一致。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/windows/mklink_h.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e删除参数 \u003ccode\u003e/H\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的硬链接，不会影响源路径指向的文件。删除参数 \u003ccode\u003e/H\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的硬链接指向的源文件，也不会影响硬链接。只有当一个文件的所有硬链接都被删除时，文件才被真正删除。\u003c/p\u003e\n\u003ch3 id=\"参数-J\"\u003e\u003ca href=\"#参数-J\" class=\"headerlink\" title=\"参数 /J\"\u003e\u003c/a\u003e参数 \u003ccode\u003e/J\u003c/code\u003e\u003c/h3\u003e\u003cp\u003e参数 \u003ccode\u003e/J\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令可以为目录创建联接。当源路径是文件时，不带参数的 \u003ccode\u003emklink\u003c/code\u003e 不会报错，但是实际产生的联接不可用；访问时会提示「目录名称无效」。在 \u003ccode\u003ecmd\u003c/code\u003e 中使用 \u003ccode\u003edir\u003c/code\u003e 列出当前目录的文件列表时，联接显示为 \u003ccode\u003eJUNCTION\u003c/code\u003e，同时在文件名后以方括号表示链接的源地址的绝对路径。\u003c/p\u003e\n\u003cfigure class=\"highlight plaintext\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /J source_link.txt source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link.txt \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source.txt 创建的联接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;mklink /J source_link source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e为 source_link \u0026lt;\u0026lt;===\u0026gt;\u0026gt; source 创建的联接\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eD:\\test\u0026gt;dir\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 驱动器 D 中的卷是 Data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e 卷的序列号是 22FA-F6AC\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e D:\\test 的目录\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:43    \u0026lt;DIR\u0026gt;          .\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:43    \u0026lt;DIR\u0026gt;          ..\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:35    \u0026lt;DIR\u0026gt;          source\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:41                 2 source.txt\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:43    \u0026lt;JUNCTION\u0026gt;     source_link [D:\\test\\source]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2018/12/10  16:43    \u0026lt;JUNCTION\u0026gt;     source_link.txt [D:\\test\\source.txt]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               1 个文件              2 字节\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e               5 个目录 241,024,319,488 可用字节\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e参数 \u003ccode\u003e/J\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的联接，展现在 Windows 资源管理器中的样式与普通的快捷方式没有两样——在图标的左下角有一个小箭头。不过，在资源管理器中，联接的文件类型是「文件夹」。对于源路径是文件的情况，图标显示为空目录的样式。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/windows/mklink_j.png\"/\u003e\u003c/p\u003e\n\u003cp\u003e删除参数 \u003ccode\u003e/J\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的联接，不会影响源路径指向的文件。删除参数 \u003ccode\u003e/J\u003c/code\u003e 版本的 \u003ccode\u003emklink\u003c/code\u003e 命令创建的联接指向的源文件，访问联接时无法访问；提示「引用了一个不可用的位置」。\u003c/p\u003e\n\n    \u003c/div\u003e",
  "Date": "2018-12-10T07:59:45Z",
  "Author": "Liam Huang"
}