{
  "Source": "liam.page",
  "Title": "修复 MacTeX 2015 无法按字体文件名调用系统字体的问题",
  "Link": "https://liam.page/2015/07/11/mactex-2015-system-font/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003eXeLaTeX 是 eTeX 的扩展。它直接支持 Unicode 字符，并且能够调用安装在操作系统的字体。这些特性解决了以往 TeX 切换字体不便的问题，对于中文 TeX 用户来说，更是福音。\u003c/p\u003e\n\u003cp\u003e前段时间，TeX Live 更新到了 TeX Live 2015 版本，Mac OS X 上相应的也更新到了 MacTeX 2015 版本。不过此次更新之后，XeLaTeX 却无法通过字体文件名调用系统字体。亦即，下列代码无法通过编译（提示 \u003ccode\u003efont-not-found\u003c/code\u003e）：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{fontspec}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\setmainfont\u003c/span\u003e{GillSans.ttc}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eGillSans Test.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003cp\u003eXeLaTeX 通过字体文件名调用字体需要 \u003ccode\u003ekpathsea\u003c/code\u003e 库的协助。默认情况下，\u003ccode\u003ekpathsea\u003c/code\u003e 会搜索 MacTeX 自己的目录树（\u003ccode\u003eTEXMF\u003c/code\u003e）。如果希望 \u003ccode\u003ekpathsea\u003c/code\u003e 搜索系统字体目录的话，还需要配置 \u003ccode\u003eOSFONTDIR\u003c/code\u003e 这个环境变量。\u003c/p\u003e\n\u003cp\u003e在 MacTeX 2014 中，这个变量是默认配置好了的。但是在 MacTeX 2015 中，不知为何，这个变量没有预先配置。因此，需要用户自行配置。\u003c/p\u003e\n\u003cp\u003e具体的配置方法如下：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e打开目录：\u003ccode\u003e/usr/local/texlive/2015\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e编辑目录下的文件：\u003ccode\u003etexmf.cnf\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e在文件末尾新建一行，加上：\u003ccode\u003eOSFONTDIR = /Library/Fonts//:~/Library/Fonts//\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e保存文件\u003c/li\u003e\n\u003cli\u003e重新编译上述代码即可成功\u003c/li\u003e\n\u003c/ol\u003e\n\n    \u003c/div\u003e",
  "Date": "2015-07-11T03:27:30Z",
  "Author": "Liam Huang"
}