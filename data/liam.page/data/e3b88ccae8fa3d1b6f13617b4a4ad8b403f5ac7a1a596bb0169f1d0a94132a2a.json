{
  "Source": "liam.page",
  "Title": "手把手教你在 MacTeX 上使用 CJK",
  "Link": "https://liam.page/2020/04/17/using-CJK-on-macTeX-step-by-step/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e时至今日，劝说用户不使用 CJK 已磨破了无数张嘴皮。然而，因为各种各样的历史原因，仍然有很多用户因各种理由需要继续使用 CJK。当然，这些理由大多数是不充分的（在我看来），但仍有一些站在普通用户的角度是充分的。因此，如果你因为如下原因使用 CJK，我表示愿意提供一定的协助：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e需要投稿某些中文期刊，但这些期刊的模板使用了 CJK 作为中文支持方式的；\u003c/li\u003e\n\u003cli\u003e与他人协作时，群体意志决定使用 CJK 而你无法反抗的。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e对于 Windows 用户，出于上述原因需要使用 CJK 时，可在 TeX Live 中搭配王越、吴凌云等人提供的 \u003ccode\u003ezhwinfonts.tex\u003c/code\u003e，借助 \u003ccode\u003ezhmetrics\u003c/code\u003e 技术使用 CJK。但对于 macOS 用户，\u003ccode\u003ezhwinfonts.tex\u003c/code\u003e 则不好用。因为 \u003ccode\u003ezhwinfonts.tex\u003c/code\u003e 是为 Windows 上的中易字体编写的。\u003c/p\u003e\n\u003cp\u003e我曾经写过一篇文章\u003ca href=\"/2015/04/14/using-chinese-templates-in-mactex/\"\u003e在 MacTeX 中使用中文模板\u003c/a\u003e详细阐述这一系列问题。但其中关于 CJK 的部分，仍有用户反馈无法使用。于是有这篇文章——不介绍详细原理，只说详细步骤。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"安装字体\"\u003e\u003ca href=\"#安装字体\" class=\"headerlink\" title=\"安装字体\"\u003e\u003c/a\u003e安装字体\u003c/h2\u003e\u003cp\u003e因为技术上的原因，macOS 自带的字体无法搭配 \u003ccode\u003ezhmetrics\u003c/code\u003e 技术。因此，你需要下载支持该技术的字体。\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e下载下列字体（因涉及到版权，请自行搜索下载）\u003cul\u003e\n\u003cli\u003e方正书宋 GBK：FZSSK.TTF\u003c/li\u003e\n\u003cli\u003e方正楷体 GBK：FZKTK.TTF\u003c/li\u003e\n\u003cli\u003e方正黑体 GBK：FZHTK.TTF\u003c/li\u003e\n\u003cli\u003e方正仿宋 GBK：FZFSK.TTF\u003c/li\u003e\n\u003cli\u003e华文隶体：STLITI.ttf（安装 Office 之后自带）\u003c/li\u003e\n\u003cli\u003e华文琥珀：STHUPO.TTF（安装 Office 之后自带）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e安装字体（以 \u003ccode\u003eFZSSK.TTF\u003c/code\u003e 为例）\u003cbr/\u003e \u003cimg data-src=\"/uploads/images/LaTeX/installing_fzssk.jpg\"/\u003e\u003c/li\u003e\n\u003cli\u003e安装成功后，在 \u003ccode\u003eFont Book.app\u003c/code\u003e 当中应当可见相应字体（以 \u003ccode\u003eFZSSK.TTF\u003c/code\u003e 为例）安装在 \u003ccode\u003e~/Library/Fonts/FZSSK.TTF\u003c/code\u003e\u003cbr/\u003e \u003cimg data-src=\"/uploads/images/LaTeX/installed_fzssk.jpg\"/\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"修改-TeX-Live-配置文件\"\u003e\u003ca href=\"#修改-TeX-Live-配置文件\" class=\"headerlink\" title=\"修改 TeX Live 配置文件\"\u003e\u003c/a\u003e修改 TeX Live 配置文件\u003c/h2\u003e\u003col\u003e\n\u003cli\u003e打开 \u003ccode\u003eFinder.app\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e按下快捷键 \u003ccode\u003eCommand + Shift + G\u003c/code\u003e，输入 \u003ccode\u003e/usr/local/texlive\u003c/code\u003e 而后点击「Go」（如果目录不存在，说明你没有将 macTeX 安装在默认位置，请自行调整）\u003cbr/\u003e \u003cimg data-src=\"/uploads/images/LaTeX/modifying_texmf.cnf.jpg\"/\u003e\u003c/li\u003e\n\u003cli\u003e进入相应的年份目录（我这里是 \u003ccode\u003e2020\u003c/code\u003e），而后用 \u003ccode\u003eTextEdit.app\u003c/code\u003e 打开 \u003ccode\u003etexmf.cnf\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e检查文件中是否有 \u003ccode\u003eOSFONTDIR\u003c/code\u003e 变量\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e若无，则在文件最后新增一行，内容为：\u003ccode\u003eOSFONTDIR = ~/Library/Fonts//:/Library/Fonts//:/System/Library/Fonts//\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e若有，则确保其中包含 \u003ccode\u003e~/Library/Fonts\u003c/code\u003e 这个目录\u003cbr/\u003e\u003cimg data-src=\"/uploads/images/LaTeX/modified_texmf.cnf.jpg\"/\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"安装-zhfzfonts-tex\"\u003e\u003ca href=\"#安装-zhfzfonts-tex\" class=\"headerlink\" title=\"安装 zhfzfonts.tex\"\u003e\u003c/a\u003e安装 \u003ccode\u003ezhfzfonts.tex\u003c/code\u003e\u003c/h2\u003e\u003cp\u003e打开 \u003ccode\u003eTerminal.app\u003c/code\u003e，依次执行下列命令：\u003c/p\u003e\n\u003cfigure class=\"highlight bash\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003els\u003c/span\u003e -l /usr/local/texlive/texmf-local \u003cspan class=\"comment\"\u003e# 确认目录存在（如果不存在，说明你没有将 macTeX 安装在默认位置，请自行调整）\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003emkdir\u003c/span\u003e -p /usr/local/texlive/texmf-local/tex/generic/zhmetrics/ \u003cspan class=\"comment\"\u003e# 新建目录\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"built_in\"\u003ecd\u003c/span\u003e /usr/local/texlive/texmf-local/tex/generic/zhmetrics/ \u003cspan class=\"comment\"\u003e# 进入刚才新建的目录\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewget https://liam.page/attachment/attachment/LaTeX-useful-tools/zhfzfonts.tex \u003cspan class=\"comment\"\u003e# 下载 `zhfzfonts.tex`\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003etexhash \u003cspan class=\"comment\"\u003e# 刷新 ls-R 数据库，可能需要 `root` 权限\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/LaTeX/installing_zhfzfonts.jpg\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"试用-CJK\"\u003e\u003ca href=\"#试用-CJK\" class=\"headerlink\" title=\"试用 CJK\"\u003e\u003c/a\u003e试用 CJK\u003c/h2\u003e\u003cp\u003e至此，你可以如常使用 \u003ccode\u003eCJK\u003c/code\u003e 宏包支持中文，只需要在导言区额外新增一行即可：\u003ccode\u003e\\AtBeginDvi{\\input{zhfzfonts}}\u003c/code\u003e。\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{CJK}  \u003cspan class=\"comment\"\u003e% CJKutf8\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\AtBeginDvi\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\input\u003c/span\u003e{zhfzfonts}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{CJK*}{UTF8}{song}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e中文。\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\clearpage\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{CJK*}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e你可以使用 PDFLaTeX 编译，也可以使用 LaTeX - DVIPDFMx 编译。得到结果如下图所示。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"/uploads/images/LaTeX/CJK_macOS.jpg\"/\u003e\u003c/p\u003e\n\u003cp\u003e注意，\u003ccode\u003eCJK\u003c/code\u003e 支持 GBK，也支持 UTF-8。因此，你需要将文档编码保存为与 \u003ccode\u003eCJK\u003c/code\u003e 环境相同的编码格式。\u003c/p\u003e\n\n    \u003c/div\u003e",
  "Date": "2020-04-17T03:59:31Z",
  "Author": "Liam Huang"
}