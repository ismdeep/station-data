{
  "Source": "liam.page",
  "Title": "使用 endfloat 宏包将浮动的图表放在文章末尾",
  "Link": "https://liam.page/2015/09/28/using-the-endfloat-package-to-delay-floats-to-the-and-of-document/",
  "Content": "\u003cdiv class=\"post-body\" itemprop=\"articleBody\"\u003e\n\n      \n        \u003cp\u003e许多期刊在投稿的时候要求作者将图表等大块内容与正文分开、放在文章末尾。通常来说，我们只能将本来放在正文中的插图、插表代码挪到文章末尾；然后再用交叉引用，说明图表的作用。\u003c/p\u003e\n\u003cp\u003e这样固然可以实现需要的效果，但是改变了行文的习惯，也不符合 LaTeX「内容与格式分离」的哲学。\u003c/p\u003e\n\u003cp\u003eMcCauley 等人的 endfloat 宏包改变了 LaTeX 处理浮动体的流程，能够比较简单地将图表这些浮动体延迟到文章末尾输出——只需要简单的配置，不需要改变行文习惯。\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\n\u003ch2 id=\"基本用法\"\u003e\u003ca href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"\u003e\u003c/a\u003e基本用法\u003c/h2\u003e\u003cp\u003eendfloat 宏包现在只支持 LaTeX2e 了，所以 LaTeX 2.09 的用户只能去找它的旧版本用。实际上，LaTeX 2.09 是一个早就被迭代掉的版本，最好还是不要用了。\u003c/p\u003e\n\u003cp\u003e和大多数 LaTeX 宏包的用法一样，调用 endfloat 宏包只需要在导言区使用 \u003ccode\u003e\\usepackage\u003c/code\u003e 命令就可以了。\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e[options]{endfloat}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e一个简单而完整的例子是：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{endfloat}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[1-5]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure A}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[6-10]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure B}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[11-15]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这里，mwe 宏包和 \u003ccode\u003e\\lipsum\u003c/code\u003e 命令是用来产生无意义的测试文字的，实际使用时可以删掉；\u003ccode\u003eexample-image\u003c/code\u003e 则是 mwe 宏包提供的示例图片。\u003c/p\u003e\n\u003cp\u003e编译以上代码的结果可见：\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"//liam.page/attachment/attachment/images/LaTeX/endfloat-01.png\" alt=\"endfloat 宏包的 MWE\"/\u003e\u003c/p\u003e\n\u003cp\u003e由左侧缩略图可见，两个浮动体都被放在了文章最末尾输出；正文部分可见，在原本图片的位置生成了「Figure 1 about here.」的说明文字；此外，在输出图片之前，还自动调用了 \u003ccode\u003e\\listoffigures\u003c/code\u003e，生成图片清单。\u003c/p\u003e\n\u003ch2 id=\"配置选项\"\u003e\u003ca href=\"#配置选项\" class=\"headerlink\" title=\"配置选项\"\u003e\u003c/a\u003e配置选项\u003c/h2\u003e\u003ch3 id=\"图表清单\"\u003e\u003ca href=\"#图表清单\" class=\"headerlink\" title=\"图表清单\"\u003e\u003c/a\u003e图表清单\u003c/h3\u003e\u003cp\u003e默认情况下，endfloat 宏包会调用 \u003ccode\u003e\\listoffigures\u003c/code\u003e 和（或） \u003ccode\u003e\\listoftables\u003c/code\u003e 生成图表清单。这些行为由以下几个选项控制：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003efiglist\u003c/code\u003e / \u003ccode\u003enofiglist\u003c/code\u003e：互补选项，默认打开 \u003ccode\u003efiglist\u003c/code\u003e，即输出图片清单；\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003etablist\u003c/code\u003e / \u003ccode\u003enotablist\u003c/code\u003e：互补选项，默认打开 \u003ccode\u003etablist\u003c/code\u003e，即输出表格清单；\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elists\u003c/code\u003e / \u003ccode\u003enolists\u003c/code\u003e：互补选项，同时控制图表的清单，默认效果相当于打开了 \u003ccode\u003elists\u003c/code\u003e 选项。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e因此，如果你不想要上述例子中的图片清单，或者想手工用 \u003ccode\u003e\\listoffigures\u003c/code\u003e 将图片清单放在其他位置，可以打开 \u003ccode\u003enofiglist\u003c/code\u003e 选项。也就是：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e[nofiglist]{endfloat}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[1-5]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure A}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[6-10]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure B}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[11-15]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"图表章节标题\"\u003e\u003ca href=\"#图表章节标题\" class=\"headerlink\" title=\"图表章节标题\"\u003e\u003c/a\u003e图表章节标题\u003c/h3\u003e\u003cp\u003e在输出图表的之前，有时我们也需要给一个章节标题，表示「从这儿开始都是图片」之意。同样，endfloat 宏包提供了一组选项控制：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003efighead\u003c/code\u003e / \u003ccode\u003enofighead\u003c/code\u003e：互补选项，默认打开 \u003ccode\u003enofighead\u003c/code\u003e，即不输出图片章节标题；\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003etabhead\u003c/code\u003e / \u003ccode\u003enotabhead\u003c/code\u003e：互补选项，默认打开 \u003ccode\u003enotabhead\u003c/code\u003e，即不输出表格章节标题；\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eheads\u003c/code\u003e / \u003ccode\u003enoheads\u003c/code\u003e：互补选项，同时控制图表的章节标题，默认效果相当于打开了 \u003ccode\u003enoheads\u003c/code\u003e 选项。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e如果你想要 endfloat 宏包为你输出图片标题，可以这么做：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e{article}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e[fighead]{endfloat}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[1-5]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure A}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[6-10]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure B}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[11-15]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"图表标记\"\u003e\u003ca href=\"#图表标记\" class=\"headerlink\" title=\"图表标记\"\u003e\u003c/a\u003e图表标记\u003c/h3\u003e\u003cp\u003e前文提到，使用 endfloat 宏包之后，原本应当防止图表的地方，会自动生成一个记号。这个行为由 \u003ccode\u003emarkers\u003c/code\u003e / \u003ccode\u003enomarkers\u003c/code\u003e 这一组互补的选项控制：默认打开 \u003ccode\u003emarkers\u003c/code\u003e 选项，即生成这样的标记。如果你不想要，可以用 \u003ccode\u003enomarkers\u003c/code\u003e 关掉。\u003c/p\u003e\n\u003ch3 id=\"不处理图片或不处理表格\"\u003e\u003ca href=\"#不处理图片或不处理表格\" class=\"headerlink\" title=\"不处理图片或不处理表格\"\u003e\u003c/a\u003e不处理图片或不处理表格\u003c/h3\u003e\u003cp\u003e默认情况下，endfloat 宏包会将图表都延迟在文章末尾输出。如果你只想处理图片，或者只想处理表格的话，可以用下面一组选项来控制：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003etablesonly\u003c/code\u003e：只处理表格，图片保持原样；\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efiguresonly\u003c/code\u003e：只处理图片，表格保持原样。\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"图表的顺序\"\u003e\u003ca href=\"#图表的顺序\" class=\"headerlink\" title=\"图表的顺序\"\u003e\u003c/a\u003e图表的顺序\u003c/h3\u003e\u003cp\u003e同时延迟输出图表的情况下，endfloat 宏包会先输出图片，然后再输出表格。如果你想改变这个顺序，可以用下面的选项：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003efiguresfirst\u003c/code\u003e / \u003ccode\u003etablesfirst\u003c/code\u003e：控制图表输出的顺序，默认打开 \u003ccode\u003efiguresfirst\u003c/code\u003e，即先输出图片，再输出表格。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e注意，当启用了 \u003ccode\u003etablesonly\u003c/code\u003e 或者 \u003ccode\u003efiguresfirst\u003c/code\u003e 的时候，这两个选项就没有意义了。\u003c/p\u003e\n\u003ch2 id=\"修改-endfloat-宏包的默认行为\"\u003e\u003ca href=\"#修改-endfloat-宏包的默认行为\" class=\"headerlink\" title=\"修改 endfloat 宏包的默认行为\"\u003e\u003c/a\u003e修改 endfloat 宏包的默认行为\u003c/h2\u003e\u003cp\u003eendfloat 宏包虽好，但是人类的需求多种多样，总有它满足不了的时候。对于 endfloat 宏包来说，比较集中的问题就是记号的样式、还有图表章节标题的内容；此外，默认情况下，endfloat 宏包会将图表一页放一个，有时我们也会希望将几个图表放在同一页上。\u003c/p\u003e\n\u003ch3 id=\"记号样式的修改\"\u003e\u003ca href=\"#记号样式的修改\" class=\"headerlink\" title=\"记号样式的修改\"\u003e\u003c/a\u003e记号样式的修改\u003c/h3\u003e\u003cp\u003e记号的样式定义在 \u003ccode\u003e\\xxxplace\u003c/code\u003e 这个宏里。比如，针对图片，我们就要修改 \u003ccode\u003e\\figureplace\u003c/code\u003e 这个宏的定义。\u003c/p\u003e\n\u003cp\u003e比如下面的代码：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\documentclass\u003c/span\u003e[UTF8]{ctexart}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{graphicx}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{endfloat}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\usepackage\u003c/span\u003e{mwe}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\figureplace\u003c/span\u003e}{\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{center}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  [\u003cspan class=\"keyword\"\u003e\\figurename\u003c/span\u003e~\u003cspan class=\"keyword\"\u003e\\thepostfigure\u003c/span\u003e. 在这里]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{center}}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[1-3]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure A}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-a}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[4-6]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\begin\u003c/span\u003e{figure}[!htb]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\centering\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\includegraphics\u003c/span\u003e[width = 0.8\u003cspan class=\"keyword\"\u003e\\linewidth\u003c/span\u003e]{example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\caption\u003c/span\u003e{Dummy Figure B}\u003cspan class=\"keyword\"\u003e\\label\u003c/span\u003e{fig:example-image-b}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{figure}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\lipsum\u003c/span\u003e[7-9]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\end\u003c/span\u003e{document}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在这里，\u003ccode\u003e\\figurename\u003c/code\u003e 为人熟知，是图片标题的 label 内容；在 \u003ccode\u003ectexart\u003c/code\u003e 文档类中，它是「图」。\u003ccode\u003e\\thepostfigure\u003c/code\u003e 则记录了相应的编号。\u003c/p\u003e\n\u003cp\u003e\u003cimg data-src=\"//liam.page/attachment/attachment/images/LaTeX/endfloat-02.png\" alt=\"修改图片标记的样式\"/\u003e\u003c/p\u003e\n\u003ch3 id=\"修改图表章节标题的内容\"\u003e\u003ca href=\"#修改图表章节标题的内容\" class=\"headerlink\" title=\"修改图表章节标题的内容\"\u003e\u003c/a\u003e修改图表章节标题的内容\u003c/h3\u003e\u003cp\u003e当启用 \u003ccode\u003efighead\u003c/code\u003e 或 \u003ccode\u003etabhead\u003c/code\u003e 时，在输出图表之前，就会打印相应的章节标题，提示接下来的内容。endfloat 的默认会打印「Figures」和「Tables」。\u003c/p\u003e\n\u003cp\u003e实际上，这两个标题的内容，分别存储在 \u003ccode\u003e\\figuresection\u003c/code\u003e 和 \u003ccode\u003e\\tablesection\u003c/code\u003e 两个宏当中。因此，如果想修改章节标题的内容，只需要修改这两个宏就好了。比如：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\figuresection\u003c/span\u003e}{本文的插图}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\tablesection\u003c/span\u003e}{本文的表格}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"使多个图表能够放在同一页面上\"\u003e\u003ca href=\"#使多个图表能够放在同一页面上\" class=\"headerlink\" title=\"使多个图表能够放在同一页面上\"\u003e\u003c/a\u003e使多个图表能够放在同一页面上\u003c/h3\u003e\u003cp\u003eendfloat 宏包默认让每个图表独占一页，有时我们不希望这样，而希望保持原有的特性。\u003c/p\u003e\n\u003cp\u003e实际上，endfloat 宏包会在输出每个浮动体之后，调用 \u003ccode\u003e\\efloatseparator\u003c/code\u003e 命令。默认情况下，这个命令被定义为 \u003ccode\u003e\\clearpage\u003c/code\u003e。也就是说，输出浮动体之后，立即刷新到下一页；这就是 endfloat 宏包默认让每个图表独占一页的底层原因。\u003c/p\u003e\n\u003cp\u003e如果我们想要一页同时能够容纳多张图表（就像没有引入 endfloat 宏包时，浮动体排在中文中那样），只需要将 \u003ccode\u003e\\efloatseparator\u003c/code\u003e 修改为 \u003ccode\u003e\\relax\u003c/code\u003e 即可：\u003c/p\u003e\n\u003cfigure class=\"highlight tex\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003e\\renewcommand\u003c/span\u003e{\u003cspan class=\"keyword\"\u003e\\efloatseparator\u003c/span\u003e}{\u003cspan class=\"keyword\"\u003e\\relax\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\n    \u003c/div\u003e",
  "Date": "2015-09-28T05:31:05Z",
  "Author": "Liam Huang"
}