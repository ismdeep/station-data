{
  "Source": "morningspace",
  "Title": "Git工作流面面观——Gitflow工作流",
  "Link": "https://morningspace.github.io/tech/git-workflow-4/",
  "Content": "\u003cdiv class=\"page__inner-wrap\"\u003e\n      \n\n      \u003csection class=\"page__content e-content\" itemprop=\"text\"\u003e\n        \n          \u003caside class=\"sidebar__right sticky\"\u003e\n            \u003cnav class=\"toc\"\u003e\n              \u003cheader\u003e\u003ch4 class=\"nav__title\"\u003e\u003ci class=\"fas fa-file-alt\"\u003e\u003c/i\u003e 在本页上\u003c/h4\u003e\u003c/header\u003e\n              \u003cul class=\"toc__menu\"\u003e\u003cli\u003e\u003ca href=\"#名词解释\"\u003e名词解释\u003c/a\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#master分支\"\u003eMaster分支\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#develop分支\"\u003eDevelop分支\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#feature分支\"\u003eFeature分支\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#release分支\"\u003eRelease分支\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#hotfix分支\"\u003eHotfix分支\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#如何工作\"\u003e如何工作？\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\n\n            \u003c/nav\u003e\n          \u003c/aside\u003e\n        \n        \u003cp\u003e注：\n本文采用\u003ca rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"\u003e知识共享署名-相同方式共享 4.0 国际许可协议\u003c/a\u003e进行许可。\u003ca rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"\u003e\u003cimg alt=\"知识共享许可协议\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/4.0/80x15.png\"/\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/assets/images/lab/git/workflow.png\" alt=\"\"/\u003e\u003c/p\u003e\n\n\u003ch2 id=\"名词解释\"\u003e名词解释\u003c/h2\u003e\n\n\u003cp\u003eGitflow工作流(Gitflow Workflow)是2010年由Vincent Driessen在他的一篇\u003ca href=\"https://nvie.com/posts/a-successful-git-branching-model\"\u003e博客\u003c/a\u003e里提出来的。它定义了一整套完善的基于Git分支模型的框架，结合了版本发布的研发流程，适合管理具有固定发布周期的大型项目。\u003c/p\u003e\n\n\u003cp\u003e和特性分支工作流相比，Gitflow工作流并没有引入任何新的概念。不同的地方在于，它强化了对Git分支模型的使用，结合产品或项目发布周期的特定需求，定义了各种不同类型的分支，每一种分支都有它自己特定的职责，并且分支之间什么时候、以什么样的方式交互，也都有相应的规则。下面我们就具体来看一下。\u003c/p\u003e\n\n\u003ch3 id=\"master分支\"\u003eMaster分支\u003c/h3\u003e\n\n\u003cp\u003eMaster分支作为唯一一个正式对外发布的分支，是所有分支里最稳定的。这是因为，只有经过了严格审核和测试，并且在当前发布计划里的特性，才会被合并到master分支。当某个版本发布的时候，我们通常还会为master分支加上带有相应版本号的tag。\u003c/p\u003e\n\n\u003ch3 id=\"develop分支\"\u003eDevelop分支\u003c/h3\u003e\n\n\u003cp\u003eDevelop分支是根据master分支创建出来的，它作为一种集成分支(Integration Branch)，是专门用来集成开发完成的各种特性的。Develop分支通常具有更加详细和完整的提交历史，包括一些很细节的提交记录。而master分支则因为是面向版本发布的，所以它的提交历史会略去这些细节，显得比较精简。\u003c/p\u003e\n\n\u003ch3 id=\"feature分支\"\u003eFeature分支\u003c/h3\u003e\n\n\u003cp\u003eFeature分支是根据develop分支创建出来的，Gitflow工作流里的每个新特性都有自己的feature分支，这一点和特性分支工作流是一样的。这些分支除了在开发人员的本地存在以外，也可以被推送到共享的远程Git库，作为工作备份，以及与其他人协同工作的基础。当特性开发结束以后，这些分支上的工作会被合并到develop分支。但feature分支从来不会直接和master分支打交道。\u003c/p\u003e\n\n\u003ch3 id=\"release分支\"\u003eRelease分支\u003c/h3\u003e\n\n\u003cp\u003e当积累了足够多的已完成特性，或者预定的系统发布周期临近的时候，我们就会从develop分支创建出一个release分支，专门用来做和当前版本发布有关的工作。Release分支一旦开出来以后，就不允许再有新的特性被加入到这个分支了，只有bug修复或者文档编辑之类的工作才允许进入该分支。\u003c/p\u003e\n\n\u003cp\u003eRelease分支上的内容最终会被合并到master分支，等版本发布的时候，我们通常还会为master分支加上带有相应版本号的tag。同时，release分支也会被合并到develop分支。在release分支活跃其间，develop分支也一直处于Open状态。Release分支上的内容代表当前版本在发布之前的准备工作，develop分支上的内容则代表下一个版本的开发工作，两者是可以并行展开的。\u003c/p\u003e\n\n\u003ch3 id=\"hotfix分支\"\u003eHotfix分支\u003c/h3\u003e\n\n\u003cp\u003eHotfix分支不从是develop分支创建出来的，而是直接根据master分支创建得到的，其目的是为了给运行在生产环境中的系统快速提供补丁，同时确保不会给正在其他上分支进行的工作造成影响。当hotfix分支上的工作完成以后，可以合并到master分支和develop分支，以及当前的release分支。如果有版本的更新，也可以为master分支打上相应的tag。\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/assets/images/lab/git/git-workflow-6.png\" alt=\"\"/\u003e\u003c/p\u003e\n\n\u003cp\u003e上面提到的所有分支，从稳定性的角度来说，每一种分支都处在各自不同的层次。如果当前分支的代码达到了更加稳定的水平，那它就可以向更稳定的分支进行合并了。\u003c/p\u003e\n\n\u003ch2 id=\"如何工作\"\u003e如何工作？\u003c/h2\u003e\n\n\u003cp\u003eVincent Driessen不仅定义了Gitflow的工作流程，还提供了一个相应的命令行工具\u003ca href=\"https://github.com/nvie/gitflow\"\u003egit-flow\u003c/a\u003e，可以简化我们在执行Gitflow工作流时，对每一个分支的各种繁琐的操作。它实际上是对Git命令行的封装。接下来，我们就利用这个工具演示一下整个Gitflow工作流。\u003c/p\u003e\n\n\u003cp\u003e如果你使用的是\u003ca href=\"https://github.com/morningspace/lab-hello-git\"\u003eHello Git\u003c/a\u003e的实验环境，那么git-flow已经提前安装好了，否则需要自己手动安装。git-flow的安装非常简单，比如在Ubuntu环境下，只要执行下面的命令就可以了：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eapt-get update\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eapt-get \u003cspan class=\"nb\"\u003einstall \u003c/span\u003egit-flow\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e第一步，在服务器上建立一个远程Git库，供所有人使用：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003essh git@my-git-remote\ngit\u0026gt; create test-gitflow\nInitialized empty Git repository \u003cspan class=\"k\"\u003ein\u003c/span\u003e /home/git/test-gitflow.git/\ngit\u0026gt; \u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003eConnection to my-git-remote closed.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e第二步，William把远程库克隆到本地：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit clone git@my-git-remote:~/test-gitflow.git\nCloning into \u003cspan class=\"s1\"\u003e\u0026#39;test-gitflow\u0026#39;\u003c/span\u003e...\nwarning: You appear to have cloned an empty repository.\n\u003cspan class=\"nb\"\u003ecd \u003c/span\u003etest-gitflow/\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e并生成项目的初始提交：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003eREADME\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit add README\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit commit \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Initial commit\u0026#39;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e[\u003c/span\u003emaster \u003cspan class=\"o\"\u003e(\u003c/span\u003eroot-commit\u003cspan class=\"o\"\u003e)\u003c/span\u003e db64af2] Initial commit\n 1 file changed, 0 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 0 deletions\u003cspan class=\"o\"\u003e(\u003c/span\u003e-\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n create mode 100644 README\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e然后把它推送到远程：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit push\nCounting objects: 3, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nWriting objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e3/3\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 208 bytes | 17.00 KiB/s, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nTotal 3 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e, reused 0 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n \u003cspan class=\"k\"\u003e*\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003enew branch]      master -\u0026gt; master\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e第三步，William在他本地的工作目录下执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow init\u003c/code\u003e命令，对本地库进行初始化：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow init\n\nWhich branch should be used \u003cspan class=\"k\"\u003efor \u003c/span\u003ebringing forth production releases?\n   - master\nBranch name \u003cspan class=\"k\"\u003efor \u003c/span\u003eproduction releases: \u003cspan class=\"o\"\u003e[\u003c/span\u003emaster] \nBranch name \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;next release\u0026#34;\u003c/span\u003e development: \u003cspan class=\"o\"\u003e[\u003c/span\u003edevelop] \n\nHow to name your supporting branch prefixes?\nFeature branches? \u003cspan class=\"o\"\u003e[\u003c/span\u003efeature/] \nBugfix branches? \u003cspan class=\"o\"\u003e[\u003c/span\u003ebugfix/] \nRelease branches? \u003cspan class=\"o\"\u003e[\u003c/span\u003erelease/] \nHotfix branches? \u003cspan class=\"o\"\u003e[\u003c/span\u003ehotfix/] \nSupport branches? \u003cspan class=\"o\"\u003e[\u003c/span\u003esupport/] \nVersion tag prefix? \u003cspan class=\"o\"\u003e[]\u003c/span\u003e \nHooks and filters directory? \u003cspan class=\"o\"\u003e[\u003c/span\u003e/root/test-gitflow/.git/hooks] \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow的初始化过程包含一系列问答环节，主要涉及各个分支的名称以及名称前缀的配置。如果我们选择默认配置，就可以一直按回车键直到命令执行完毕。这个时候，我们会发现本地除了master分支以外，还会多出一个develop分支。并且，git-flow已经替我们把当前分支切换到了develop分支：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit branch\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e develop\n  master\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e第四步，William开始新特性xyz的开发，执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow feature start\u003c/code\u003e命令，并传入特性的名称：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow feature start xyz\nSwitched to a new branch \u003cspan class=\"s1\"\u003e\u0026#39;feature/xyz\u0026#39;\u003c/span\u003e\n\nSummary of actions:\n- A new branch \u003cspan class=\"s1\"\u003e\u0026#39;feature/xyz\u0026#39;\u003c/span\u003e was created, based on \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;feature/xyz\u0026#39;\u003c/span\u003e\n\nNow, start committing on your feature. When \u003cspan class=\"k\"\u003edone\u003c/span\u003e, use:\n\n     git flow feature finish xyz\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会自动为我们从develop分支创建出一个名叫feature/xyz的分支，并把当前分支切换到该分支。\u003c/p\u003e\n\n\u003cp\u003e现在，William可以在feature/xyz分支上进行新特性的开发，并生成相应的提交记录了：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003evi README\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat \u003c/span\u003eREADME \nGit workflows\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Gitflow workflow\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit commit \u003cspan class=\"nt\"\u003e-am\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Working on feature/xyz\u0026#39;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e[\u003c/span\u003efeature/xyz 48d92a9] Working on feature/xyz\n 1 file changed, 2 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e然后再把提交记录推送到远程，可以作为当前工作的备份，也可以让其他人访问到他的工作，还可以通过Pull Request发起讨论：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit push origin feature/xyz\nCounting objects: 3, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nWriting objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e3/3\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 269 bytes | 24.00 KiB/s, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nTotal 3 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e, reused 0 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n \u003cspan class=\"k\"\u003e*\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003enew branch]      feature/xyz -\u0026gt; feature/xyz\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e第五步，Nicole接到了一个hotfix的任务，她和William一样，也把远程库克隆到本地，并利用\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow init\u003c/code\u003e命令对本地库进行了初始化，然后执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow hotfix start\u003c/code\u003e命令，并传入hotfix的名称：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow hotfix start 123\nSwitched to a new branch \u003cspan class=\"s1\"\u003e\u0026#39;hotfix/123\u0026#39;\u003c/span\u003e\n\nSummary of actions:\n- A new branch \u003cspan class=\"s1\"\u003e\u0026#39;hotfix/123\u0026#39;\u003c/span\u003e was created, based on \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;hotfix/123\u0026#39;\u003c/span\u003e\n\nFollow-up actions:\n- Start committing your hot fixes\n- Bump the version number now!\n- When \u003cspan class=\"k\"\u003edone\u003c/span\u003e, run:\n\n     git flow hotfix finish \u003cspan class=\"s1\"\u003e\u0026#39;123\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会自动为我们直接从master分支创建出一个名叫hotfix/123的分支，并把当前分支切换到该分支。\u003c/p\u003e\n\n\u003cp\u003e现在，Nicole可以在hotfix/123分支上进行hotfix的开发，并生成相应的提交记录了：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003eLICENSE\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit add LICENSE\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit commit \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Working on hotfix/123\u0026#39;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e[\u003c/span\u003ehotfix/123 1a70748] Working on hotfix/123\n 1 file changed, 0 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 0 deletions\u003cspan class=\"o\"\u003e(\u003c/span\u003e-\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n create mode 100644 LICENSE\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e然后再把提交记录推送到远程，可以作为当前工作的备份，也可以让其他人访问到她的工作，还可以通过Pull Request发起讨论：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit push origin hotfix/123\nCounting objects: 2, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nDelta compression using up to 4 threads.\nCompressing objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e2/2\u003cspan class=\"o\"\u003e)\u003c/span\u003e, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nWriting objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e2/2\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 245 bytes | 27.00 KiB/s, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nTotal 2 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e, reused 0 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n \u003cspan class=\"k\"\u003e*\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003enew branch]      hotfix/123 -\u0026gt; hotfix/123\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e当hotfix的开发工作结束以后，再执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow hotfix finish\u003c/code\u003e命令，并传入hotfix的名称：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow hotfix finish 123\nSwitched to branch \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\nYour branch is up to \u003cspan class=\"nb\"\u003edate \u003c/span\u003ewith \u003cspan class=\"s1\"\u003e\u0026#39;origin/master\u0026#39;\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nMerge made by the \u003cspan class=\"s1\"\u003e\u0026#39;recursive\u0026#39;\u003c/span\u003e strategy.\n LICENSE | 0\n 1 file changed, 0 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 0 deletions\u003cspan class=\"o\"\u003e(\u003c/span\u003e-\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n create mode 100644 LICENSE\nSwitched to branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\nMerge made by the \u003cspan class=\"s1\"\u003e\u0026#39;recursive\u0026#39;\u003c/span\u003e strategy.\n LICENSE | 0\n 1 file changed, 0 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 0 deletions\u003cspan class=\"o\"\u003e(\u003c/span\u003e-\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n create mode 100644 LICENSE\nTo my-git-remote:~/test-gitflow.git\n - \u003cspan class=\"o\"\u003e[\u003c/span\u003edeleted]         hotfix/123\nDeleted branch hotfix/123 \u003cspan class=\"o\"\u003e(\u003c/span\u003ewas 1a70748\u003cspan class=\"o\"\u003e)\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\nSummary of actions:\n- Hotfix branch \u003cspan class=\"s1\"\u003e\u0026#39;hotfix/123\u0026#39;\u003c/span\u003e has been merged into \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\n- The hotfix was tagged \u003cspan class=\"s1\"\u003e\u0026#39;123\u0026#39;\u003c/span\u003e\n- Hotfix tag \u003cspan class=\"s1\"\u003e\u0026#39;123\u0026#39;\u003c/span\u003e has been back-merged into \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n- Hotfix branch \u003cspan class=\"s1\"\u003e\u0026#39;hotfix/123\u0026#39;\u003c/span\u003e has been locally deleted\u003cspan class=\"p\"\u003e;\u003c/span\u003e it has been remotely deleted from \u003cspan class=\"s1\"\u003e\u0026#39;origin\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会自动为我们把hotfix/123分支上的工作合并到master分支和develop分支，并给master分支加上hotfix的tag，然后再把hotfix分支分别从本地库和远程库里删掉，最后再把当前分支切换到develop。\u003c/p\u003e\n\n\u003cp\u003e第六步，William的新特性开发工作完成了，执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow feature finish\u003c/code\u003e命令，并传入特性的名称：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow feature finish xyz           \nSwitched to branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\nUpdating db64af2..48d92a9\nFast-forward\n README | 2 ++\n 1 file changed, 2 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n - \u003cspan class=\"o\"\u003e[\u003c/span\u003edeleted]         feature/xyz\nDeleted branch feature/xyz \u003cspan class=\"o\"\u003e(\u003c/span\u003ewas 48d92a9\u003cspan class=\"o\"\u003e)\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\nSummary of actions:\n- The feature branch \u003cspan class=\"s1\"\u003e\u0026#39;feature/xyz\u0026#39;\u003c/span\u003e was merged into \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n- Feature branch \u003cspan class=\"s1\"\u003e\u0026#39;feature/xyz\u0026#39;\u003c/span\u003e has been locally deleted\u003cspan class=\"p\"\u003e;\u003c/span\u003e it has been remotely deleted from \u003cspan class=\"s1\"\u003e\u0026#39;origin\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会自动为我们把分支feature/xyz上的工作合并到develop分支，并把该分支分别从本地库和远程库里删掉，然后再把当前分支切换到develop。\u003c/p\u003e\n\n\u003cp\u003e第七步，当前版本abc即将要发布了，William执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow release start\u003c/code\u003e命令，并传入版本号：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow release start abc\nSwitched to a new branch \u003cspan class=\"s1\"\u003e\u0026#39;release/abc\u0026#39;\u003c/span\u003e\n\nSummary of actions:\n- A new branch \u003cspan class=\"s1\"\u003e\u0026#39;release/abc\u0026#39;\u003c/span\u003e was created, based on \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;release/abc\u0026#39;\u003c/span\u003e\n\nFollow-up actions:\n- Bump the version number now!\n- Start committing last-minute fixes \u003cspan class=\"k\"\u003ein \u003c/span\u003epreparing your release\n- When \u003cspan class=\"k\"\u003edone\u003c/span\u003e, run:\n\n     git flow release finish \u003cspan class=\"s1\"\u003e\u0026#39;abc\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会根据develop分支自动为我们创建出一个名叫release/abc的分支，专门用于发布准备，然后把当前分支切换到该分支。release/abc分支一旦创建，就不能再往里面添加新特性了，但可以继续做一些bug修复的工作：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003evi README \n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat \u003c/span\u003eREADME \nGit workflows\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Gitflow workflow\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e ...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e生成相应的提交记录：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit commit \u003cspan class=\"nt\"\u003e-am\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Working on release/abc\u0026#39;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e[\u003c/span\u003erelease/abc 79f1e5e] Working on release/abc\n 1 file changed, 1 insertion\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e然后推送到远程：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit push origin release/abc\nCounting objects: 6, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nDelta compression using up to 4 threads.\nCompressing objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e2/2\u003cspan class=\"o\"\u003e)\u003c/span\u003e, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nWriting objects: 100% \u003cspan class=\"o\"\u003e(\u003c/span\u003e6/6\u003cspan class=\"o\"\u003e)\u003c/span\u003e, 510 bytes | 19.00 KiB/s, \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nTotal 6 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e, reused 0 \u003cspan class=\"o\"\u003e(\u003c/span\u003edelta 0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n \u003cspan class=\"k\"\u003e*\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003enew branch]      release/abc -\u0026gt; release/abc\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e最后，发布工作结束，执行\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egit flow release\u003c/code\u003e命令，并传入版本号：\u003c/p\u003e\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit flow release finish abc\nSwitched to branch \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\nYour branch is up to \u003cspan class=\"nb\"\u003edate \u003c/span\u003ewith \u003cspan class=\"s1\"\u003e\u0026#39;origin/master\u0026#39;\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nMerge made by the \u003cspan class=\"s1\"\u003e\u0026#39;recursive\u0026#39;\u003c/span\u003e strategy.\n README | 3 +++\n 1 file changed, 3 insertions\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nAlready on \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\nYour branch is ahead of \u003cspan class=\"s1\"\u003e\u0026#39;origin/master\u0026#39;\u003c/span\u003e by 3 commits.\n  \u003cspan class=\"o\"\u003e(\u003c/span\u003euse \u003cspan class=\"s2\"\u003e\u0026#34;git push\u0026#34;\u003c/span\u003e to publish your \u003cspan class=\"nb\"\u003elocal \u003c/span\u003ecommits\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nSwitched to branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\nMerge made by the \u003cspan class=\"s1\"\u003e\u0026#39;recursive\u0026#39;\u003c/span\u003e strategy.\n README | 1 +\n 1 file changed, 1 insertion\u003cspan class=\"o\"\u003e(\u003c/span\u003e+\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nTo my-git-remote:~/test-gitflow.git\n - \u003cspan class=\"o\"\u003e[\u003c/span\u003edeleted]         release/abc\nDeleted branch release/abc \u003cspan class=\"o\"\u003e(\u003c/span\u003ewas 79f1e5e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\nSummary of actions:\n- Release branch \u003cspan class=\"s1\"\u003e\u0026#39;release/abc\u0026#39;\u003c/span\u003e has been merged into \u003cspan class=\"s1\"\u003e\u0026#39;master\u0026#39;\u003c/span\u003e\n- The release was tagged \u003cspan class=\"s1\"\u003e\u0026#39;abc\u0026#39;\u003c/span\u003e\n- Release tag \u003cspan class=\"s1\"\u003e\u0026#39;abc\u0026#39;\u003c/span\u003e has been back-merged into \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n- Release branch \u003cspan class=\"s1\"\u003e\u0026#39;release/abc\u0026#39;\u003c/span\u003e has been locally deleted\u003cspan class=\"p\"\u003e;\u003c/span\u003e it has been remotely deleted from \u003cspan class=\"s1\"\u003e\u0026#39;origin\u0026#39;\u003c/span\u003e\n- You are now on branch \u003cspan class=\"s1\"\u003e\u0026#39;develop\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egit-flow会自动为我们把release/abc分支上的工作合并到master分支和develop分支，并在master分支上为当前版本加上tag。然后把release分支分别从本地库和远程库里删掉，最后再切换回develop分支，一个版本发布周期就结束了。\u003c/p\u003e\n\n        \n      \u003c/section\u003e\n\n      \u003cfooter class=\"page__meta\"\u003e\n        \n        \n  \n\n\n  \n\n  \u003cp class=\"page__taxonomy\"\u003e\n    \u003cstrong\u003e\u003ci class=\"fas fa-fw fa-tags\" aria-hidden=\"true\"\u003e\u003c/i\u003e 标签: \u003c/strong\u003e\n    \u003cspan itemprop=\"keywords\"\u003e\n    \n      \u003ca href=\"/tags/#dummies\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003edummies\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/tags/#dummies-git\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003edummies_git\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/tags/#git\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003egit\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/tags/#lab\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003elab\u003c/a\u003e\n    \n    \u003c/span\u003e\n  \u003c/p\u003e\n\n\n\n\n  \n\n\n  \n\n  \u003cp class=\"page__taxonomy\"\u003e\n    \u003cstrong\u003e\u003ci class=\"fas fa-fw fa-folder-open\" aria-hidden=\"true\"\u003e\u003c/i\u003e 分类: \u003c/strong\u003e\n    \u003cspan itemprop=\"keywords\"\u003e\n    \n      \u003ca href=\"/categories/#tech\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003etech\u003c/a\u003e\n    \n    \u003c/span\u003e\n  \u003c/p\u003e\n\n\n        \n\n  \u003cp class=\"page__date\"\u003e\u003cstrong\u003e\u003ci class=\"fas fa-fw fa-calendar-alt\" aria-hidden=\"true\"\u003e\u003c/i\u003e 更新时间:\u003c/strong\u003e \u003ctime class=\"dt-published\" datetime=\"2021-02-20T00:00:00+08:00\"\u003eFebruary 20, 2021\u003c/time\u003e\u003c/p\u003e\n\n      \u003c/footer\u003e\n\n      \u003csection class=\"page__share\"\u003e\n  \n    \u003ch4 class=\"page__share-title\"\u003e分享\u003c/h4\u003e\n  \n\n  \u003ca href=\"https://twitter.com/intent/tweet?text=Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E9%9D%A2%E9%9D%A2%E8%A7%82%E2%80%94%E2%80%94Gitflow%E5%B7%A5%E4%BD%9C%E6%B5%81%20https%3A%2F%2Fmorningspace.github.io%2Ftech%2Fgit-workflow-4%2F\" class=\"btn btn--twitter\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 Twitter\"\u003e\u003ci class=\"fab fa-fw fa-twitter\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e Twitter\u003c/span\u003e\u003c/a\u003e\n\n  \u003ca href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmorningspace.github.io%2Ftech%2Fgit-workflow-4%2F\" class=\"btn btn--facebook\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 Facebook\"\u003e\u003ci class=\"fab fa-fw fa-facebook\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e Facebook\u003c/span\u003e\u003c/a\u003e\n\n  \u003ca href=\"https://www.linkedin.com/shareArticle?mini=true\u0026amp;url=https%3A%2F%2Fmorningspace.github.io%2Ftech%2Fgit-workflow-4%2F\" class=\"btn btn--linkedin\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 LinkedIn\"\u003e\u003ci class=\"fab fa-fw fa-linkedin\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e LinkedIn\u003c/span\u003e\u003c/a\u003e\n\u003c/section\u003e\n\n\n      \n  \u003cnav class=\"pagination\"\u003e\n    \n      \u003ca href=\"/tech/git-workflow-3/\" class=\"pagination--pager\" title=\"Git工作流面面观——特性分支工作流\n\"\u003e向前\u003c/a\u003e\n    \n    \n      \u003ca href=\"/tech/git-workflow-5/\" class=\"pagination--pager\" title=\"Git工作流面面观——Forking工作流\n\"\u003e向后\u003c/a\u003e\n    \n  \u003c/nav\u003e\n\n    \u003c/div\u003e",
  "Date": "2021-02-20T00:00:00+08:00",
  "Author": "MornigSpace"
}