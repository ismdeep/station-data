{
  "Source": "morningspace",
  "Title": "极速搭建Kubernetes集群的新方案！",
  "Link": "https://morningspace.github.io/tech/lab/intro-kubeadm-dind-cluster/",
  "Content": "\u003cdiv class=\"page__inner-wrap\"\u003e\n      \n\n      \u003csection class=\"page__content e-content\" itemprop=\"text\"\u003e\n        \n          \u003caside class=\"sidebar__right sticky\"\u003e\n            \u003cnav class=\"toc\"\u003e\n              \u003cheader\u003e\u003ch4 class=\"nav__title\"\u003e\u003ci class=\"fas fa-file-alt\"\u003e\u003c/i\u003e 在本页上\u003c/h4\u003e\u003c/header\u003e\n              \u003cul class=\"toc__menu\"\u003e\u003cli\u003e\u003ca href=\"#kubeadm-dind-cluster开源项目\"\u003ekubeadm-dind-cluster开源项目\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#更多优化技巧尽在晴耕小筑\"\u003e更多优化技巧，尽在晴耕小筑\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#lab-k8s-playground实验项目\"\u003elab-k8s-playground实验项目\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\n\n            \u003c/nav\u003e\n          \u003c/aside\u003e\n        \n        \u003cblockquote\u003e\n  \u003cp\u003e注意：本文的配套视频教程，可以在\u003ca href=\"https://www.youtube.com/watch?v=0uVdF3Inv48\u0026amp;list=PLVQM6jLkNkfqHgd0aX7TnjioOiQrqsXIa\"\u003eYouTube\u003c/a\u003e或\u003ca href=\"https://v.youku.com/v_show/id_XNDI2Mzk1NDcyMA==.html?f=52221532\"\u003e优酷\u003c/a\u003e上找到。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e如何在一分钟内快速在本机搭建起一个多节点的Kubernetes集群环境，甚至是在断网的情况下？如何做到在不同的Kubernetes版本之间随意切换，甚至是基于Kubernetes源代码仓库的最新版本？晴耕小筑向你推荐一个有趣的解决方案，它就是开源项目\u003ca href=\"https://github.com/kubernetes-sigs/kubeadm-dind-cluster\"\u003ekubeadm-dind-cluster\u003c/a\u003e。更多详情请查看“\u003ca href=\"/tech/k8s-run/\"\u003eLaunch multi-node Kubernetes cluster locally in one minute, and more…\u003c/a\u003e”一文。\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/assets/images/lab/k8s/kubeadm-dind-cluster-1.png\" alt=\"\" class=\"align-center\"/\u003e\u003c/p\u003e\n\n\u003ch2 id=\"kubeadm-dind-cluster开源项目\"\u003ekubeadm-dind-cluster开源项目\u003c/h2\u003e\n\n\u003cp\u003ekubeadm-dind-cluster是Kubernetes社区下的一个子项目，利用kubeadm结合dind(Docker-in-Docker)技术，它用Docker容器模拟了Kubernetes集群中的物理节点，然后让原本跑在集群里的Pod跑在了Docker容器里，从而实现了在单机环境里搭建多节点集群的效果。\u003c/p\u003e\n\n\u003cp\u003e利用kubeadm-dind-cluster，我们可以很轻松地在本地进行基于多节点集群的Kubernetes开发，部署，测试，以及学习和实验。同时，我们也可以把它集成到CI/CD环境里，实现接近生产环境下的快速部署，测试，以及验证。\u003c/p\u003e\n\n\u003ch2 id=\"更多优化技巧尽在晴耕小筑\"\u003e更多优化技巧，尽在晴耕小筑\u003c/h2\u003e\n\n\u003cp\u003e而且，晴耕小筑也积极参与了kubeadm-dind-cluster项目的开发，对它进行了各种优化改进，“\u003ca href=\"/tech/k8s-run/\"\u003eLaunch multi-node Kubernetes cluster locally in one minute, and more…\u003c/a\u003e”一文介绍的大多数内容就是对该项目的优化，并由晴耕小筑以源码方式贡献给了kubeadm-dind-cluster。比如：\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003e加速Kubernetes集群的启动速度而启用私有Docker注册表；\u003c/li\u003e\n  \u003cli\u003e允许指定Kubernetes Dashboard的任意一个版本进行安装；\u003c/li\u003e\n  \u003cli\u003e允许跳过Kubernetes Dashboard的安装以加快集群的启动；\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cimg src=\"/assets/images/lab/k8s/kubeadm-dind-cluster-2.png\" alt=\"\"/\u003e\u003c/p\u003e\n\n\u003ch2 id=\"lab-k8s-playground实验项目\"\u003elab-k8s-playground实验项目\u003c/h2\u003e\n\n\u003cp\u003e为了更好地演示kubeadm-dind-cluster的用法，充分发挥它的各种功能，包括晴耕小筑贡献的优化手段，晴耕实验室发布的实验项目\u003ca href=\"https://github.com/morningspace/lab-k8s-playground\"\u003elab-k8s-playground\u003c/a\u003e也于同期和大家见面了。在阅读本文的同时，大家可以把lab-k8s-playground克隆到本地，它提供了对kubeadm-dind-cluster运行脚本的封装，以帮助大家更好的使用该工具。\u003c/p\u003e\n\n\u003cdiv class=\"language-shell highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit clone https://github.com/morningspace/lab-k8s-playground.git\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e未来，lab-k8s-playground还将会有更多惊喜和大家见面，欢迎各位关注，加星，以及分享！\u003c/p\u003e\n\n        \n      \u003c/section\u003e\n\n      \u003cfooter class=\"page__meta\"\u003e\n        \n        \n  \n\n\n  \n\n  \u003cp class=\"page__taxonomy\"\u003e\n    \u003cstrong\u003e\u003ci class=\"fas fa-fw fa-tags\" aria-hidden=\"true\"\u003e\u003c/i\u003e 标签: \u003c/strong\u003e\n    \u003cspan itemprop=\"keywords\"\u003e\n    \n      \u003ca href=\"/tags/#kubernetes\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003ekubernetes\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/tags/#lab\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003elab\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/tags/#news\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003enews\u003c/a\u003e\n    \n    \u003c/span\u003e\n  \u003c/p\u003e\n\n\n\n\n  \n\n\n  \n\n  \u003cp class=\"page__taxonomy\"\u003e\n    \u003cstrong\u003e\u003ci class=\"fas fa-fw fa-folder-open\" aria-hidden=\"true\"\u003e\u003c/i\u003e 分类: \u003c/strong\u003e\n    \u003cspan itemprop=\"keywords\"\u003e\n    \n      \u003ca href=\"/categories/#lab\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003elab\u003c/a\u003e\u003cspan class=\"sep\"\u003e, \u003c/span\u003e\n    \n      \u003ca href=\"/categories/#tech\" class=\"page__taxonomy-item p-category\" rel=\"tag\"\u003etech\u003c/a\u003e\n    \n    \u003c/span\u003e\n  \u003c/p\u003e\n\n\n        \n\n  \u003cp class=\"page__date\"\u003e\u003cstrong\u003e\u003ci class=\"fas fa-fw fa-calendar-alt\" aria-hidden=\"true\"\u003e\u003c/i\u003e 更新时间:\u003c/strong\u003e \u003ctime class=\"dt-published\" datetime=\"2019-06-30T00:00:00+08:00\"\u003eJune 30, 2019\u003c/time\u003e\u003c/p\u003e\n\n      \u003c/footer\u003e\n\n      \u003csection class=\"page__share\"\u003e\n  \n    \u003ch4 class=\"page__share-title\"\u003e分享\u003c/h4\u003e\n  \n\n  \u003ca href=\"https://twitter.com/intent/tweet?text=%E6%9E%81%E9%80%9F%E6%90%AD%E5%BB%BAKubernetes%E9%9B%86%E7%BE%A4%E7%9A%84%E6%96%B0%E6%96%B9%E6%A1%88%EF%BC%81%20https%3A%2F%2Fmorningspace.github.io%2Ftech%2Flab%2Fintro-kubeadm-dind-cluster%2F\" class=\"btn btn--twitter\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 Twitter\"\u003e\u003ci class=\"fab fa-fw fa-twitter\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e Twitter\u003c/span\u003e\u003c/a\u003e\n\n  \u003ca href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmorningspace.github.io%2Ftech%2Flab%2Fintro-kubeadm-dind-cluster%2F\" class=\"btn btn--facebook\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 Facebook\"\u003e\u003ci class=\"fab fa-fw fa-facebook\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e Facebook\u003c/span\u003e\u003c/a\u003e\n\n  \u003ca href=\"https://www.linkedin.com/shareArticle?mini=true\u0026amp;url=https%3A%2F%2Fmorningspace.github.io%2Ftech%2Flab%2Fintro-kubeadm-dind-cluster%2F\" class=\"btn btn--linkedin\" onclick=\"window.open(this.href, \u0026#39;window\u0026#39;, \u0026#39;left=20,top=20,width=500,height=500,toolbar=1,resizable=0\u0026#39;); return false;\" title=\"分享 LinkedIn\"\u003e\u003ci class=\"fab fa-fw fa-linkedin\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan\u003e LinkedIn\u003c/span\u003e\u003c/a\u003e\n\u003c/section\u003e\n\n\n      \n  \u003cnav class=\"pagination\"\u003e\n    \n      \u003ca href=\"/tech/k8s-run/\" class=\"pagination--pager\" title=\"Launch multi-node Kubernetes cluster locally in one minute, and more…\n\"\u003e向前\u003c/a\u003e\n    \n    \n      \u003ca href=\"/tech/understanding-tech-for-dummies/\" class=\"pagination--pager\" title=\"“晴耕 · 白话”栏目上线预告\n\"\u003e向后\u003c/a\u003e\n    \n  \u003c/nav\u003e\n\n    \u003c/div\u003e",
  "Date": "2019-06-30T00:00:00+08:00",
  "Author": "MornigSpace"
}