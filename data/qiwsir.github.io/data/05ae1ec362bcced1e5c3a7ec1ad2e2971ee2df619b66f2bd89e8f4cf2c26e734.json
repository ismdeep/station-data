{
  "Source": "qiwsir.github.io",
  "Title": "用 pyenv 在 MacOS 上创建虚拟环境",
  "Link": "https://qiwsir.github.io/2022/02/14/virtual-env-on-macos/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003e用 pyenv 在 MacOS 上创建虚拟环境\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2022-02-14\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003ch2 id=\"安装-pyenv\"\u003e\u003ca href=\"#安装-pyenv\" class=\"headerlink\" title=\"安装 pyenv\"\u003e\u003c/a\u003e安装 pyenv\u003c/h2\u003e\u003cp\u003e确保 pyenv 是最新版本。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ebrew update\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ebrew install pyenv\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ebrew install pyenv-virtualenv\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e当前安装版本：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epyenv --version\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epyenv 2.2.2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"配置-pyenv-和-pyenv-virtualenv\"\u003e\u003ca href=\"#配置-pyenv-和-pyenv-virtualenv\" class=\"headerlink\" title=\"配置 pyenv 和 pyenv-virtualenv\"\u003e\u003c/a\u003e配置 pyenv 和 pyenv-virtualenv\u003c/h2\u003e\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eexport PYENV_ROOT=\u0026#34;$HOME/.pyenv\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eexport PATH=\u0026#34;$PYENV_ROOT/bin:$PATH\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eeval \u0026#34;$(pyenv init --path)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eeval \u0026#34;$(pyenv init -)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eeval \u0026#34;$(pyenv virtualenv-init -)\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"安装-Python-3-10-0\"\u003e\u003ca href=\"#安装-Python-3-10-0\" class=\"headerlink\" title=\"安装 Python 3.10.0\"\u003e\u003c/a\u003e安装 Python 3.10.0\u003c/h2\u003e\u003cp\u003e将 python 3.10.0 安装到当前虚拟环境中\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epyenv install 3.10.0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epython-build: use openssl@1.1 from homebrew\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epython-build: use readline from homebrew\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eDownloading Python-3.10.0.tar.xz...\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e-\u0026gt; https://www.python.org/ftp/python/3.10.0/Python-3.10.0.tar.xz\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eInstalling Python-3.10.0...\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epatching file aclocal.m4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epatching file configure\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHunk #5 succeeded at 10537 (offset -15 lines).\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epython-build: use readline from homebrew\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epython-build: use zlib from xcode sdk\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eInstalled Python-3.10.0 to /Users/andrea/.pyenv/versions/3.10.0\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"将-Python-3-10-0-设置为本地版本\"\u003e\u003ca href=\"#将-Python-3-10-0-设置为本地版本\" class=\"headerlink\" title=\"将 Python 3.10.0 设置为本地版本\"\u003e\u003c/a\u003e将 Python 3.10.0 设置为本地版本\u003c/h2\u003e\u003cp\u003e告诉 pyenv ，使用 python 3.10.0 。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epyenv local 3.10.0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003epyenv which python\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e返回结果：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e/Users/andrea/.pyenv/versions/3.10.0/bin/python\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"创建虚拟目录\"\u003e\u003ca href=\"#创建虚拟目录\" class=\"headerlink\" title=\"创建虚拟目录\"\u003e\u003c/a\u003e创建虚拟目录\u003c/h2\u003e\u003cp\u003e创建名为 \u003ccode\u003emy-310-python\u003c/code\u003e 的虚拟目录，并且其中加载 Python 3.10.0 。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epyenv virtualenv 3.10.0 my-310-python\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e确认虚拟目录已经创建：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003epyenv virtualenvs\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3.10.0/envs/my-310-python (created from /Users/andrea/.pyenv/versions/3.10.0)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"测试并自动激活虚拟环境\"\u003e\u003ca href=\"#测试并自动激活虚拟环境\" class=\"headerlink\" title=\"测试并自动激活虚拟环境\"\u003e\u003c/a\u003e测试并自动激活虚拟环境\u003c/h2\u003e\u003cp\u003e创建测试目录：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003emkdir test-310\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在测试目录中创建 \u003ccode\u003e.python-version\u003c/code\u003e 的文件：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eecho my-310-python \u0026gt; test-310/.python-version\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e进入测试目录 \u003ccode\u003etest-310\u003c/code\u003e ，则虚拟环境自动激活：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ecd test-310\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e(my-310-python) ➜  test-310\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e执行 \u003ccode\u003epython --version\u003c/code\u003e ，确认此虚拟环境是否已经运行：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e(my-310-python) ➜  test-310 python --version\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePython 3.10.0\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2022/02/11/started-at-40/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003e← \u003c/span\u003e\n        \n          I Started Android Development At 40\n        \n      \u003c/a\u003e\n    \n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- 打赏 START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          赏\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用支付宝打赏\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用微信打赏\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003e若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- 打赏 END --\u003e\n    \u003c!-- 二维码 START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003e关注微信公众号，读文章、听课程，提升技能\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- 二维码 END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2022-02-14T00:00:00Z",
  "Author": "老齐教室"
}