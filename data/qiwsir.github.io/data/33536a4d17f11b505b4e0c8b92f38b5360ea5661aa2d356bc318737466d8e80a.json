{
  "Source": "qiwsir.github.io",
  "Title": "从DataFrame中删除列",
  "Link": "https://qiwsir.github.io/2021/03/10/remove-column-from-dataframe/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003e从DataFrame中删除列\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2021-03-10\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003cp\u003e在操作数据的时候，\u003ccode\u003eDataFrame\u003c/code\u003e对象中删除一个或多个列是常见的操作，并且实现方法较多，然而这中间有很多细节值得关注。\u003c/p\u003e\n\u003cp\u003e首先，一般被认为是“正确”的方法，是使用\u003ccode\u003eDataFrame\u003c/code\u003e的\u003ccode\u003edrop\u003c/code\u003e方法，之所以这种方法被认为是标准的方法，可能是收到了SQL语句中使用\u003ccode\u003edrop\u003c/code\u003e实现删除操作的影响。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"keyword\"\u003eas\u003c/span\u003e pd\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eimport\u003c/span\u003e numpy \u003cspan class=\"keyword\"\u003eas\u003c/span\u003e np\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf = pd.DataFrame(np.arange(\u003cspan class=\"number\"\u003e25\u003c/span\u003e).reshape((\u003cspan class=\"number\"\u003e5\u003c/span\u003e,\u003cspan class=\"number\"\u003e5\u003c/span\u003e)), columns=list(\u003cspan class=\"string\"\u003e\u0026#34;abcde\u0026#34;\u003c/span\u003e))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edisplay(df)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003etry\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    df.drop(\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003eexcept\u003c/span\u003e KeyError \u003cspan class=\"keyword\"\u003eas\u003c/span\u003e ke:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(ke)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e    a   b   c   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e0\u003c/span\u003e   \u003cspan class=\"number\"\u003e0\u003c/span\u003e   \u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e2\u003c/span\u003e   \u003cspan class=\"number\"\u003e3\u003c/span\u003e   \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e5\u003c/span\u003e   \u003cspan class=\"number\"\u003e6\u003c/span\u003e   \u003cspan class=\"number\"\u003e7\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e2\u003c/span\u003e  \u003cspan class=\"number\"\u003e10\u003c/span\u003e  \u003cspan class=\"number\"\u003e11\u003c/span\u003e  \u003cspan class=\"number\"\u003e12\u003c/span\u003e  \u003cspan class=\"number\"\u003e13\u003c/span\u003e  \u003cspan class=\"number\"\u003e14\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e15\u003c/span\u003e  \u003cspan class=\"number\"\u003e16\u003c/span\u003e  \u003cspan class=\"number\"\u003e17\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e20\u003c/span\u003e  \u003cspan class=\"number\"\u003e21\u003c/span\u003e  \u003cspan class=\"number\"\u003e22\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"string\"\u003e\u0026#34;[\u0026#39;b\u0026#39;] not found in axis\u0026#34;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e上面的操作中出现了报错信息，什么原因？这是因为\u003ccode\u003edrop\u003c/code\u003e方法中，默认是删除行。\u003c/p\u003e\n\u003cp\u003e如果用\u003ccode\u003eaxis=0\u003c/code\u003e或\u003ccode\u003eaxis=\u0026#39;rows\u0026#39;\u003c/code\u003e，都表示展出行，也可用\u003ccode\u003elabels\u003c/code\u003e参数删除行。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf.drop(\u003cspan class=\"number\"\u003e0\u003c/span\u003e)                \u003cspan class=\"comment\"\u003e# drop a row, on axis 0 or \u0026#39;rows\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(\u003cspan class=\"number\"\u003e0\u003c/span\u003e, axis=\u003cspan class=\"number\"\u003e0\u003c/span\u003e)        \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(\u003cspan class=\"number\"\u003e0\u003c/span\u003e, axis=\u003cspan class=\"string\"\u003e\u0026#39;rows\u0026#39;\u003c/span\u003e)   \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(labels=\u003cspan class=\"number\"\u003e0\u003c/span\u003e)         \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(labels=[\u003cspan class=\"number\"\u003e0\u003c/span\u003e])       \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 结果\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    a   b   c   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e5\u003c/span\u003e   \u003cspan class=\"number\"\u003e6\u003c/span\u003e   \u003cspan class=\"number\"\u003e7\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e2\u003c/span\u003e  \u003cspan class=\"number\"\u003e10\u003c/span\u003e  \u003cspan class=\"number\"\u003e11\u003c/span\u003e  \u003cspan class=\"number\"\u003e12\u003c/span\u003e  \u003cspan class=\"number\"\u003e13\u003c/span\u003e  \u003cspan class=\"number\"\u003e14\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e15\u003c/span\u003e  \u003cspan class=\"number\"\u003e16\u003c/span\u003e  \u003cspan class=\"number\"\u003e17\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e20\u003c/span\u003e  \u003cspan class=\"number\"\u003e21\u003c/span\u003e  \u003cspan class=\"number\"\u003e22\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"如何删除列\"\u003e\u003ca href=\"#如何删除列\" class=\"headerlink\" title=\"如何删除列\"\u003e\u003c/a\u003e如何删除列\u003c/h2\u003e\u003cp\u003e如何删除列？可以指定\u003ccode\u003eaxis\u003c/code\u003e或使用\u003ccode\u003ecolumns\u003c/code\u003e参数，如下所示：\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf.drop(\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e, axis=\u003cspan class=\"number\"\u003e1\u003c/span\u003e)         \u003cspan class=\"comment\"\u003e# drop a column\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e, axis=\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e) \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(columns=\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e)         \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf.drop(columns=[\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e])       \u003cspan class=\"comment\"\u003e# same\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# 输出\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    a   c   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e0\u003c/span\u003e   \u003cspan class=\"number\"\u003e0\u003c/span\u003e   \u003cspan class=\"number\"\u003e2\u003c/span\u003e   \u003cspan class=\"number\"\u003e3\u003c/span\u003e   \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e5\u003c/span\u003e   \u003cspan class=\"number\"\u003e7\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e2\u003c/span\u003e  \u003cspan class=\"number\"\u003e10\u003c/span\u003e  \u003cspan class=\"number\"\u003e12\u003c/span\u003e  \u003cspan class=\"number\"\u003e13\u003c/span\u003e  \u003cspan class=\"number\"\u003e14\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e15\u003c/span\u003e  \u003cspan class=\"number\"\u003e17\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e20\u003c/span\u003e  \u003cspan class=\"number\"\u003e22\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这样就删除了一列，注意，删除之后，返回了新的对象，这意味着，你可以用一个新的变量引用删除后得到的结果。如果要改变原有的DataFrame，可以增加一个参数\u003ccode\u003einplace=True\u003c/code\u003e。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf2 = df.drop(\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e, axis=\u003cspan class=\"number\"\u003e1\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(df2.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(df.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eIndex([\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;e\u0026#39;\u003c/span\u003e], dtype=\u003cspan class=\"string\"\u003e\u0026#39;object\u0026#39;\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eIndex([\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;e\u0026#39;\u003c/span\u003e], dtype=\u003cspan class=\"string\"\u003e\u0026#39;object\u0026#39;\u003c/span\u003e)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e同样值得注意的是，你可以通过同时使用\u003ccode\u003eindex\u003c/code\u003e和\u003ccode\u003ecolumns\u003c/code\u003e，同时删除行和列，并且你可以传入多个值，即删除多行或者多列。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf.drop(index=[\u003cspan class=\"number\"\u003e0\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e], columns=[\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e,\u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    a   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e5\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e15\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e20\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果不使用\u003ccode\u003edrop\u003c/code\u003e方法，还可以通过索引实现同样的操作。有多种方式，这里列举一种，如下所示，用\u003ccode\u003e.loc\u003c/code\u003e和\u003ccode\u003e.isin\u003c/code\u003e并取反。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf.loc[~df.index.isin([\u003cspan class=\"number\"\u003e0\u003c/span\u003e,\u003cspan class=\"number\"\u003e2\u003c/span\u003e]), ~df.columns.isin([\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e])]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    a   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e5\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e15\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e20\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eIf none of that makes sense to you, I would suggest reading through my series on selecting and indexing in pandas, starting \u003ca href=\"https://www.wrighters.io/indexing-and-selecting-in-pandas-part-1/\" target=\"_blank\" rel=\"noopener\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e如果这些对你来说都不是很清楚，建议参阅\u003ca href=\"http://www.itdiffer.com/data.html\" target=\"_blank\" rel=\"noopener\"\u003e《跟老齐学Python：数据分析》\u003c/a\u003e中对此的详细说明。\u003c/p\u003e\n\u003ch2 id=\"另外的方法\"\u003e\u003ca href=\"#另外的方法\" class=\"headerlink\" title=\"另外的方法\"\u003e\u003c/a\u003e另外的方法\u003c/h2\u003e\u003cp\u003e除了上面演示的方法之外，还有别的方法可以删除列。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e df[\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edf\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    b   c   d   e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e0\u003c/span\u003e   \u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e2\u003c/span\u003e   \u003cspan class=\"number\"\u003e3\u003c/span\u003e   \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e   \u003cspan class=\"number\"\u003e6\u003c/span\u003e   \u003cspan class=\"number\"\u003e7\u003c/span\u003e   \u003cspan class=\"number\"\u003e8\u003c/span\u003e   \u003cspan class=\"number\"\u003e9\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e2\u003c/span\u003e  \u003cspan class=\"number\"\u003e11\u003c/span\u003e  \u003cspan class=\"number\"\u003e12\u003c/span\u003e  \u003cspan class=\"number\"\u003e13\u003c/span\u003e  \u003cspan class=\"number\"\u003e14\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e  \u003cspan class=\"number\"\u003e16\u003c/span\u003e  \u003cspan class=\"number\"\u003e17\u003c/span\u003e  \u003cspan class=\"number\"\u003e18\u003c/span\u003e  \u003cspan class=\"number\"\u003e19\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e  \u003cspan class=\"number\"\u003e21\u003c/span\u003e  \u003cspan class=\"number\"\u003e22\u003c/span\u003e  \u003cspan class=\"number\"\u003e23\u003c/span\u003e  \u003cspan class=\"number\"\u003e24\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e原来的\u003ccode\u003edf[\u0026#39;a\u0026#39;]\u003c/code\u003e没了，这就如同前面用\u003ccode\u003edrop\u003c/code\u003e方法时参数中使用了\u003ccode\u003einplace=True\u003c/code\u003e一样，原地修改。\u003c/p\u003e\n\u003cp\u003e但是，不要认为\u003ccode\u003edel\u003c/code\u003e就能百试百灵，它会让你有迷茫的时候。\u003c/p\u003e\n\u003cp\u003e我们知道，如果用类似\u003ccode\u003edf.b\u003c/code\u003e这样访问属性的形式，也能得到DataFrame对象的列，虽然这种方法我不是很提倡使用，但很多数据科学的民工都这么干。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003edf.b\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e0\u003c/span\u003e     \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e1\u003c/span\u003e     \u003cspan class=\"number\"\u003e6\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e2\u003c/span\u003e    \u003cspan class=\"number\"\u003e11\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e3\u003c/span\u003e    \u003cspan class=\"number\"\u003e16\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"number\"\u003e4\u003c/span\u003e    \u003cspan class=\"number\"\u003e21\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eName: b, dtype: int64\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这么干，如果仅仅是查看，也无所谓，但是：\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e df.b\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e---------------------------------------------------------------------------\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAttributeError                            Traceback (most recent call last)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026lt;ipython-input\u003cspan class=\"number\"\u003e-10\u003c/span\u003e\u003cspan class=\"number\"\u003e-0\u003c/span\u003edca358a6ef9\u0026gt; \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e \u0026lt;module\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e----\u0026gt; 1 del df.b\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAttributeError: b\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这就报错了。是不是很迷惑，为什\u003ccode\u003edel df[\u0026#39;b\u0026#39;]\u003c/code\u003e奏效，而\u003ccode\u003edel df.b\u003c/code\u003e无效？\u003c/p\u003e\n\u003cp\u003e这就是接下来要研究的了。必须通过对细节的剖析，才能搞清楚问题的根源。\u003c/p\u003e\n\u003cp\u003e首先，\u003ccode\u003edel df[\u0026#39;b\u0026#39;]\u003c/code\u003e有效，是因为DataFrame对象中实现了\u003ccode\u003e__delitem__\u003c/code\u003e方法，在执行\u003ccode\u003edel df[\u0026#39;b\u0026#39;]\u003c/code\u003e时会调用该方法。但是\u003ccode\u003edel df.b\u003c/code\u003e呢，有没有调用此方法呢？\u003c/p\u003e\n\u003cp\u003e为此，可以定义一个简单的类，这里暂用\u003ccode\u003edict\u003c/code\u003e作为保存数据的容器，当然，这个类不是真正的\u003ccode\u003eDataFrame\u003c/code\u003e。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"class\"\u003e\u003cspan class=\"keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"title\"\u003eStupidFrame\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__init__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, columns)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        self.columns = columns\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__delitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003edel\u003c/span\u003e self.columns[item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__getitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e self.columns[item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__setitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item, val)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        self.columns[item] = val\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef = StupidFrame({\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e})\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrame value for a:\u0026#34;\u003c/span\u003e, f[\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrame columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f[\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef.d = \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrame columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrame value \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e a: \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrame columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrame columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e认真观察上面的操作和\u003ccode\u003eStupidFrame\u003c/code\u003e代码，如果用\u003ccode\u003e[]\u003c/code\u003e对所创建的实例进行数据操作，可以实现删除、赋值、读取等。但是，当我们执行\u003ccode\u003ef.d = 4\u003c/code\u003e的操作时，并没有在\u003ccode\u003eStupidFrame\u003c/code\u003e中所创建的\u003ccode\u003ecolumns\u003c/code\u003e属性中增加键为\u003ccode\u003ed\u003c/code\u003e的键值对，而是为实例\u003ccode\u003ef\u003c/code\u003e增加了一个普通属性，名称是\u003ccode\u003ed\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e因此，如果要让\u003ccode\u003ef.d\u003c/code\u003e与\u003ccode\u003ef[\u0026#39;d\u0026#39;]\u003c/code\u003e等效，还必须要在\u003ccode\u003eStupidFrame\u003c/code\u003e类中添加 \u003ccode\u003e__getattr__\u003c/code\u003e 方法，并使用\u003ccode\u003e__setattr__\u003c/code\u003e方法来处理设置问题（关于这两个方法的使用，请参阅\u003ca href=\"http://www.itdiffer.com/python_course.html\" target=\"_blank\" rel=\"noopener\"\u003e《Python大学实用教程》\u003c/a\u003e中的详细介绍）。\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e31\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e32\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e33\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e34\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e35\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e36\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e37\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e38\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e40\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e41\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e42\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e43\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e44\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e45\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e46\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e47\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e48\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e49\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e50\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e51\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e52\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e53\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e54\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e55\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e56\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e57\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e58\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"class\"\u003e\u003cspan class=\"keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"title\"\u003eStupidFrameAttr\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__init__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, columns)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e] = columns\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__delitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003edel\u003c/span\u003e self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__getitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__setitem__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item, val)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item] = val\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__getattr__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e item \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e]:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003eelif\u003c/span\u003e item == \u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"keyword\"\u003ereturn\u003c/span\u003e self.__dict__[item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003eelse\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"keyword\"\u003eraise\u003c/span\u003e AttributeError\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__setattr__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item, val)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003eif\u003c/span\u003e item != \u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item] = val\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003eelse\u003c/span\u003e:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"keyword\"\u003eraise\u003c/span\u003e ValueError(\u003cspan class=\"string\"\u003e\u0026#34;Overwriting columns prohibited\u0026#34;\u003c/span\u003e) \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef = StupidFrameAttr({\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e})\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr value for a\u0026#34;\u003c/span\u003e, f[\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f[\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr value for a\u0026#34;\u003c/span\u003e, f.a)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef.d = \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f[\u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef.d = \u003cspan class=\"number\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f.d\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr value \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e a \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr value \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e a \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e4\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e5\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e---------------------------------------------------------------------------\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAttributeError                            Traceback (most recent call last)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026lt;ipython-input\u003cspan class=\"number\"\u003e-12\u003c/span\u003e-fd29f59ea01e\u0026gt; \u003cspan class=\"keyword\"\u003ein\u003c/span\u003e \u0026lt;module\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e     \u003cspan class=\"number\"\u003e39\u003c/span\u003e f.d = \u003cspan class=\"number\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e     \u003cspan class=\"number\"\u003e40\u003c/span\u003e print(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e---\u0026gt; 41 del f.d\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAttributeError: d\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e现在删除属性也能够奏效了。\u003c/p\u003e\n\u003cp\u003e另外，还可以在类中重写\u003ccode\u003e__delattr__\u003c/code\u003e方法，如下所示：\u003c/p\u003e\n\u003cfigure class=\"highlight python\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"class\"\u003e\u003cspan class=\"keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"title\"\u003eStupidFrameDelAttr\u003c/span\u003e\u003cspan class=\"params\"\u003e(StupidFrameAttr)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"function\"\u003e\u003cspan class=\"keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"title\"\u003e__delattr__\u003c/span\u003e\u003cspan class=\"params\"\u003e(self, item)\u003c/span\u003e:\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"comment\"\u003e# trivial implementation using the data model methods\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"keyword\"\u003edel\u003c/span\u003e self.__dict__[\u003cspan class=\"string\"\u003e\u0026#39;columns\u0026#39;\u003c/span\u003e][item]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef = StupidFrameDelAttr({\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e})\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr value for a\u0026#34;\u003c/span\u003e, f[\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e])\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f[\u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr value for a\u0026#34;\u003c/span\u003e, f.a)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ef.d = \u003cspan class=\"number\"\u003e4\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"keyword\"\u003edel\u003c/span\u003e f.d \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(\u003cspan class=\"string\"\u003e\u0026#34;StupidFrameDelAttr columns: \u0026#34;\u003c/span\u003e, f.columns)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"comment\"\u003e# result\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr value \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e a \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;b\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e2\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr value \u003cspan class=\"keyword\"\u003efor\u003c/span\u003e a \u003cspan class=\"number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e4\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eStupidFrameDelAttr columns:  {\u003cspan class=\"string\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e1\u003c/span\u003e, \u003cspan class=\"string\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e: \u003cspan class=\"number\"\u003e3\u003c/span\u003e}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e现在，就理解了前面使用\u003ccode\u003edel\u003c/code\u003e删除\u003ccode\u003eDataFrame\u003c/code\u003e对象属性的方法出问题的根源了。当然，并不是说DataFrame对象的类就是上面那样的，而是用上面的方式简要说明了一下原因。\u003c/p\u003e\n\u003cp\u003e所以，在Pandas中要删除DataFrame的列，最好是用对象的\u003ccode\u003edrop\u003c/code\u003e方法。\u003c/p\u003e\n\u003cp\u003e另外，特别提醒，如果要创建新的列，也不要用\u003ccode\u003edf.column_name\u003c/code\u003e的方法，这也容易出问题。\u003c/p\u003e\n\u003ch2 id=\"参考文献\"\u003e\u003ca href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"\u003e\u003c/a\u003e参考文献\u003c/h2\u003e\u003cp\u003e[1]. \u003ca href=\"https://www.wrighters.io/how-to-remove-a-column-from-a-dataframe/\" target=\"_blank\" rel=\"noopener\"\u003ehttps://www.wrighters.io/how-to-remove-a-column-from-a-dataframe/\u003c/a\u003e\u003c/p\u003e\n\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2021/03/08/virtual-environments/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003e← \u003c/span\u003e\n        \n          Python虚拟环境\n        \n      \u003c/a\u003e\n    \n    \n      \u003ca class=\"nav-right\" href=\"/2021/03/16/loop-better/\"\u003e\n        \n          深入理解循环和迭代\n        \n        \u003cspan class=\"nav-arrow\"\u003e →\u003c/span\u003e\n      \u003c/a\u003e\n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- 打赏 START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          赏\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用支付宝打赏\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用微信打赏\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003e若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- 打赏 END --\u003e\n    \u003c!-- 二维码 START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003e关注微信公众号，读文章、听课程，提升技能\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- 二维码 END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2021-03-10T00:00:00Z",
  "Author": "老齐教室"
}