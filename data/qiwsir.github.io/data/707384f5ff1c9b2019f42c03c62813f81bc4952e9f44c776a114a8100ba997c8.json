{
  "Source": "qiwsir.github.io",
  "Title": "剖析Web技术栈（二）",
  "Link": "https://qiwsir.github.io/2020/04/28/web-stack-second/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003e剖析Web技术栈（二）\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2020-04-28\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003cp\u003e作者：Leonardo Giordani\u003c/p\u003e\n\u003cp\u003e翻译：老齐\u003c/p\u003e\n\u003cp\u003e与本文相关书籍推荐：《跟老齐学Python：Django实战》\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/Django2%E7%AB%8B%E4%BD%93%E5%9B%BE_20200117164816.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在本系列的第一篇中，已经对web技术栈的基本做了介绍，本节将重点介绍scoket及其实现。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"1-套接字\"\u003e\u003ca href=\"#1-套接字\" class=\"headerlink\" title=\"1 套接字\"\u003e\u003c/a\u003e1 套接字\u003c/h2\u003e\u003ch3 id=\"1-1-基本原理\"\u003e\u003ca href=\"#1-1-基本原理\" class=\"headerlink\" title=\"1.1 基本原理\"\u003e\u003c/a\u003e1.1 基本原理\u003c/h3\u003e\u003cp\u003eTCP/IP是一种使用套接字（socket）的网络协议。Socket是包括IP地址(在网络中是唯一的)和端口(对于特定的IP地址是唯一的)的元组，计算机使用IP地址和端口与其他计算机通信。Socket类似文件，可以打开和关闭，也可以读写。Socket编程是一种低级的网络编程，但你需要知道，计算机中提供网络访问的每个软件最终都必须处理Socket（不过，很可能是通过某些库来处理）。\u003c/p\u003e\n\u003cp\u003e因为我们是从头开始构建，所以要先实现一个小的Python程序，它打开一个socket连接，接收HTTP请求，并返回对这个HTTP请求的响应。由于端口\u003ccode\u003e80\u003c/code\u003e是一个“低级端口”（一个小于1024的数字），通常没有权限打开那里的socket，所以我将使用端口8080。这暂时不是问题，因为任何端口上都可以提供HTTP服务。\u003c/p\u003e\n\u003ch3 id=\"1-2-实现\"\u003e\u003ca href=\"#1-2-实现\" class=\"headerlink\" title=\"1.2 实现\"\u003e\u003c/a\u003e1.2 实现\u003c/h3\u003e\u003cp\u003e创建文件\u003ccode\u003eserver.py\u003c/code\u003e并键入下面的代码。是的，输入它，不要只是复制和粘贴，否则你不会学到任何东西。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eimport socket\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Create a socket instance\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# AF_INET: use IP protocol version 4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# SOCK_STREAM: full-duplex byte stream\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Allow reuse of addresses\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Bind the socket to any address, port 8080, and listen\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.bind((\u0026#39;\u0026#39;, 8080))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.listen()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Serve forever\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewhile True:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Accept the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn, addr = s.accept()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Receive data from this socket using a buffer of 1024 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    data = conn.recv(1024)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Print out the data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(data.decode(\u0026#39;utf-8\u0026#39;))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Close the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn.close()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e这个小程序接受8080端口上的连接，并在终端上打印接收到的数据。你可以执行这个程序，然后在另一个终端中运行\u003ccode\u003ecurl localhost:8080\u003c/code\u003e，应该看到类似下面的内容：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e$ python3 server.py \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eGET / HTTP/1.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHost: localhost:8080\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUser-Agent: curl/7.65.3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept: */*\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e服务器一直在\u003ccode\u003ewhile\u003c/code\u003e循环中运行代码，如果要终止运行，必须使用\u003ccode\u003eCtrl+C\u003c/code\u003e来完成。到目前为止还不错，但这还不是一个HTTP服务器，因为它没有发送任何响应；实际上，你应该会从curl接收到一条错误消息，上面写着“curl: (52) Empty reply from server”。\u003c/p\u003e\n\u003cp\u003e返回标准响应非常简单，我们只需要调用\u003ccode\u003econn.sendall\u003c/code\u003e，传递原始字节。最小的HTTP响应包含协议和状态、空行和实际内容，例如：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eHTTP/1.1 200 OK\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHi there!\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e我们的服务器变成\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eimport socket\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Create a socket instance\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# AF_INET: use IP protocol version 4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# SOCK_STREAM: full-duplex byte stream\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Allow reuse of addresses\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Bind the socket to any address, port 8080, and listen\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.bind((\u0026#39;\u0026#39;, 8080))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.listen()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Serve forever\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewhile True:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Accept the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn, addr = s.accept()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Receive data from this socket using a buffer of 1024 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    data = conn.recv(1024)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Print out the data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(data.decode(\u0026#39;utf-8\u0026#39;))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn.sendall(bytes(\u0026#34;HTTP/1.1 200 OK\\n\\nHi there!\\n\u0026#34;, \u0026#39;utf-8\u0026#39;))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Close the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn.close()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e但此时，我们并没有真正响应用户的请求。如果尝试使用不同的curl命令行，如\u003ccode\u003ecurl localhost:8080/index.html\u003c/code\u003e或\u003ccode\u003ecurl localhost:8080/main.css\u003c/code\u003e，你总是收到相同的响应。我们应该尝试找到用户请求的资源并将其随同响应的内容返回。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/%E8%BD%BB%E6%9D%BE%E5%85%A5%E9%97%A8_20200122130623.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e此版本的HTTP服务器正确地提取资源并尝试从当前目录加载它，返回结果或成功或失败\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e31\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e32\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e33\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e34\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e35\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e36\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e37\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e38\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e40\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e41\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e42\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e43\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e44\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e45\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e46\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eimport socket\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eimport re\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Create a socket instance\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# AF_INET: use IP protocol version 4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# SOCK_STREAM: full-duplex byte stream\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Allow reuse of addresses\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Bind the socket to any address, port 8080, and listen\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.bind((\u0026#39;\u0026#39;, 8080))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003es.listen()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHEAD_200 = \u0026#34;HTTP/1.1 200 OK\\n\\n\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHEAD_404 = \u0026#34;HTTP/1.1 404 Not Found\\n\\n\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Serve forever\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewhile True:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Accept the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn, addr = s.accept()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Receive data from this socket using a buffer of 1024 bytes\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    data = conn.recv(1024)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    request = data.decode(\u0026#39;utf-8\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Print out the data\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(request)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    resource = re.match(r\u0026#39;GET /(.*) HTTP\u0026#39;, request).group(1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    try:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        with open(resource, \u0026#39;r\u0026#39;) as f:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e            content = HEAD_200 + f.read()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        print(\u0026#39;Resource {} correctly served\u0026#39;.format(resource))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    except FileNotFoundError:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        content = HEAD_404 + \u0026#34;Resource /{} cannot be found\\n\u0026#34;.format(resource)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e        print(\u0026#39;Resource {} cannot be loaded\u0026#39;.format(resource))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(\u0026#39;--------------------\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn.sendall(bytes(content, \u0026#39;utf-8\u0026#39;))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    # Close the connection\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    conn.close()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e正如你所看到的，这个实现非常简单。如果你使用下面的内容创建一个简单的本地文件，文件名为\u003ccode\u003eindex.html\u003c/code\u003e\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u0026lt;title\u0026gt;This is my page\u0026lt;/title\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;main.css\u0026#34;\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u0026lt;p\u0026gt;Some random content\u0026lt;/p\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e运行\u003ccode\u003ecurl localhost:8080/index.html\u003c/code\u003e，你将看到文件的内容。此时，你甚至可以使用浏览器打开\u003ccode\u003ehttp://localhost:8080/index.html\u003c/code\u003e，你还可以看到页面的标题和内容。Web浏览器是一种能够发送HTTP请求并解释响应内容的软件，只要这些内容是HTML文件（以及许多其他文件类型，如图像或视频）。因此，浏览器可以呈现返回信息的内容。浏览器还负责对渲染所需的缺失资源进行检索。因此，当你在页面的HTML代码中提供指向带有\u003ccode\u003e\u0026lt;link\u0026gt;\u003c/code\u003e或\u003ccode\u003e\u0026lt;script\u0026gt;\u003c/code\u003e标记的样式表或JS脚本的链接时，你也是在指示浏览器为这些文件发送HTTP GET请求。\u003c/p\u003e\n\u003cp\u003e访问\u003ccode\u003ehttp://localhost:8080/index.html\u003c/code\u003e时，\u003ccode\u003eserver.py\u003c/code\u003e的输出是\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e16\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e17\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e18\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e19\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e20\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e21\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e22\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e23\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e24\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e25\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e26\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e27\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e28\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e29\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e30\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e31\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e32\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e33\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e34\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e35\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e36\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e37\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e38\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e39\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e40\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e41\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eGET /index.html HTTP/1.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHost: localhost:8080\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:72.0) Gecko/20100101 Firefox/72.0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Language: en-GB,en;q=0.5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Encoding: gzip, deflate\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eConnection: keep-alive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUpgrade-Insecure-Requests: 1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePragma: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCache-Control: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eResource index.html correctly served\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e--------------------\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eGET /main.css HTTP/1.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHost: localhost:8080\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:72.0) Gecko/20100101 Firefox/72.0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept: text/css,*/*;q=0.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Language: en-GB,en;q=0.5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Encoding: gzip, deflate\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eConnection: keep-alive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eReferer: http://localhost:8080/index.html\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePragma: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCache-Control: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eResource main.css cannot be loaded\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e--------------------\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eGET /favicon.ico HTTP/1.1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eHost: localhost:8080\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:72.0) Gecko/20100101 Firefox/72.0\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept: image/webp,*/*\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Language: en-GB,en;q=0.5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eAccept-Encoding: gzip, deflate\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eConnection: keep-alive\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ePragma: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eCache-Control: no-cache\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eResource favicon.ico cannot be loaded\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e--------------------\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如你所见，浏览器发送大量的HTTP请求，其中包含大量的header信息，自动请求HTML代码中提到的CSS文件，并自动尝试检索网站图标。\u003c/p\u003e\n\u003ch3 id=\"1-3-参考资源\"\u003e\u003ca href=\"#1-3-参考资源\" class=\"headerlink\" title=\"1.3 参考资源\"\u003e\u003c/a\u003e1.3 参考资源\u003c/h3\u003e\u003cp\u003e这些资源对本节所讨论的主题提供了更详细的信息\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.python.org/3/howto/sockets.html\" target=\"_blank\" rel=\"noopener\" title=\"Python 3 Socket Programming HOWTO\"\u003ePython 3 Socket Programming HOWTO\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5\" target=\"_blank\" rel=\"noopener\" title=\"HTTP/1.1 Request format\"\u003eHTTP/1.1 Request format\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html#sec6\" target=\"_blank\" rel=\"noopener\" title=\"HTTP/1.1 Response format\"\u003eHTTP/1.1 Response format\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e本文例子的源代码可以在这里找到：\u003ca href=\"https://github.com/lgiordani/dissecting-a-web-stack-code/tree/master/1_sockets_and_parsers\" target=\"_blank\" rel=\"noopener\"\u003ehttps://github.com/lgiordani/dissecting-a-web-stack-code/tree/master/1_sockets_and_parsers\u003c/a\u003e)\u003c/p\u003e\n\u003ch3 id=\"1-4-问题\"\u003e\u003ca href=\"#1-4-问题\" class=\"headerlink\" title=\"1.4 问题\"\u003e\u003c/a\u003e1.4 问题\u003c/h3\u003e\u003cp\u003e上面的程序让你有点了点成就感，你从头开始构建了一个项目，然后发现它可以与你每天使用的浏览器等成熟的软件顺利地协同工作。我还认为，有趣的是，像HTTP这样的技术，现在基本上遍布全世界了，但它们的核心非常简单。\u003c/p\u003e\n\u003cp\u003e在上面的操作中，HTTP的许多特性都没有在简单socket 编程中涉及到。首先，HTTP/1.0在GET之后引入了其他方法，比如POST，它对于今天的网站来说是至关重要的。这些网站的用户通过表单不断地向服务器发送信息。要实现所有这9个HTTP方法，我们需要正确地解析传入的请求并向代码中添加相关函数。\u003c/p\u003e\n\u003cp\u003e不过，在这一点上，你可能会注意到，我们正在处理协议的许多低级细节，而这些通常不是我们业务的核心。通过HTTP构建一个服务时，我们有足够的知识来正确实现一些代码。这些代码可以简化特定的过程，比如搜索其他网站、购买书籍或与朋友共享图片。我们不想花时间去理解TCP/IP套接字（socket）的微妙之处，也不想为请求——响应协议编写解析器。很高兴看到这些技术的工作原理，但是在日常工作中，我们需要关注更高层次的东西。\u003c/p\u003e\n\u003cp\u003e由于HTTP是无状态协议，小型HTTP服务器的情况可能会恶化。该协议不提供任何连接两个连续请求的方法，因此可以跟踪通信状态，这是现代互联网的基石。每当我们在一个网站上进行身份验证，并且我们想访问其他页面时，需要服务器记住我们是谁，这意味着要跟踪连接的状态。\u003c/p\u003e\n\u003cp\u003e长话短说：要成为一个正常运行的HTTP服务器，我们的代码此时应该实现所有HTTP方法和cookies管理，还需要支持其他协议，如Websockets。这些都是些微不足道的任务，所以我们肯定需要在整个系统中添加一些组件，让我们专注于业务逻辑，而不是应用程序协议的低级细节。\u003c/p\u003e\n\u003cp\u003e（未完，待续）\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e搜索技术问答的公众号：老齐教室\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在公众号中回复：\u003cstrong\u003e老齐\u003c/strong\u003e，可查看所有文章、书籍、课程。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp style=\"text-align:right\"\u003e\u003cstrong style=\"max-width: 100%;color: rgb(255, 255, 255);background-color: rgb(234, 6, 13);box-sizing: border-box !important;overflow-wrap: break-word !important;\"\u003e觉得好看，就点这里👇👇👇\u003c/strong\u003e\u003c/p\u003e\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2020/04/26/cost-function-notebook/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003e← \u003c/span\u003e\n        \n          cost function 笔记\n        \n      \u003c/a\u003e\n    \n    \n      \u003ca class=\"nav-right\" href=\"/2020/04/28/logistic-notebook/\"\u003e\n        \n          【logistic回归】笔记\n        \n        \u003cspan class=\"nav-arrow\"\u003e →\u003c/span\u003e\n      \u003c/a\u003e\n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- 打赏 START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          赏\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用支付宝打赏\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用微信打赏\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003e若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- 打赏 END --\u003e\n    \u003c!-- 二维码 START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003e关注微信公众号，读文章、听课程，提升技能\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- 二维码 END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2020-04-28T00:00:00Z",
  "Author": "老齐教室"
}