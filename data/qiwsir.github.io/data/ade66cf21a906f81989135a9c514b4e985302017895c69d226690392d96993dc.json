{
  "Source": "qiwsir.github.io",
  "Title": "Python3.9中合并字典的新方法",
  "Link": "https://qiwsir.github.io/2020/04/13/python39-dict-merge/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003ePython3.9中合并字典的新方法\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2020-04-13\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003cp\u003e作者：Yong Cui, Ph.D.\u003c/p\u003e\n\u003cp\u003e翻译：老齐\u003c/p\u003e\n\u003cp\u003e与本文相关的图书推荐：《跟老齐学Python：轻松入门》\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/%E8%BD%BB%E6%9D%BE%E5%85%A5%E9%97%A8_20200122130623.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003chr/\u003e\n\u003cp\u003ePython3.9，还在研发中，计划今年10月份发布，2月26日，研发团队发布了α版，其中有一个新功能，会关系到所有开发者，那就是两个操作符：\u003ccode\u003e|\u003c/code\u003e和\u003ccode\u003e|=\u003c/code\u003e，分别实现对字典的合并操作。\u003c/p\u003e\n\u003cp\u003e本文对此给予简要介绍。\u003c/p\u003e\n\u003ch2 id=\"字典\"\u003e\u003ca href=\"#字典\" class=\"headerlink\" title=\"字典\"\u003e\u003c/a\u003e字典\u003c/h2\u003e\u003cp\u003ePython中的字典，即\u003ccode\u003edict\u003c/code\u003e，是一种重要的内置对象类型，它是一种以键值对方式保存数据的容器，因为使用了哈希，使得查询字典中数据时的时间复杂度恒定，这是它美名远播的一个原因。\u003c/p\u003e\n\u003cp\u003e例如：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e13\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# 创建字典\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003estudent = {\u0026#39;name\u0026#39;: \u0026#39;John\u0026#39;, \u0026#39;age\u0026#39;: 14}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# 读取值\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eage = student[\u0026#39;age\u0026#39;]\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# age is 14\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Update 一个值\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003estudent[\u0026#39;age\u0026#39;] = 15\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# student 变成 {\u0026#39;name\u0026#39;: \u0026#39;John\u0026#39;, \u0026#39;age\u0026#39;: 15}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# 插入一个键值对\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003estudent[\u0026#39;score\u0026#39;] = \u0026#39;A\u0026#39;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# student 变成 {\u0026#39;name\u0026#39;: \u0026#39;John\u0026#39;, \u0026#39;age\u0026#39;: 15, \u0026#39;score\u0026#39;: \u0026#39;A\u0026#39;}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"以往合并字典的方法\"\u003e\u003ca href=\"#以往合并字典的方法\" class=\"headerlink\" title=\"以往合并字典的方法\"\u003e\u003c/a\u003e以往合并字典的方法\u003c/h2\u003e\u003cp\u003e有时，我们需要将两个字典合并，在Python3.9之前，有几种方法可以实现。假设有两个字典：\u003ccode\u003ed1\u003c/code\u003e和\u003ccode\u003ed2\u003c/code\u003e，新建一个字典\u003ccode\u003ed3\u003c/code\u003e，它的值是\u003ccode\u003ed1\u003c/code\u003e和\u003ccode\u003ed2\u003c/code\u003e的并集。从下面的演示中我们可以看到，如果字典中被合并的字典中有重复的键，例如\u003ccode\u003ed2\u003c/code\u003e如果是字典\u003ccode\u003ed2a\u003c/code\u003e那样，就会把\u003ccode\u003ed1\u003c/code\u003e中同名的键覆盖了。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# two dicts to start with\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed1 = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed2 = {\u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed2a = {\u0026#39;a\u0026#39;: 10, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# target dict\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"update-方法\"\u003e\u003ca href=\"#update-方法\" class=\"headerlink\" title=\"update()方法\"\u003e\u003c/a\u003e\u003ccode\u003eupdate()\u003c/code\u003e方法\u003c/h3\u003e\u003cp\u003e第一种方法我们使用字典的\u003ccode\u003eupdate()\u003c/code\u003e方法，下面的代码中演示了操作方法。注意，首先要创建\u003ccode\u003ed1\u003c/code\u003e的拷贝，否则\u003ccode\u003eupdate()\u003c/code\u003e会把原字典的值修改了。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# create a copy of d1, as update() modifies the dict in-place\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 = d1.copy()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# update the d3 with d2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3.update(d2)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 now is {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e如果字典中有重名的键，我们必须更加谨慎，确定保留哪些值。如下代码所示，作为\u003ccode\u003eupdate()\u003c/code\u003e方法的参数\u003ccode\u003ed2a\u003c/code\u003e中，与\u003ccode\u003ed3\u003c/code\u003e有重复的键，比如\u003ccode\u003ea\u003c/code\u003e，此时会遵循“最后一个有效”的原则合并。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ed3 = d1.copy()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3.update(d2a)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 now is {\u0026#39;a\u0026#39;: 10, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# This is not the way that we want d3 = d2a.copy()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3.update(d1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 now is {\u0026#39;a\u0026#39;: 1, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4, \u0026#39;b\u0026#39;: 2}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# This is the way that we want\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"解包字典\"\u003e\u003ca href=\"#解包字典\" class=\"headerlink\" title=\"解包字典\"\u003e\u003c/a\u003e解包字典\u003c/h3\u003e\u003cp\u003e第二种方法使用字典解包，类似上面的方法，如果有重名的键，依然是“最后一个有效”。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# unpacking\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 = {**d1, **d2}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is {\u0026#39;a\u0026#39;: 10, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Not right d3 = {**d2a, **d1}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is {\u0026#39;a\u0026#39;: 1, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4, \u0026#39;b\u0026#39;: 2}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Good\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"使用dict-iterable-kwarg\"\u003e\u003ca href=\"#使用dict-iterable-kwarg\" class=\"headerlink\" title=\"使用dict(iterable, **kwarg)\"\u003e\u003c/a\u003e使用dict(iterable, **kwarg)\u003c/h3\u003e\u003cp\u003e利用\u003ccode\u003edict(iterable, **kwarg)\u003c/code\u003e方法创建一个字典。如果参数\u003ccode\u003eiterable\u003c/code\u003e是一个字典，就可以创建一个同样键值对的字典，再提供另外一个字典，就可以将这个字典的键值对增加到前面字典中。注意，这个字典如果跟前面字典中有同名的参数，依然是“最后一个有效”。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ed3 = dict(d1, **d2)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Good, it\u0026#39;s what we wantd3 = dict(d1, **d2a)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is {\u0026#39;a\u0026#39;: 10, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Not right, \u0026#39;a\u0026#39; value got replaced\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e注意，上面的方法只适用于以字符串为键的字典，因为它其实是以关键词传参。如果像下面这样，就会报错了。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e\u0026gt;\u0026gt;\u0026gt; dict({\u0026#39;a\u0026#39;: 1}, **{2: 3})\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eTraceback (most recent call last):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e  File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eTypeError: keywords must be strings\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u0026gt;\u0026gt;\u0026gt; dict({\u0026#39;a\u0026#39;: 1}, **{\u0026#39;2\u0026#39;: 3})\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e{\u0026#39;a\u0026#39;: 1, \u0026#39;2\u0026#39;: 3}\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"合并字典的新方法\"\u003e\u003ca href=\"#合并字典的新方法\" class=\"headerlink\" title=\"合并字典的新方法\"\u003e\u003c/a\u003e合并字典的新方法\u003c/h2\u003e\u003cp\u003e在最近发布的Python3.9.0α4中，提供了合并运算符\u003ccode\u003e|\u003c/code\u003e，用于很方便地实现两个字典的合并，下面给出一个示例。你一定会注意到，如果两个字典中有重名的键，依然是“最后一个有效”，这与前面所看到的没有区别，比如\u003ccode\u003eupdate()\u003c/code\u003e方法那样的操作。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# use the merging operator |\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 = d1 | d2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is now {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# goodd3 = d1 | d2a\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 is now {\u0026#39;a\u0026#39;: 10, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# not good\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e与上述运算符相关的是一个增强版的运算符\u003ccode\u003e|=\u003c/code\u003e，它的作用是对字典进行原地修改，从本质上讲，与\u003ccode\u003eupdate()\u003c/code\u003e一样，以下代码段显示其用法：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e# Create a copy for d1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 = d1.copy()\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Use the augmented assignment of the merge operator\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 |= d2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 now is {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# good \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ed3 |= d2a\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# d3 now is {\u0026#39;a\u0026#39;: 10, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3, \u0026#39;d\u0026#39;: 4}\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# not good\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch2 id=\"总结\"\u003e\u003ca href=\"#总结\" class=\"headerlink\" title=\"总结\"\u003e\u003c/a\u003e总结\u003c/h2\u003e\u003cp\u003e本文展示了Python3.9即将发布的一个关于合并字典的运算符，此外，对\u003ccode\u003easyncio\u003c/code\u003e、\u003ccode\u003emath\u003c/code\u003e、\u003ccode\u003eos\u003c/code\u003e模块也有一些更新，迫不及待了吗？10月份Python3.9发布之时，官方文档会有详细说明，敬请查看。\u003c/p\u003e\n\u003cp\u003e原文链接：\u003ca href=\"https://medium.com/better-programming/dictionary-merging-and-updating-in-python-3-9-4ac67c667ce\" target=\"_blank\" rel=\"noopener\"\u003ehttps://medium.com/better-programming/dictionary-merging-and-updating-in-python-3-9-4ac67c667ce\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e搜索技术问答的公众号：老齐教室\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在公众号中回复：\u003cstrong\u003e老齐\u003c/strong\u003e，可查看所有文章、书籍、课程。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp style=\"text-align:right\"\u003e\u003cstrong style=\"max-width: 100%;color: rgb(255, 255, 255);background-color: rgb(234, 6, 13);box-sizing: border-box !important;overflow-wrap: break-word !important;\"\u003e觉得好看，就点赞转发\u003c/strong\u003e\u003c/p\u003e\n\n\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2020/04/12/baidu-aistudio-chinese/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003e← \u003c/span\u003e\n        \n          如何在AI Studio数据可视化图像中显示汉字\n        \n      \u003c/a\u003e\n    \n    \n      \u003ca class=\"nav-right\" href=\"/2020/04/14/data-engineer-how-to-do/\"\u003e\n        \n          数据工程师的烦恼，就这样一扫而光\n        \n        \u003cspan class=\"nav-arrow\"\u003e →\u003c/span\u003e\n      \u003c/a\u003e\n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- 打赏 START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          赏\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用支付宝打赏\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用微信打赏\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003e若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- 打赏 END --\u003e\n    \u003c!-- 二维码 START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003e关注微信公众号，读文章、听课程，提升技能\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- 二维码 END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2020-04-13T00:00:00Z",
  "Author": "老齐教室"
}