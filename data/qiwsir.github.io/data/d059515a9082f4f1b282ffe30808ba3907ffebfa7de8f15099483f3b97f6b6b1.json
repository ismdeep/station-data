{
  "Source": "qiwsir.github.io",
  "Title": "用Python读写文件的方法",
  "Link": "https://qiwsir.github.io/2020/09/04/read-and-write-file/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003e用Python读写文件的方法\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2020-09-04\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003cp\u003e在文中，我们将研习如何用Python读取文件，然后，向文件写入内容并再次保存它。使用Python读写某种特别类型的文件，例如：JSON、CSV、Excel等，一般会有专门的模块。但是，在这里，我们将用Python打开文本文件(.txt)。\u003c/p\u003e\n\u003cp\u003e若使用Python的\u003ccode\u003eopen\u003c/code\u003e函数，它将返回一个文件对象，此对象将包含一些方法和属性。我们可以使用这些方法和属性获得已打开文件的相关信息，并且，可以使用这些方法来更改所打开的文件。\u003c/p\u003e\n\u003ch2 id=\"用-open-读取文件\"\u003e\u003ca href=\"#用-open-读取文件\" class=\"headerlink\" title=\"用 open()读取文件\"\u003e\u003c/a\u003e用 \u003ccode\u003eopen()\u003c/code\u003e读取文件\u003c/h2\u003e\u003cp\u003e在本节中，我们将学习如何使用\u003ccode\u003eopen()\u003c/code\u003e函数在Python中加载文件，最简单的例子是打开一个文件并创建一个文件对象。\u003c/p\u003e\n\u003cp\u003e当使用Python的\u003ccode\u003eopen()\u003c/code\u003e函数打开一个文件时，有若干个参数可用。然而，最常用的参数只有前两个。注意，第一个是强制性的，其余的是可选的。如果不添加\u003ccode\u003emode\u003c/code\u003e参数，文件将在Python中以只读模式打开。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eopen(file, mode=\u0026#39;r\u0026#39;, buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"mode参数\"\u003e\u003ca href=\"#mode参数\" class=\"headerlink\" title=\"mode参数\"\u003e\u003c/a\u003e\u003ccode\u003emode\u003c/code\u003e参数\u003c/h3\u003e\u003cp\u003e读取文件有不同模式。如前所述，如果不带有\u003ccode\u003emode\u003c/code\u003e参数，文件就会以只读方式打开，如下所示，列出了常用的几种打开模式。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926360596-file01.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e其中，\u003ccode\u003emode=\u0026#39;r\u0026#39;\u003c/code\u003e表示制度；\u003ccode\u003emode=\u0026#39;w\u0026#39;\u003c/code\u003e表示只写；\u003ccode\u003emode=\u0026#39;a\u0026#39;\u003c/code\u003e表示追加。\u003ccode\u003emode=\u0026#39;r+\u0026#39;\u003c/code\u003e表示可读写，但是文件必须存在，否则报错。\u003c/p\u003e\n\u003ch3 id=\"一个简单的示例\"\u003e\u003ca href=\"#一个简单的示例\" class=\"headerlink\" title=\"一个简单的示例\"\u003e\u003c/a\u003e一个简单的示例\u003c/h3\u003e\u003cp\u003e在下面的代码示例中使用\u003ccode\u003eopen()\u003c/code\u003e代开一个文件，此处假设文件与Python脚本在同一个目录中，否则要增加路径。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eexfile = open(\u0026#39;example_file\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(exfile)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926533962-file02.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e在上图中，很明显我们有一个以只读模式打开的文件对象，在\u003ccode\u003eopen()\u003c/code\u003e中除了文件名之外没有任何其他参数。因此，无法向该文件写入任何内容。如果要打印文件名，只需键入\u003ccode\u003eprint(exfile.name)\u003c/code\u003e。\u003c/p\u003e\n\u003ch3 id=\"创建文本文件并写入内容\"\u003e\u003ca href=\"#创建文本文件并写入内容\" class=\"headerlink\" title=\"创建文本文件并写入内容\"\u003e\u003c/a\u003e创建文本文件并写入内容\u003c/h3\u003e\u003cp\u003e下面使用\u003ccode\u003eopen()\u003c/code\u003e创建一个新文件。现在，要使用\u003ccode\u003emode=\u0026#39;w\u0026#39;\u003c/code\u003e参数，这样能够打开一个文件对象，并可以使用“文件对象写入”方法。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eexfile = open(\u0026#39;example_file2\u0026#39;, \u0026#39;w\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(exfile)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926597909-file03.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e在上图中，可以当前文件对象是写入模式(‘ w ‘)，在下面的代码块中，我们将向这个文件中添加一行文本:\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eexfile.write(\u0026#39;This is example file 2 \\n\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e当然，也可以添加更多的行:\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eexfile.write(\u0026#39;Line number 2, in example file 2\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eexfile.close()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e注意，在最后一行务必要使用\u003ccode\u003eclose()\u003c/code\u003e 关闭文件。在下图中，我们可以看到用Python创建的示例文件。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926726878-file04.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e如何使用open()读取Python中的文本文件\u003c/p\u003e\n\u003cp\u003e在下一个用Python读取文件的示例中，我们将学习如何在Python中打开文本文件（.txt）。当然，这很简单，我们基本上已经掌握了如何使用Python实现这一目的。也就是说，如果我们只想在Python中读取.txt文件，我们可以使用open函数和read模式：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile = open(\u0026#39;example_file.txt\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003ch3 id=\"read-示例\"\u003e\u003ca href=\"#read-示例\" class=\"headerlink\" title=\"read()示例\"\u003e\u003c/a\u003eread()示例\u003c/h3\u003e\u003cp\u003e这个操作很简单。现在，如果我们想打印文本文件的内容，可以有三个方法。第一个，使用文件对象的\u003ccode\u003eread()\u003c/code\u003e方法，读取整个文件内容。也就是说，用\u003ccode\u003etxtfile.read()\u003c/code\u003e可以得到以下输出:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926871330-file05.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e第二个是用\u003ccode\u003ereadlines()\u003c/code\u003e将文件读取到列表中：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile = open(\u0026#39;example_file.txt\u0026#39;)  \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(txtfile.readlines())\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598926958528-file06.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e在这个方法中，还可以使用通过提供参数，说明读取某些行。例如，下面的代码将把前两行读入，然后将其打印出来：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile = open(\u0026#39;example_file.txt\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eline = txtfile.readlines(1)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(line)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eline2 = txtfile.readlines(2)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(line2)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598927028854-file07.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e最后一个方法，通过循环方式，把文件的内容逐行打印出来：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile = open(\u0026#39;example_file.txt\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003efor line in txtfile:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(line)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598927101308-file08.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"写入文件内容\"\u003e\u003ca href=\"#写入文件内容\" class=\"headerlink\" title=\"写入文件内容\"\u003e\u003c/a\u003e写入文件内容\u003c/h2\u003e\u003cp\u003e在示例中，打开一个\u003ccode\u003e.txt\u003c/code\u003e文件，并向其中以追加的方式增加内容，故需要用\u003ccode\u003e\u0026#39;a\u0026#39;\u003c/code\u003e模式打开。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eopen(\u0026#39;example_file2.txt\u0026#39;, \u0026#39;a\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e接下来，使用\u003ccode\u003ewrite()\u003c/code\u003e向其追加内容。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile.write(\u0026#39;\\n More text here.\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在添加文本时，至少在Windows 10中，必须在行前添加\u003ccode\u003e\\n\u003c/code\u003e。否则，新的一行将添加到最后一个字符的后面（在文件的最后一行）。如果我们要添加更多的行，也必须记住这样操作；\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile.write(‘\\nLast line of text, I promise.)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003etxtfile.close()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\n\u003cp\u003e可以使用文本编辑器(例如，Notepad, Gedit)打开文本文件，会看到添加的最后两行:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598927206346-file09.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"使用with语句\"\u003e\u003ca href=\"#使用with语句\" class=\"headerlink\" title=\"使用with语句\"\u003e\u003c/a\u003e使用with语句\u003c/h2\u003e\u003cp\u003e使用with语句打开文件是一个非常好的习惯，这样就不必记住关闭文件，并且使用with语句的语法清晰易读：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003ewith open(\u0026#39;example_file2.txt\u0026#39;) as txtfile2:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(txtfile2.read())\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598927307211-f1.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003cp\u003e现在，如果我们使用\u003ccode\u003eread()\u003c/code\u003e方法，Python会抛出ValueError:\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003etxtfile2.read()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003cimg src=\"https://gitee.com/qiwsir/images/raw/master/2020-9-1/1598927364414-f2.jpg\" alt=\"\"/\u003e\u003c/p\u003e\n\u003ch2 id=\"分词和统计\"\u003e\u003ca href=\"#分词和统计\" class=\"headerlink\" title=\"分词和统计\"\u003e\u003c/a\u003e分词和统计\u003c/h2\u003e\u003cp\u003e在读取文件后，可以使用字符串的\u003ccode\u003esplit()\u003c/code\u003e方法将文本文件中的句子分割成单词，然后用collections模块中的\u003ccode\u003eCounter\u003c/code\u003e类来统计打开的文件中的单词数量。\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efrom collections import Counter\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003ewith open(\u0026#39;example_file2.txt\u0026#39;) as txtfile2:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    wordcount = Counter(txtfile2.read().split())\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    \u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eprint(len(wordcount))\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e# Output: 43\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e现在，\u003ccode\u003eCounter\u003c/code\u003e类返回了一个字典，该字典包含所有单词和每个单词出现的次数。因此，可以这样来打印所有单词和单词总数：\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efor k in sorted(wordcount, key=wordcount.get, reverse=True):\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    print(k, wordcount[k])\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e在上面的代码示例中，我们循环遍历字典中的键并对它们进行排序。这样，就把最常见的词排在最上面。当然，如果用Python读取包含多个单词的文件、并像这样打印结果，这种操作就是不可行的。\u003c/p\u003e\n\u003cp\u003e以上介绍了以不同的模式读取文件、创建和写入文件、将数据追加到文件的方法，以及如何使用with语句读取文件。\u003c/p\u003e\n\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2020/08/26/svd-recommond-sys/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003e← \u003c/span\u003e\n        \n          初学者指南：利用SVD创建推荐系统\n        \n      \u003c/a\u003e\n    \n    \n      \u003ca class=\"nav-right\" href=\"/2020/09/11/data-science-enginerring/\"\u003e\n        \n          数据科学的软件工程技巧和最佳实践\n        \n        \u003cspan class=\"nav-arrow\"\u003e →\u003c/span\u003e\n      \u003c/a\u003e\n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- 打赏 START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          赏\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用支付宝打赏\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003e使用微信打赏\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003e若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- 打赏 END --\u003e\n    \u003c!-- 二维码 START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003e关注微信公众号，读文章、听课程，提升技能\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- 二维码 END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2020-09-04T00:00:00Z",
  "Author": "老齐教室"
}