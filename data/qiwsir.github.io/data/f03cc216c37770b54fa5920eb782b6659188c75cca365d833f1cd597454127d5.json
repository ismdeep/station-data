{
  "Source": "qiwsir.github.io",
  "Title": "å‰–æWebæŠ€æœ¯æ ˆï¼ˆä¸‰ï¼‰",
  "Link": "https://qiwsir.github.io/2020/04/29/web-stack-third/",
  "Content": "\u003carticle class=\"post-article\"\u003e\n    \u003ch2\u003eå‰–æWebæŠ€æœ¯æ ˆï¼ˆä¸‰ï¼‰\u003c/h2\u003e\n    \u003cp class=\"post-date\"\u003e2020-04-29\u003c/p\u003e\n    \u003csection class=\"markdown-content\"\u003e\u003cp\u003eä½œè€…ï¼šLeonardo Giordani\u003c/p\u003e\n\u003cp\u003eç¿»è¯‘ï¼šè€é½\u003c/p\u003e\n\u003cp\u003eä¸æœ¬æ–‡ç›¸å…³ä¹¦ç±æ¨èï¼šã€Šè·Ÿè€é½å­¦Pythonï¼šDjangoå®æˆ˜ã€‹\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/Django2%E7%AB%8B%E4%BD%93%E5%9B%BE_20200117164816.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003chr/\u003e\n\u003ch2 id=\"2-Webæ¡†æ¶\"\u003e\u003ca href=\"#2-Webæ¡†æ¶\" class=\"headerlink\" title=\"2 Webæ¡†æ¶\"\u003e\u003c/a\u003e2 Webæ¡†æ¶\u003c/h2\u003e\u003ch3 id=\"2-1åŸºæœ¬åŸç†\"\u003e\u003ca href=\"#2-1åŸºæœ¬åŸç†\" class=\"headerlink\" title=\"2.1åŸºæœ¬åŸç†\"\u003e\u003c/a\u003e2.1åŸºæœ¬åŸç†\u003c/h3\u003e\u003cp\u003eå¼€å§‹Webæ¡†æ¶ï¼\u003c/p\u003e\n\u003cp\u003eæ­£å¦‚æˆ‘å¤šæ¬¡è®¨è®ºè¿‡çš„ï¼ŒWebæ¡†æ¶çš„ä½œç”¨æ˜¯å°†HTTPè¯·æ±‚è½¬æ¢ä¸ºå‡½æ•°è°ƒç”¨ï¼Œå°†å‡½æ•°è¿”å›å€¼è½¬æ¢ä¸ºHTTPå“åº”ã€‚æ¡†æ¶çš„çœŸæ­£æœ¬è´¨æ˜¯ä¸€ä¸ªå±‚ï¼Œå®ƒé€šè¿‡HTTPå’Œç›¸å…³åè®®å°†å·¥ä½œçš„ä¸šåŠ¡é€»è¾‘è¿æ¥åˆ°Webã€‚è¯¥æ¡†æ¶è´Ÿè´£æˆ‘ä»¬çš„ä¼šè¯ç®¡ç†ï¼Œå¹¶å°†URLæ˜ å°„åˆ°å‡½æ•°ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸“æ³¨äºåº”ç”¨é€»è¾‘ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨HTTPæœåŠ¡çš„æ€»ä½“æ–¹æ¡ˆä¸­ï¼Œåº”è¯¥è¿™æ ·è®¤è¯†æ¡†æ¶ã€‚æ¡†æ¶æä¾›çš„ï¼Œæ¯”å¦‚è®¿é—®æ•°æ®åº“ã€æ¨¡æ¿å¼•æ“å’Œå…¶ä»–ç³»ç»Ÿçš„æ¥å£ï¼Œéƒ½æ˜¯ä¸€ä¸ªé™„åŠ åŠŸèƒ½ã€‚ä½œä¸ºç¨‹åºå‘˜ï¼Œä½ å¯èƒ½ä¼šå‘ç°è¿™ä¸ªé™„åŠ åŠŸèƒ½å¾ˆæœ‰ç”¨ï¼Œä½†åŸåˆ™ä¸Šå®ƒå¹¶ä¸æ˜¯æˆ‘ä»¬è¿ç”¨æ¡†æ¶çš„æ ¹æœ¬åŸå› ï¼Œæˆ‘ä»¬é¦–æ‰¹ç¾å›½æ¡†æ¶æ˜¯å› ä¸ºå®ƒå……å½“äº†ä¸šåŠ¡é€»è¾‘å’ŒHTTPä¹‹é—´çš„ä¸€ä¸ªå±‚ã€‚\u003c/p\u003e\n\u003ch3 id=\"2-2-å®æ–½\"\u003e\u003ca href=\"#2-2-å®æ–½\" class=\"headerlink\" title=\"2.2 å®æ–½\"\u003e\u003c/a\u003e2.2 å®æ–½\u003c/h3\u003e\u003cp\u003eå¤šäºäº†Miguel Gringbergæ’°å†™çš„Flaskè¶…çº§æ•™ç¨‹ï¼Œæˆ‘å¯ä»¥éå¸¸å¿«åœ°å­¦ä¼šFlaskã€‚æˆ‘ä¸ä¼šåœ¨è¿™é‡Œä»‹ç»æ•´ä¸ªæ•™ç¨‹ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ä»–çš„ç½‘ç«™ä¸Šé˜…è¯»ã€‚æˆ‘åªä½¿ç”¨ç¬¬ä¸€ç¯‡æ–‡ç« çš„å†…å®¹ï¼ˆå…±23ç¯‡ï¼ï¼‰åˆ›å»ºä¸€ä¸ªéå¸¸ç®€å•çš„â€œHelloï¼Œworldâ€åº”ç”¨ã€‚å¦å¤–ï¼ŒåŒæ ·çš„åº”ç”¨ä¹Ÿå¯ä»¥ç”¨Djangoå®ç°ï¼Œæ¨èä¹¦ç±ï¼šã€Šè·Ÿè€é½å­¦Pythonï¼šDjangoå®æˆ˜ã€‹ã€‚\u003c/p\u003e\n\u003cp\u003eè¦è¿è¡Œä¸‹é¢çš„ç¤ºä¾‹ï¼Œä½ éœ€è¦ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸”å¿…é¡»ä½¿ç”¨\u003ccode\u003epip install flask\u003c/code\u003eå®‰è£…ã€‚å¦‚æœä½ éœ€è¦æ›´å¤šå…³äºè¿™æ–¹é¢çš„ç»†èŠ‚ï¼Œè¯·é˜…è¯»ç›¸å…³æ•™ç¨‹ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eapp/__init__.py\u003c/code\u003e æ–‡ä»¶æ˜¯ï¼š\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efrom flask import Flask\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eapplication = Flask(__name__)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003efrom app import routes\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003e\u003ccode\u003eapp/routes.py\u003c/code\u003e æ–‡ä»¶æ˜¯ï¼š\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efrom app import application\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e@application.route(\u0026#39;/\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e@application.route(\u0026#39;/index\u0026#39;)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003edef index():\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    return \u0026#34;Hello, world!\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eä½ å·²ç»åœ¨è¿™é‡Œçœ‹åˆ°äº†ä¸€ä¸ªæ¡†æ¶çš„ä½œç”¨ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª\u003ccode\u003eindex\u003c/code\u003eå‡½æ•°ï¼Œå¹¶åœ¨3è¡ŒPythonä¸­å°†å®ƒä¸ä¸¤ä¸ªä¸åŒçš„URLï¼ˆ\u003ccode\u003e/\u003c/code\u003eå’Œ\u003ccode\u003e/index\u003c/code\u003eï¼‰è¿æ¥èµ·æ¥ã€‚è¿™ç»™æˆ‘ä»¬ç•™å‡ºäº†æ—¶é—´å’Œç²¾åŠ›æ¥æ­£ç¡®å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„â€œHello, worldâ€ã€‚\u003c/p\u003e\n\u003cp\u003eæœ€åï¼Œ\u003ccode\u003eservice.py\u003c/code\u003e æ–‡ä»¶æ˜¯ï¼š\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efrom app import application\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eFlaské™„å¸¦äº†ä¸€ä¸ªæ‰€è°“çš„webå¼€å‘æœåŠ¡å™¨(è¿™äº›è¯ç°åœ¨å¬èµ·æ¥ç†Ÿæ‚‰äº†å—?)ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä¸Šè¿è¡Œå®ƒ\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e$ FLASK_APP=service.py flask run\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e * Serving Flask app \u0026#34;service.py\u0026#34;\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e * Environment: production\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   WARNING: This is a development server. Do not use it in a production deployment.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e   Use a production WSGI server instead.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e * Debug mode: off\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç»™å®šçš„URLï¼Œå¹¶æŸ¥çœ‹ä¸€åˆ‡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚è¯·è®°ä½ï¼Œ127.0.0.1æ˜¯æŒ‡â€œè¿™å°è®¡ç®—æœºâ€çš„ç‰¹æ®ŠIPåœ°å€ï¼›æ“ä½œç³»ç»Ÿé€šå¸¸å°†åç§°\u003ccode\u003elocalhost\u003c/code\u003eä½œä¸ºæ­¤IPçš„åˆ«åï¼Œå› æ­¤è¿™ä¸¤ä¸ªåç§°å¯ä»¥äº’æ¢ã€‚å¦‚ä½ æ‰€è§ï¼ŒFlaskå¼€å‘æœåŠ¡å™¨çš„æ ‡å‡†ç«¯å£æ˜¯5000ï¼Œå› æ­¤ä½ å¿…é¡»æ˜ç¡®åœ°æåˆ°å®ƒï¼Œå¦åˆ™ä½ çš„æµè§ˆå™¨å°†å°è¯•è®¿é—®ç«¯å£80ï¼ˆé»˜è®¤çš„HTTPç«¯å£ï¼‰ã€‚å½“ä½ è¿æ¥åˆ°æµè§ˆå™¨æ—¶ï¼Œå°†çœ‹åˆ°å…³äºHTTPè¯·æ±‚çš„ä¸€äº›æ—¥å¿—æ¶ˆæ¯ã€‚\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e127.0.0.1 - - [14/Feb/2020 14:54:27] \u0026#34;GET / HTTP/1.1\u0026#34; 200 -\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e127.0.0.1 - - [14/Feb/2020 14:54:28] \u0026#34;GET /favicon.ico HTTP/1.1\u0026#34; 404 -\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eç°åœ¨ä½ å¯ä»¥åŒæ—¶è¯†åˆ«è¿™ä¸¤ä¸ªï¼Œå› ä¸ºè¿™ä¸æˆ‘ä»¬åœ¨æ–‡ç« å‰ä¸€éƒ¨åˆ†ä¸­ä½¿ç”¨å°æœåŠ¡å™¨å¾—åˆ°çš„è¯·æ±‚æ˜¯ç›¸åŒçš„ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/my_book4_20200116132005.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003ch3 id=\"2-3-å‚è€ƒèµ„æ–™\"\u003e\u003ca href=\"#2-3-å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"2.3 å‚è€ƒèµ„æ–™\"\u003e\u003c/a\u003e2.3 å‚è€ƒèµ„æ–™\u003c/h3\u003e\u003cp\u003eè¿™äº›å‚è€ƒèµ„æ–™ä¸ºæœ¬èŠ‚è®¨è®ºçš„ä¸»é¢˜æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world\" target=\"_blank\" rel=\"noopener\" title=\"Miguel Gringberg\u0026#39;s amazing Flask mega-tutorial\"\u003eMiguel Gringbergâ€™s amazing Flask mega-tutorial\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Localhost\" target=\"_blank\" rel=\"noopener\" title=\"What is localhost\"\u003eWhat is localhost\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/lgiordani/dissecting-a-web-stack-code/tree/master/2_web_framework\" target=\"_blank\" rel=\"noopener\" title=\"æœ¬ç¤ºä¾‹ä»£ç \"\u003eæœ¬ç¤ºä¾‹ä»£ç \u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-4-é—®é¢˜\"\u003e\u003ca href=\"#2-4-é—®é¢˜\" class=\"headerlink\" title=\"2.4 é—®é¢˜\"\u003e\u003c/a\u003e2.4 é—®é¢˜\u003c/h3\u003e\u003cp\u003eå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬è§£å†³äº†æ‰€æœ‰çš„é—®é¢˜ï¼Œå¾ˆå¤šç¨‹åºå‘˜å°±åˆ°æ­¤ä¸ºæ­¢ã€‚ä»–ä»¬å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨æ¡†æ¶ï¼ˆè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æˆå°±ï¼ï¼‰ï¼Œä½†æ­£å¦‚æˆ‘ä»¬å°†å¾ˆå¿«å‘ç°çš„ï¼Œè¿™å¯¹äºç”Ÿäº§ç³»ç»Ÿæ˜¯ä¸å¤Ÿçš„ã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹FlaskæœåŠ¡å™¨çš„è¾“å‡ºã€‚ä¸Šé¢æ¸…æ¥šåœ°å†™ç€ï¼š\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003eWARNING: This is a development server. Do not use it in a production deployment.\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eUse a production WSGI server instead.\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eæˆ‘ä»¬åœ¨å¤„ç†ä»»ä½•ç”Ÿäº§ç³»ç»Ÿæ—¶æ‰€é¢ä¸´çš„ä¸»è¦é—®é¢˜æ˜¯æ€§èƒ½ã€‚å½“æˆ‘ä»¬æœ€å°åŒ–ä»£ç æ—¶ï¼Œè€ƒè™‘ä¸€ä¸‹æˆ‘ä»¬å¦‚ä½•å¤„ç†JavaScriptï¼šæˆ‘ä»¬æœ‰æ„è¯†åœ°æ··æ·†ä»£ç ä»¥ä½¿æ–‡ä»¶æ›´å°ï¼Œä½†è¿™æ ·åšçš„å”¯ä¸€ç›®çš„æ˜¯ä½¿æ–‡ä»¶çš„è¯»å–é€Ÿåº¦æ›´å¿«ã€‚\u003c/p\u003e\n\u003cp\u003eå¯¹äºHTTPæœåŠ¡å™¨æ¥è¯´ï¼Œæƒ…å†µå¹¶ä¸æ˜¯å®Œå…¨ä¸åŒã€‚Webæ¡†æ¶é€šå¸¸æä¾›ä¸€ä¸ªWebå¼€å‘æœåŠ¡å™¨ï¼Œæ­£å¦‚Flaskæ‰€åšçš„é‚£æ ·ï¼Œå®ƒæ­£ç¡®åœ°å®ç°äº†HTTPï¼Œä½†æ˜¯æ•ˆç‡éå¸¸ä½ã€‚é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ä¸ªé˜»å¡æ¡†æ¶ï¼Œè¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬çš„è¯·æ±‚éœ€è¦å‡ ç§’é’Ÿæ‰èƒ½è¢«æœåŠ¡ï¼ˆä¾‹å¦‚ï¼Œå®¢æˆ·ç«¯ä»ä¸€ä¸ªéå¸¸æ…¢çš„æ•°æ®åº“æ£€ç´¢æ•°æ®ï¼‰ï¼Œé‚£ä¹ˆä»»ä½•å…¶ä»–è¯·æ±‚éƒ½å¿…é¡»æ’é˜Ÿç­‰å¾…æœåŠ¡ã€‚è¿™æœ€ç»ˆæ„å‘³ç€ç”¨æˆ·å°†åœ¨æµè§ˆå™¨çš„é€‰é¡¹å¡ä¸­çœ‹åˆ°ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼Œåªæ˜¯æ‘‡æ‘‡å¤´ï¼Œè®¤ä¸ºæˆ‘ä»¬ä¸èƒ½å»ºç«‹ä¸€ä¸ªç°ä»£ç½‘ç«™ã€‚å…¶ä»–æ€§èƒ½é—®é¢˜å¯èƒ½ä¸å†…å­˜ç®¡ç†æˆ–ç£ç›˜ç¼“å­˜æœ‰å…³ã€‚ä½†ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æŠŠæ¡åœ°è¯´ï¼Œæ­¤WebæœåŠ¡å™¨æ— æ³•å¤„ç†ä»»ä½•ç”Ÿäº§è´Ÿè½½ï¼ˆå³å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®webç«™ç‚¹å¹¶æœŸæœ›è‰¯å¥½çš„æœåŠ¡è´¨é‡ï¼‰ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™å¹¶ä¸å¥‡æ€ªã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬ä¸ºäº†ä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡ï¼Œä¸æƒ³å¤„ç†TCP/IPè¿æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†æ­¤å§”æ‰˜ç»™äº†ç»´æŠ¤æ¡†æ¶çš„å…¶ä»–ç¼–ç äººå‘˜ã€‚è€Œæ¡†æ¶çš„ä½œè€…åˆ™å¸Œæœ›å…³æ³¨ä¸­é—´ä»¶ã€è·¯ç”±ã€HTTPæ–¹æ³•çš„æ­£ç¡®å¤„ç†ç­‰ç­‰ã€‚ä»–ä»¬ä¸æƒ³èŠ±æ—¶é—´å»ä¼˜åŒ–â€œå¤šç”¨æˆ·â€ä½“éªŒçš„æ€§èƒ½ã€‚åœ¨Pythonä¸–ç•Œä¸­å°¤å…¶å¦‚æ­¤ï¼ˆä½†å¯¹äºNode.jsæ¥è¯´ï¼Œè¿™ä¸€ç‚¹å°±ä¸é‚£ä¹ˆé€‚ç”¨äº†ï¼‰ï¼šPythonä¸æ˜¯é«˜åº¦é¢å‘å¹¶å‘çš„ï¼Œç¼–ç¨‹é£æ ¼å’Œæ€§èƒ½éƒ½ä¸åˆ©äºå¿«é€Ÿã€æ— é˜»å¡çš„åº”ç”¨ç¨‹åºã€‚æœ€è¿‘ï¼Œéšç€å¼‚æ­¥å’Œè§£é‡Šå™¨çš„æ”¹è¿›ï¼Œè¿™ç§æƒ…å†µæ­£åœ¨å‘ç”Ÿå˜åŒ–ï¼Œä½†æˆ‘å°†è¿™ä¸ªé—®é¢˜ç•™åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­é˜è¿°ã€‚\u003c/p\u003e\n\u003cp\u003eæ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæˆç†Ÿçš„HTTPæœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒå˜å¾—å¦‚æ­¤ä¹‹å¿«ï¼Œä»¥è‡³äºç”¨æˆ·ç”šè‡³ä¸ä¼šæ³¨æ„åˆ°ï¼šå®ƒæ²¡æœ‰åœ¨ä»–ä»¬çš„è®¡ç®—æœºä¸Šæœ¬åœ°è¿è¡Œã€‚\u003c/p\u003e\n\u003ch2 id=\"3-æé«˜å¹¶å‘æ€§\"\u003e\u003ca href=\"#3-æé«˜å¹¶å‘æ€§\" class=\"headerlink\" title=\"3 æé«˜å¹¶å‘æ€§\"\u003e\u003c/a\u003e3 æé«˜å¹¶å‘æ€§\u003c/h2\u003e\u003ch3 id=\"3-1-åŸºæœ¬åŸç†\"\u003e\u003ca href=\"#3-1-åŸºæœ¬åŸç†\" class=\"headerlink\" title=\"3.1 åŸºæœ¬åŸç†\"\u003e\u003c/a\u003e3.1 åŸºæœ¬åŸç†\u003c/h3\u003e\u003cp\u003eå¦‚æœæ¯å½“ä½ é‡åˆ°æ€§èƒ½é—®é¢˜ï¼Œå°±æ±‚åŠ©äºå¹¶å‘ã€‚ç°åœ¨ä½ ä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼ï¼ˆè§æ­¤å¤„ï¼‰\u003c/p\u003e\n\u003cp\u003eæ˜¯çš„ï¼Œå¹¶å‘è§£å†³äº†è®¸å¤šé—®é¢˜ï¼Œä½†å®ƒä¹Ÿæ˜¯å¾ˆå¤šé—®é¢˜çš„æ ¹æºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§æœ€å®‰å…¨ã€ä¸é‚£ä¹ˆå¤æ‚çš„æ–¹æ³•æ¥ä½¿ç”¨å®ƒã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šå¯èƒ½å¸Œæœ›æ·»åŠ ä¸€ä¸ªå±‚ï¼Œè¿™ä¸ªå±‚ä»¥æŸç§å¹¶å‘æ–¹å¼è¿è¡Œæ¡†æ¶ï¼Œè€Œä¸éœ€è¦æ›´æ”¹æ¡†æ¶æœ¬èº«çš„ä»»ä½•å†…å®¹ã€‚\u003c/p\u003e\n\u003cp\u003eæ¯å½“ä½ ä¸å¾—ä¸ä½¿ä¸åŒçš„äº‹ç‰©åŒè´¨åŒ–çš„æ—¶å€™ï¼Œå°±åˆ›é€ å‡ºä¸€ä¸ªé—´æ¥çš„å±‚é¢ã€‚è¿™å‡ ä¹è§£å†³äº†ä»»ä½•é—®é¢˜ï¼Œåªæœ‰ä¸€ä¸ªé—®é¢˜é™¤å¤–ã€‚ï¼ˆè§æ­¤å¤„ï¼‰\u003c/p\u003e\n\u003cp\u003eå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå±‚ï¼Œè®©å®ƒä»¥å¹¶å‘æ–¹å¼è¿è¡Œæˆ‘ä»¬çš„æœåŠ¡ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¸Œæœ›å°†å…¶ä¸æœåŠ¡çš„ç‰¹å®šå®ç°åˆ†ç¦»ï¼Œè¿™ä¸æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æ¡†æ¶æˆ–åº“æ— å…³ã€‚\u003c/p\u003e\n\u003ch3 id=\"3-2-å®æ–½\"\u003e\u003ca href=\"#3-2-å®æ–½\" class=\"headerlink\" title=\"3.2 å®æ–½\"\u003e\u003c/a\u003e3.2 å®æ–½\u003c/h3\u003e\u003cp\u003eåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ç»™å‡ºWebæ¡†æ¶å¿…é¡»å…¬å¼€çš„APIè§„èŒƒï¼Œä»¥ä¾¿è®©ç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹ç»„ä»¶å¯ä»¥ä½¿ç”¨å®ƒã€‚åœ¨Pythonä¸–ç•Œä¸­ï¼Œè¿™ç»„è§„åˆ™è¢«å‘½åä¸ºWSGIï¼Œå³WebæœåŠ¡å™¨ç½‘å…³æ¥å£ï¼Œå¯¹äºå…¶ä»–è¯­è¨€ï¼ˆå¦‚Javaæˆ–Rubyï¼‰ï¼Œä¹Ÿå­˜åœ¨è¿™æ ·çš„æ¥å£ã€‚è¿™é‡Œæåˆ°çš„â€œç½‘å…³â€æ˜¯ç³»ç»Ÿæ¡†æ¶ä¹‹å¤–çš„éƒ¨åˆ†ï¼Œåœ¨æœ¬æ–‡ä¸­è®¨è®ºçš„æ˜¯å¤„ç†ç”Ÿäº§æ€§èƒ½çš„éƒ¨åˆ†ã€‚é€šè¿‡WSGIï¼Œæˆ‘ä»¬ä¸ºæ¡†æ¶å®šä¹‰äº†ä¸€ç§å…¬å¼€å…¬å…±æ¥å£çš„æ–¹å¼ï¼Œä½¿å¾—å¯¹å¹¶å‘æ„Ÿå…´è¶£çš„äººå¯ä»¥è‡ªç”±åœ°ç‹¬ç«‹å®ç°ä¸€äº›ä¸œè¥¿ã€‚\u003c/p\u003e\n\u003cp\u003eå¦‚æœæ¡†æ¶ä¸ç½‘å…³æ¥å£å…¼å®¹ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å¤„ç†å¹¶å‘æ€§çš„è½¯ä»¶ï¼Œå¹¶é€šè¿‡å…¼å®¹å±‚ä½¿ç”¨æ¡†æ¶ã€‚è¿™æ ·çš„ç»„ä»¶æ˜¯ä¸€ä¸ªå¯ç”¨äºç”Ÿäº§çš„HTTPæœåŠ¡å™¨ï¼Œåœ¨Pythonä¸–ç•Œä¸­æœ‰ä¸¤ä¸ªå¸¸è§çš„é€‰æ‹©æ˜¯Gunicornå’ŒuWSGIã€‚\u003c/p\u003e\n\u003cp\u003eå¯ç”¨äºç”Ÿäº§çš„HTTPæœåŠ¡å™¨æ„å‘³ç€è½¯ä»¶å¯ä»¥åƒå¼€å‘æœåŠ¡å™¨é‚£æ ·ç†è§£HTTPï¼Œä½†åŒæ—¶ä¸ºäº†æ”¯æŒæ›´å¤§çš„å·¥ä½œè´Ÿè½½è€Œæé«˜æ€§èƒ½ï¼Œæ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„ï¼Œè¿™æ˜¯é€šè¿‡å¹¶å‘å®Œæˆçš„ã€‚\u003c/p\u003e\n\u003cp\u003eFlaskä¸WSGIå…¼å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®©å®ƒä¸Gunicornä¸€èµ·å·¥ä½œã€‚è¦åœ¨æˆ‘ä»¬çš„è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å®ƒï¼Œè¯·è¿è¡Œ\u003ccode\u003epip install gunicorn\u003c/code\u003eï¼Œå¹¶è®¾ç½®å®ƒã€‚åˆ›å»ºä¸€ä¸ªåä¸º\u003ccode\u003ewsgi.py\u003c/code\u003eçš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003efrom app import application\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003eif __name__ == \u0026#34;__main__\u0026#34;:\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e    application.run()\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eè¦è¿è¡ŒGunicornï¼Œè¯·æŒ‡å®šå¹¶å‘å®ä¾‹çš„æ•°ç›®å’Œå¤–éƒ¨ç«¯å£\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e$ gunicorn --workers 3 --bind 0.0.0.0:8000 wsgi\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13393] [INFO] Starting gunicorn 20.0.4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13393] [INFO] Listening at: http://0.0.0.0:8000 (13393)\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13393] [INFO] Using worker: sync\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13396] [INFO] Booting worker with pid: 13396\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13397] [INFO] Booting worker with pid: 13397\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e[2020-02-12 18:39:07 +0000] [13398] [INFO] Booting worker with pid: 13398\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eå¦‚ä½ æ‰€è§ï¼ŒGunicornæœ‰workeræ¨¡å¼ï¼Œå®ƒæ˜¯å®ç°å¹¶å‘æ€§çš„ä¸€ç§é€šç”¨æ–¹æ³•ã€‚å…·ä½“æ¥è¯´ï¼ŒGunicornå®ç°äº†ä¸€ä¸ªpre-fork workeræ¨¡å¼ï¼Œè¿™æ„å‘³ç€å®ƒä¸ºæ¯ä¸ªworkeré¢„å…ˆåˆ›å»ºäº†ä¸€ä¸ªä¸åŒçš„Unixè¿›ç¨‹ã€‚ä½ å¯ä»¥ç”¨\u003ccode\u003eps\u003c/code\u003eå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ã€‚\u003c/p\u003e\n\u003cfigure class=\"highlight plain\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e$ ps ax | grep gunicorn\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14919 pts/1    S+     0:00 ~/venv3/bin/python3 ~/venv3/bin/gunicorn --workers 3 --bind 0.0.0.0:8000 wsgi\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14922 pts/1    S+     0:00 ~/venv3/bin/python3 ~/venv3/bin/gunicorn --workers 3 --bind 0.0.0.0:8000 wsgi\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14923 pts/1    S+     0:00 ~/venv3/bin/python3 ~/venv3/bin/gunicorn --workers 3 --bind 0.0.0.0:8000 wsgi\u003c/span\u003e\u003cbr/\u003e\u003cspan class=\"line\"\u003e14924 pts/1    S+     0:00 ~/venv3/bin/python3 ~/venv3/bin/gunicorn --workers 3 --bind 0.0.0.0:8000 wsgi\u003c/span\u003e\u003cbr/\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/figure\u003e\n\n\u003cp\u003eåœ¨Unixç³»ç»Ÿä¸­ï¼Œä½¿ç”¨è¿›ç¨‹åªæ˜¯å®ç°å¹¶å‘çš„ä¸¤ç§æ–¹æ³•ä¹‹ä¸€ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨çº¿ç¨‹ã€‚ç„¶è€Œï¼Œæ¯ç§è§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹å’Œç¼ºç‚¹éƒ½ä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ä¹‹å†…ã€‚ç›®å‰åªéœ€è®°ä½ï¼Œä½ æ­£åœ¨åº”å¯¹å¤šä¸ªworkerï¼Œè¿™äº›workerå¼‚æ­¥å¤„ç†ä¼ å…¥çš„è¯·æ±‚ï¼Œä»è€Œå®ç°ä¸€ä¸ªéé˜»å¡æœåŠ¡å™¨ï¼Œå‡†å¤‡æ¥å—å¤šä¸ªè¿æ¥ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90_20200209114241.png\" alt=\"\"/\u003e\u003c/p\u003e\n\u003ch3 id=\"3-3-å‚è€ƒèµ„æ–™\"\u003e\u003ca href=\"#3-3-å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"3.3 å‚è€ƒèµ„æ–™\"\u003e\u003c/a\u003e3.3 å‚è€ƒèµ„æ–™\u003c/h3\u003e\u003cp\u003eè¿™äº›èµ„æºä¸ºæœ¬èŠ‚è®¨è®ºçš„ä¸»é¢˜æä¾›äº†æ›´è¯¦ç»†çš„ä¿¡æ¯\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe \u003ca href=\"https://wsgi.readthedocs.io/en/latest/index.html\" target=\"_blank\" rel=\"noopener\" title=\"WSGI official documentation\"\u003eWSGI official documentation\u003c/a\u003e and the \u003ca href=\"https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface\" target=\"_blank\" rel=\"noopener\" title=\"Wikipedia page\"\u003eWikipedia page\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eThe homepages of \u003ca href=\"https://gunicorn.org/\" target=\"_blank\" rel=\"noopener\" title=\"Gunicorn\"\u003eGunicorn\u003c/a\u003e and \u003ca href=\"https://uwsgi-docs.readthedocs.io/en/latest/\" target=\"_blank\" rel=\"noopener\" title=\"uWSGI\"\u003euWSGI\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eA good entry point for your journey into the crazy world of concurrency: \u003ca href=\"https://en.wikipedia.org/wiki/Multithreading_(computer_architecture\" target=\"_blank\" rel=\"noopener\" title=\"multithreading\"\u003emultithreading\u003c/a\u003e).\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/lgiordani/dissecting-a-web-stack-code/tree/master/3_concurrency_and_facades\" target=\"_blank\" rel=\"noopener\" title=\"æœ¬ä¾‹ä»£ç \"\u003eæœ¬ä¾‹ä»£ç \u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"3-4-é—®é¢˜\"\u003e\u003ca href=\"#3-4-é—®é¢˜\" class=\"headerlink\" title=\"3.4 é—®é¢˜\"\u003e\u003c/a\u003e3.4 é—®é¢˜\u003c/h3\u003e\u003cp\u003eä½¿ç”¨Gunicornï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº†ä¸€ä¸ªç”¨äºç”Ÿäº§çš„HTTPæœåŠ¡å™¨ï¼Œå¹¶ä¸”æ˜¾ç„¶å®ç°äº†æˆ‘ä»¬éœ€è¦çš„ä¸€åˆ‡ã€‚ä¸è¿‡ï¼Œä»æœ‰è®¸å¤šè€ƒè™‘å› ç´ å’Œç¼ºå¤±çš„éƒ¨åˆ†ã€‚\u003c/p\u003e\n\u003ch3 id=\"å†å›åˆ°æ€§èƒ½\"\u003e\u003ca href=\"#å†å›åˆ°æ€§èƒ½\" class=\"headerlink\" title=\"å†å›åˆ°æ€§èƒ½\"\u003e\u003c/a\u003eå†å›åˆ°æ€§èƒ½\u003c/h3\u003e\u003cp\u003e3ä¸ªworkeræ˜¯å¦è¶³ä»¥æ”¯æ’‘æˆ‘ä»¬æ–°çš„æ€æ‰‹çº§çš„ç§»åŠ¨åº”ç”¨ç¨‹åºçš„è´Ÿè½½ï¼Ÿé¢„è®¡æ¯åˆ†é’Ÿæœ‰æˆåƒä¸Šä¸‡çš„è®¿é—®è€…ï¼Œæ‰€ä»¥ä¹Ÿè®¸æˆ‘ä»¬åº”è¯¥å¢åŠ ä¸€äº›çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬å¢åŠ çº¿ç¨‹çš„æ•°é‡æ—¶ï¼Œå¿…é¡»è®°ä½ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æœºå™¨å…·æœ‰æœ‰é™çš„CPUåŠŸç‡å’Œå†…å­˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å†æ¬¡å…³æ³¨æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯ä¼¸ç¼©æ€§ï¼šå¦‚ä½•åœ¨ä¸åœæ­¢åº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹ç»§ç»­æ·»åŠ çº¿ç¨‹ï¼Œç”¨æ›´å¼ºå¤§çš„ç”µè„‘æ›¿æ¢ç°æœ‰çš„ç”µè„‘ï¼Œè¿˜æ˜¯é‡æ–°å¯åŠ¨æœåŠ¡ï¼Ÿ\u003c/p\u003e\n\u003ch3 id=\"ç§¯æè¿æ¥å˜åŒ–\"\u003e\u003ca href=\"#ç§¯æè¿æ¥å˜åŒ–\" class=\"headerlink\" title=\"ç§¯æè¿æ¥å˜åŒ–\"\u003e\u003c/a\u003eç§¯æè¿æ¥å˜åŒ–\u003c/h3\u003e\u003cp\u003eè¿™ä¸æ˜¯æˆ‘ä»¬åœ¨ç”Ÿäº§ä¸­å¿…é¡»é¢å¯¹çš„å”¯ä¸€é—®é¢˜ã€‚æŠ€æœ¯çš„ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯ï¼šéšç€æ–°çš„ã€ï¼ˆå¸Œæœ›æ˜¯ï¼‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆçš„æ™®åŠï¼Œå®ƒä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ã€‚æˆ‘ä»¬è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œé€šå¸¸å°½å¯èƒ½æŠŠå®ƒä»¬åˆ’åˆ†ä¸ºå¤šä¸ªé€šä¿¡å±‚ï¼Œæ­£æ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè‡ªç”±åœ°ç”¨å…¶ä»–çš„ä¸œè¥¿æ¥æ›¿æ¢ä¸€ä¸ªå±‚ï¼Œæ— è®ºæ˜¯ç”¨æ›´ç®€å•çš„ç»„ä»¶è¿˜æ˜¯æ›´é«˜çº§çš„ç»„ä»¶ï¼Œä¸€ä¸ªæ€§èƒ½æ›´å¥½çš„ç»„ä»¶ï¼Œæˆ–è€…å¯èƒ½åªæ˜¯ä¸€ä¸ªæ›´ä¾¿å®œçš„ç»„ä»¶ã€‚æ‰€ä»¥ï¼Œå†ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¼˜åŒ–åº•å±‚ç³»ç»Ÿï¼Œä½†è¦ä¿æŒç›¸åŒçš„ç•Œé¢ï¼Œå°±åƒæˆ‘ä»¬åœ¨Webæ¡†æ¶ä¸­æ‰€åšçš„é‚£æ ·ã€‚\u003c/p\u003e\n\u003ch3 id=\"HTTPS\"\u003e\u003ca href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"\u003e\u003c/a\u003eHTTPS\u003c/h3\u003e\u003cp\u003eç³»ç»Ÿä¸­ç¼ºå°‘çš„å¦ä¸€éƒ¨åˆ†æ˜¯HTTPSã€‚Gunicornå’ŒuWSGIä¸æ”¯æŒHTTPSåè®®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¦å¤–æœ‰ä¸€äº›ä¸œè¥¿æ¥å¤„ç†åè®®çš„â€œSâ€éƒ¨åˆ†ï¼Œå°†â€œHTTPâ€éƒ¨åˆ†ç•™ç»™å†…éƒ¨å±‚ã€‚\u003c/p\u003e\n\u003ch3 id=\"è´Ÿè½½å‡è¡¡å™¨\"\u003e\u003ca href=\"#è´Ÿè½½å‡è¡¡å™¨\" class=\"headerlink\" title=\"è´Ÿè½½å‡è¡¡å™¨\"\u003e\u003c/a\u003eè´Ÿè½½å‡è¡¡å™¨\u003c/h3\u003e\u003cp\u003eä¸€èˆ¬æ¥è¯´ï¼Œè´Ÿè½½å‡è¡¡åªæ˜¯ç³»ç»Ÿä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒå°†å·¥ä½œåˆ†é…ç»™ä¸€ä¸ªçº¿ç¨‹æ± ã€‚Gunicornå·²ç»å¯ä»¥åœ¨å®ƒçš„å·¥ä½œçº¿ç¨‹ä¹‹é—´åˆ†é…è´Ÿè½½äº†ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸å¸Œæœ›åœ¨æ›´å¤§çš„å±‚æ¬¡ä¸Šï¼Œåœ¨æœºå™¨ä¹‹é—´æˆ–è€…æ•´ä¸ªç³»ç»Ÿä¹‹é—´è¿™æ ·åšã€‚è´Ÿè½½å‡è¡¡å¯ä»¥æ˜¯åˆ†å±‚çš„ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å¤šä¸ªçº§åˆ«ä¸Šè¿›è¡Œç»“æ„åŒ–ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç³»ç»Ÿçš„æŸäº›ç»„ä»¶æ ‡è®°ä¸ºå‡†å¤‡æ¥å—æ›´å¤šçš„è´Ÿè½½ï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºå®ƒä»¬çš„ç¡¬ä»¶æ›´å¥½ï¼‰ã€‚è´Ÿè½½å‡è¡¡åœ¨ç½‘ç»œæœåŠ¡ä¸­æ˜¯éå¸¸é‡è¦çš„ï¼Œè€Œä¸”è´Ÿè½½çš„å®šä¹‰åœ¨ä¸åŒçš„ç³»ç»Ÿä¹‹é—´å¯èƒ½æœ‰å¾ˆå¤§çš„ä¸åŒï¼šä¸€èˆ¬æ¥è¯´ï¼Œåœ¨WebæœåŠ¡ä¸­ï¼Œè¿æ¥çš„æ•°é‡æ˜¯è´Ÿè½½çš„æ ‡å‡†åº¦é‡ï¼Œå› ä¸ºæˆ‘ä»¬å‡è®¾ï¼šå¹³å‡æ¥è¯´ï¼Œæ‰€æœ‰è¿æ¥éƒ½ä¼šç»™ç³»ç»Ÿå¸¦æ¥ç›¸åŒçš„è´Ÿè·ã€‚\u003c/p\u003e\n\u003ch3 id=\"åå‘ä»£ç†\"\u003e\u003ca href=\"#åå‘ä»£ç†\" class=\"headerlink\" title=\"åå‘ä»£ç†\"\u003e\u003c/a\u003eåå‘ä»£ç†\u003c/h3\u003e\u003cp\u003eè´Ÿè½½å‡è¡¡æ˜¯è½¬å‘ä»£ç†ï¼Œå› ä¸ºå®ƒä»¬å…è®¸å®¢æˆ·ç«¯è”ç³»æ± ä¸­çš„ä»»ä½•æœåŠ¡å™¨ã€‚åŒæ—¶ï¼Œåå‘ä»£ç†å…è®¸å®¢æˆ·ç«¯é€šè¿‡åŒä¸€å…¥å£ç‚¹æ£€ç´¢å¤šä¸ªç³»ç»Ÿç”Ÿæˆçš„æ•°æ®ã€‚åå‘ä»£ç†æ˜¯ä¸€ä¸ªå®Œç¾çš„æ–¹æ³•ï¼Œå®ƒå°†HTTPè¯·æ±‚è½¬å‘åˆ°å¯ä»¥ç”¨ä¸åŒæŠ€æœ¯å®ç°çš„å­ç³»ç»Ÿï¼Œä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›ç”¨Pythonã€Djangoå’ŒPostgreså®ç°ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œç”¨Goè¯­è¨€ä¸­çš„AWS Lambdaå‡½æ•°å®ç°å¦ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸éå…³ç³»æ•°æ®åº“ï¼ˆå¦‚DynamoDBï¼‰è¿æ¥ã€‚é€šå¸¸ï¼Œåœ¨HTTPæœåŠ¡ä¸­ï¼Œè¿™ä¸ªé€‰æ‹©æ˜¯æ ¹æ®URLåšå‡ºçš„ï¼ˆä¾‹å¦‚ï¼Œè·¯ç”±ä»¥/api/å¼€å¤´çš„æ¯ä¸ªURLï¼‰ã€‚\u003c/p\u003e\n\u003ch3 id=\"é€»è¾‘å±‚\"\u003e\u003ca href=\"#é€»è¾‘å±‚\" class=\"headerlink\" title=\"é€»è¾‘å±‚\"\u003e\u003c/a\u003eé€»è¾‘å±‚\u003c/h3\u003e\u003cp\u003eæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå¯ä»¥å®ç°ä¸€å®šæ•°é‡é€»è¾‘çš„å±‚æ¥ç®¡ç†ç®€å•è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ä¸æˆ‘ä»¬å®ç°çš„æœåŠ¡æ— å…³ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯HTTPé‡å®šå‘:å¦‚æœç”¨æˆ·è®¿é—®æœåŠ¡æ—¶ä½¿ç”¨çš„å‰ç¼€æ˜¯http://è€Œä¸æ˜¯https://ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆ?æ­£ç¡®çš„æ–¹æ³•æ˜¯é€šè¿‡HTTP 301ä»£ç æ¥å¤„ç†é—®é¢˜ï¼Œä½†æ˜¯ä½ ä¸å¸Œæœ›è¿™æ ·çš„è¯·æ±‚å½±å“ä½ çš„æ¡†æ¶ï¼Œè¿™æ ·ç®€å•çš„ä»»åŠ¡ä¼šæµªè´¹èµ„æºã€‚\u003c/p\u003e\n\u003cp\u003eï¼ˆæœªå®Œï¼Œå¾…ç»­ï¼‰\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eé˜…è¯»é“¾æ¥\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæœç´¢æŠ€æœ¯é—®ç­”çš„å…¬ä¼—å·ï¼šè€é½æ•™å®¤\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼š\u003cstrong\u003eè€é½\u003c/strong\u003eï¼Œå¯æŸ¥çœ‹æ‰€æœ‰æ–‡ç« ã€ä¹¦ç±ã€è¯¾ç¨‹ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp style=\"text-align:right\"\u003e\u003cstrong style=\"max-width: 100%;color: rgb(255, 255, 255);background-color: rgb(234, 6, 13);box-sizing: border-box !important;overflow-wrap: break-word !important;\"\u003eè§‰å¾—å¥½çœ‹ï¼Œå°±ç‚¹è¿™é‡ŒğŸ‘‡ğŸ‘‡ğŸ‘‡\u003c/strong\u003e\u003c/p\u003e\u003c/section\u003e\n    \u003c!-- Tags START --\u003e\n    \n    \u003c!-- Tags END --\u003e\n    \u003c!-- NAV START --\u003e\n    \n  \u003cdiv class=\"nav-container\"\u003e\n    \u003c!-- reverse left and right to put prev and next in a more logic postition --\u003e\n    \n      \u003ca class=\"nav-left\" href=\"/2020/04/28/logistic-notebook/\"\u003e\n        \u003cspan class=\"nav-arrow\"\u003eâ† \u003c/span\u003e\n        \n          ã€logisticå›å½’ã€‘ç¬”è®°\n        \n      \u003c/a\u003e\n    \n    \n      \u003ca class=\"nav-right\" href=\"/2020/04/30/number-in-python/\"\u003e\n        \n          åˆå­¦è€…é¡»çŸ¥ï¼šPythoné‡Œçš„æ•°\n        \n        \u003cspan class=\"nav-arrow\"\u003e â†’\u003c/span\u003e\n      \u003c/a\u003e\n    \n  \u003c/div\u003e\n\n    \u003c!-- NAV END --\u003e\n    \u003c!-- æ‰“èµ START --\u003e\n    \n      \u003cdiv class=\"money-like\"\u003e\n        \u003cdiv class=\"reward-btn\"\u003e\n          èµ\n          \u003cspan class=\"money-code\"\u003e\n            \u003cspan class=\"alipay-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003eä½¿ç”¨æ”¯ä»˜å®æ‰“èµ\u003c/b\u003e\n            \u003c/span\u003e\n            \u003cspan class=\"wechat-code\"\u003e\n              \u003cdiv class=\"code-image\"\u003e\u003c/div\u003e\n              \u003cb\u003eä½¿ç”¨å¾®ä¿¡æ‰“èµ\u003c/b\u003e\n            \u003c/span\u003e\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cp class=\"notice\"\u003eè‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ\u003c/p\u003e\n      \u003c/div\u003e\n    \n    \u003c!-- æ‰“èµ END --\u003e\n    \u003c!-- äºŒç»´ç  START --\u003e\n    \u003c!--% if (theme.qrcode) { %--\u003e\n      \u003cdiv class=\"qrcode\"\u003e\n        \u003c!--canvas id=\"share-qrcode\"\u003e\u003c/!--canvas--\u003e\n        \u003cimg src=\"https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg\" width=\"400\"/\u003e\n        \u003cp class=\"notice\"\u003eå…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼Œè¯»æ–‡ç« ã€å¬è¯¾ç¨‹ï¼Œæå‡æŠ€èƒ½\u003c/p\u003e\n      \u003c/div\u003e\n    \u003c!--% } %--\u003e\n    \u003c!-- äºŒç»´ç  END --\u003e\n    \n      \u003c!-- No Comment --\u003e\n    \n  \u003c/article\u003e",
  "Date": "2020-04-29T00:00:00Z",
  "Author": "è€é½æ•™å®¤"
}