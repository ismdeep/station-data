{
  "Source": "tech.meituan.com",
  "Title": "ç§¯æœ¨Sketch Pluginï¼šè®¾è®¡åŒå­¦çš„è´´å¿ƒæ­æ¡£",
  "Link": "https://tech.meituan.com/2020/05/21/waimai-sketch-plugin.html",
  "Content": "\u003cdiv class=\"post-content\"\u003e\u003cdiv class=\"content\"\u003e\u003cp\u003e| A consistent experience is a better experience.â€”â€”Mark Eberman\n| ä¸€è‡´çš„ä½“éªŒæ˜¯æ›´å¥½çš„ä½“éªŒã€‚â€”â€”Mark Eberman ã€Šæ‘˜è‡ªè®¾è®¡å¸ˆçš„16å¥åè¨€ã€‹\u003c/p\u003e\u003ch2 id=\"èƒŒæ™¯\"\u003eèƒŒæ™¯\u003c/h2\u003e\u003ch3 id=\"1-uiä¸€è‡´æ€§é¡¹ç›®\"\u003e1.UIä¸€è‡´æ€§é¡¹ç›®\u003c/h3\u003e\u003cp\u003eç§¯æœ¨ï¼ˆTangramï¼‰Sketchæ’ä»¶æºäºç¾å›¢å¤–å–UIçš„ä¸€è‡´æ€§é¡¹ç›®ï¼Œè¯¥é¡¹ç›®è‡ª2019å¹´5æœˆä»½è¢«æå‡ºï¼Œæ˜¯UIè®¾è®¡å›¢é˜Ÿä¸ç ”å‘å›¢é˜Ÿå…±å»ºçš„é¡¹ç›®ï¼Œç›®çš„æ˜¯æ”¹å–„ç”¨æˆ·ç«¯ä½“éªŒçš„ä¸€è‡´æ€§ï¼Œæå‡å¤šæŠ€æœ¯æ–¹æ¡ˆé—´ç»„ä»¶çš„é€šç”¨æ€§å’Œå¤ç”¨ç‡ï¼Œæ•´ä½“é™ä½è§†è§‰æ”¹ç‰ˆçš„ç ”å‘æˆæœ¬ã€‚\u003c/p\u003e\u003cp\u003eä¸€ç›´ä»¥æ¥ï¼Œå¤–å–ä¸šåŠ¡éƒ½å¤„äºé«˜é€Ÿå‘å±•é˜¶æ®µï¼Œäººå‘˜è§„æ¨¡åœ¨ä¸æ–­æ‰©å¤§ï¼Œé¡¹ç›®å¤æ‚åº¦åœ¨æŒç»­å¢åŠ ã€‚ç›®å‰å¹³å°æ‰¿è½½äº†ç¾å›¢é¤é¥®ã€å•†è¶…ã€é—ªè´­ã€è·‘è…¿ã€è¯å“ç­‰å¤šä¸ªä¸šåŠ¡å“ç±»ï¼Œç”¨æˆ·å…¥å£ä¹Ÿè¦†ç›–äº†ç¾å›¢Appå¤–å–é¢‘é“ã€å¤–å–Appã€å¤§ä¼—ç‚¹è¯„ç­‰å¤šä¸ªç‹¬ç«‹åº”ç”¨ã€‚å› ä¸ºå®¢æˆ·ç«¯ä¸€ç›´æ¯”è¾ƒä¾§é‡ä¸šåŠ¡å¼€å‘ï¼Œä¸ºäº†æ»¡è¶³ä¸šåŠ¡å¿«é€Ÿä¸Šçº¿çš„éœ€æ±‚ï¼ŒUIç»„ä»¶å¹¶æ²¡æœ‰ç»Ÿä¸€çš„å®ç°ï¼Œè€Œæ˜¯åˆ†æ•£åˆ°å„ä¸ªä¸šåŠ¡åœºæ™¯ä¸­ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å› UIç¼ºä¹åŒä¸€çš„æ ‡å‡†è€Œå¯¼è‡´ä»¥ä¸‹é—®é¢˜ä¸æ–­å‡¸æ˜¾ï¼š\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eUI/UEå±‚é¢\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eâ‘  UIç¼ºä¹æ ‡å‡†åŒ–çš„è®¾è®¡è§„èŒƒï¼Œåœ¨ä¸åŒAppåŠä¸åŒè¯­è¨€å¹³å°ä¸Šè®¾è®¡é£æ ¼ä¸ç»Ÿä¸€ï¼Œç”¨æˆ·ä½“éªŒä¸ä¸€è‡´ã€‚\u003c/p\u003e\u003cp\u003eâ‘¡ è®¾è®¡èµ„æºä¸ä»£ç å‡ç¼ºä¹ç»Ÿä¸€çš„ç®¡ç†æ‰‹æ®µï¼Œæ— æ³•å®ç°ç§¯ç´¯æ²‰æ·€ï¼Œæ— æ³•é€‚åº”æ–°ä¸šåŠ¡çš„å¼€å‘éœ€æ±‚ã€‚\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eRDå±‚é¢\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eâ‘  ç»„ä»¶ä»£ç å®ç°ç¢ç‰‡åŒ–ï¼Œå­˜åœ¨å¤šæ¬¡å¼€å‘çš„æƒ…å†µï¼Œè´¨é‡éš¾ä»¥å¾—åˆ°ä¿è¯ã€‚\u003c/p\u003e\u003cp\u003eâ‘¡ å„ç«¯ä»£ç APIä¸ç»Ÿä¸€ï¼Œç»´æŠ¤æ‹“å±•æˆæœ¬è¾ƒé«˜ï¼Œå˜æ›´ä¸»é¢˜ã€é€‚é…Dark Modeç­‰éœ€æ±‚éš¾ä»¥å®ç°ã€‚\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eQAå±‚é¢\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eé‡å¤èµ°æŸ¥ï¼Œé¢‘ç¹å›å½’ï¼Œæ¯æ¬¡å‘ç‰ˆå‡éœ€éªŒè¯ç»„ä»¶è´¨é‡ã€‚\u003c/p\u003e\u003cp\u003e\u003cstrong\u003ePMå±‚é¢\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eç‰ˆæœ¬è¿­ä»£æ•ˆç‡ä½ï¼Œç‰ˆæœ¬éœ€æ±‚ååé‡ä½ï¼Œä¸èƒ½æ»¡è¶³ä¸šåŠ¡çš„å¿«é€Ÿæ‹“å±•èƒ½åŠ›ã€‚\u003c/p\u003e\u003cp\u003eåŸºäºä¸Šè¿°å¼€å‘å·¥ä½œä¸­çš„åˆ‡å®ç—›ç‚¹ï¼Œä»¥åŠæœªæ¥å¯é¢„è§çš„å¯¹å®¢æˆ·ç«¯èƒ½åŠ›çš„å¼€å‘éœ€æ±‚ï¼Œæˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€å¥—ç»Ÿä¸€çš„UIè®¾è®¡è§„èŒƒï¼Œä»¥æ­¤æ²‰æ·€å‡ºè®¾è®¡é£æ ¼ï¼Œå»ºç«‹ç»Ÿä¸€çš„UIè®¾è®¡æ ‡å‡†ï¼Œä»è€ŒæŠ½ç¦»æˆç†Ÿçš„ä¸šåŠ¡åœºæ™¯ï¼Œæä¾›é«˜è´¨é‡ã€å¯æ‰©å±•ã€å¯ç»Ÿä¸€é…ç½®çš„åŒæ—¶èƒ½åŸºäºAndroid/iOS/MRN/Machç»„ä»¶å¼€å‘çš„ä»£ç åº“ï¼Œä¸”å…·å¤‡æ”¯æŒå¤šä¸šåŠ¡é«˜å±‚æ¬¡çš„ä»£ç å¤ç”¨èƒ½åŠ›ï¼Œæé«˜UIä¸šåŠ¡çš„ä¸­å°èƒ½åŠ›ï¼Œä½¿é¡¹ç›®å…·æœ‰é«˜åº¦ä¸€è‡´æ€§ã€‚\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬é€šè¿‡ç§¯æœ¨Sketchæ’ä»¶æ¥è½åœ°è®¾è®¡è§„èŒƒï¼Œå¯ä»¥ä¿è¯è®¾è®¡å…ƒç´ å‡ä»æ—¢å®šè®¾è®¡æ ‡å‡†ä¸­è·å–ï¼Œäº§å‡ºç¬¦åˆä¸šåŠ¡è®¾è®¡è¯­è¨€çš„è®¾è®¡ç¨¿ï¼Œè€Œå„å¹³å°UIç»„ä»¶åº“ä¸­ä¹Ÿæœ‰å¯¹åº”å®ç°ï¼Œä»è€Œä½¿ç§¯æœ¨æ’ä»¶æˆä¸ºUIä¸€è‡´æ€§çš„æŠ“æ‰‹ï¼Œæœ€ç»ˆå¯ä»¥å‡å°‘å¼€å‘æˆæœ¬ï¼Œæå‡äº¤ä»˜è´¨é‡ï¼ŒæœåŠ¡å¥½æˆ‘ä»¬ç¾å›¢çš„å¤šä¸ªä¸šåŠ¡å›¢é˜Ÿã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/6a42e6ff5e69a73d205af7c7f5d913ba192513.png\" alt=\"å¤–å–UIä¸€è‡´æ€§é¡¹ç›®\"/\u003e\u003c/p\u003e\u003ch3 id=\"2-sketch-sketch-plugin\"\u003e2. Sketch \u0026amp; Sketch Plugin\u003c/h3\u003e\u003cp\u003eè¦æƒ³ä¿æŒUIä¸€è‡´æ€§ï¼Œå°±ä¸èƒ½æ‰“ç ´è§„åˆ™ã€‚ä»è®¾è®¡é˜¶æ®µé¢œè‰²çš„é€‰æ‹©ã€å­—ä½“çš„è§„èŒƒã€æ§ä»¶çš„æ ·å¼åˆ°RDå¼€å‘é˜¶æ®µä»£ç çš„ç»Ÿä¸€ç®¡ç†ã€APIçš„åˆ¶å®šã€å¤šç«¯çš„å®ç°æ–¹å¼ï¼Œéƒ½å¿…é¡»éµå®ˆä¸€å¥—è§„åˆ™ï¼Œè€ŒSketch Pluginå»ºè®¾åˆ™æ˜¯è®©è§„èŒƒè½åœ°æ‰§è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚\u003c/p\u003e\u003cp\u003eåœ¨è®¨è®ºå…¶é‡è¦æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆç®€å•ä»‹ç»ä¸€ä¸‹Sketchï¼šSketchæ˜¯ä¸€ä¸ªè®¾è®¡å·¥å…·åŒ…ï¼Œç”±æ€»éƒ¨ä½äºè·å…°æµ·ç‰™çš„BohemianCodingå›¢é˜Ÿå¼€å‘ï¼Œè¯¥å›¢é˜Ÿæˆå‘˜ç›®å‰ä¸è¶³ç™¾äººï¼Œæ¥è‡ªå…¨çƒå¤šä¸ªå›½å®¶ï¼Œé€šè¿‡äº’è”ç½‘è¿œç¨‹åä½œå¼€å‘ï¼Œå±äºå…¸å‹çš„é«˜æ•ˆå¼€å‘å›¢é˜Ÿã€‚\u003c/p\u003e\u003cp\u003eSketchå®¹æ˜“ç†è§£ä¸”ä¸Šæ‰‹ç®€å•ï¼›å¯ä¸å›¢é˜Ÿä¸­çš„æ¯ä¸ªäººåˆ›å»ºã€æ›´æ–°å’Œå…±äº«æ‰€æœ‰Symbolç»„ä»¶ï¼Œå®ç°è®¾è®¡èµ„æºçš„å…±äº«å’Œç‰ˆæœ¬ç®¡ç†ï¼Œä»æ­¤å‘Šåˆ«â€œfinal-final-final-1â€ï¼›å…¶ç‰ˆæœ¬è¿­ä»£é€Ÿåº¦éå¸¸å¿«ï¼Œä¸”èƒ½ä¸æ–­æ·»åŠ æ–°åŠŸèƒ½ï¼Œæ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ï¼Œæ›´ç¬¦åˆäº’è”ç½‘æ—¶ä»£ï¼›Sketchå¯ä»¥ä½¿ç”¨çœŸå®æ•°æ®è¿›è¡Œè®¾è®¡ã€‚ç›®å‰ï¼Œæˆ‘ä»¬è®¾è®¡å›¢é˜Ÿå·²ç»å…¨é¢ä½¿ç”¨Sketchè¿›è¡Œè®¾è®¡ã€‚\u003c/p\u003e\u003cp\u003eè®¾è®¡è¯­è¨€åŒ…æ‹¬Iconfontã€è‰²æ¿ã€æ–‡å­—è§„èŒƒã€è¯æœ¯ã€æ’ç”»ã€åŠ¨ç”»ã€ç»„ä»¶ç­‰ã€‚å…¶å®å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ¯”å¦‚å¤§å®¶æåˆ°â€œç¾å›¢â€å°±ä¼šæƒ³èµ·â€œç¾å›¢é»„â€ï¼Œæƒ³åˆ°å¯çˆ±çš„â€œè¢‹é¼ â€ï¼Œæƒ³åˆ°é‚£äº›éª‘ç€æ‘©æ‰˜è½¦ã€ç©¿ç€å°æœ‰â€œç¾å›¢å¤–å–â€äº®é»„è‰²è¡£æœçš„éª‘æ‰‹å°å“¥ã€‚é€šè¿‡è®¾è®¡è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ä¼ è¾¾å“ç‰Œä¸»å¼ å’Œè®¾è®¡ç†å¿µã€‚UIå›¢é˜Ÿé€æ­¥å°†è®¾è®¡è¯­è¨€æ²‰æ·€ä¸ºè®¾è®¡è§„èŒƒï¼Œå¹¶å°†å…¶é‡åŒ–å†…ç½®äºç§¯æœ¨Sketch Pluginä¸­ï¼Œä½¿äº§å‡ºçš„è®¾è®¡ç¨¿å’ŒRDä»£ç åº“ä¸­çš„ç»„ä»¶ä¸€ä¸€å¯¹åº”ï¼Œä»è€Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„é—­ç¯ï¼Œè¿›è€Œå¯åŠ é€Ÿæ•´ä¸ªä¸šåŠ¡çš„äº¤ä»˜æµç¨‹ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/f3402244f32310f4f8761d7642d3446c80781.png\" alt=\"ä½¿ç”¨Sketch Pluginå¯ä»¥å¿«é€Ÿè®¾è®¡å‡ºæ ‡å‡†é¡µé¢\"/\u003e\u003c/p\u003e\u003ch3 id=\"3-ç§¯æœ¨sketch-æ’ä»¶é¡¹ç›®\"\u003e3. ç§¯æœ¨Sketch æ’ä»¶é¡¹ç›®\u003c/h3\u003e\u003cp\u003eå…¶å®ï¼Œå¸‚é¢ä¸Šå·²å­˜åœ¨ç±»ä¼¼æ’ä»¶ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦è‡ªå·±åŠ¨æ‰‹å¼€å‘å‘¢ï¼Ÿå› ä¸ºUIè®¾è®¡è¯­è¨€ä¸è‡ªèº«ä¸šåŠ¡å…³è”æ€§å¾ˆå¼ºï¼Œä¸åŒä¸šåŠ¡çš„è‰²å½©ç³»ç»Ÿã€å›¾å½¢ã€æ …æ ¼ç³»ç»Ÿã€æŠ•å½±ç³»ç»Ÿã€å›¾æ–‡å…³ç³»åƒå·®ä¸‡åˆ«ï¼Œå…¶ä¸­ä»»æ„ä¸€ç¯çš„ç¼ºå¤±éƒ½ä¼šå¯¼è‡´ä¸€è‡´æ€§è¢«ç ´åã€‚ç°æœ‰æ’ä»¶æ‰€æä¾›çš„é€šç”¨è®¾è®¡å…ƒç´ æ— æ³•æ»¡è¶³å¤–å–è®¾è®¡å›¢é˜Ÿçš„éœ€æ±‚ï¼Œå¼€å‘ä¸€æ¬¾å¯ä»¥ä¸ä¸šåŠ¡å¼ºå…³è”ä¸”åŠŸèƒ½å¯å®šåˆ¶çš„æ’ä»¶ï¼Œæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚\u003c/p\u003e\u003cp\u003eæ­¤å¤–ï¼Œç»Ÿä¸€çš„å“ç‰Œç¬¦å·ã€å“ç‰Œç‰¹å¾ï¼Œä¹Ÿæœ‰åŠ©äºåŠ æ·±äº§å“åœ¨ç”¨æˆ·å¿ƒä¸­çš„å°è±¡ï¼Œç»Ÿä¸€çš„é¢œè‰²å’Œäº¤äº’å½¢å¼èƒ½å¸®åŠ©ç”¨æˆ·åŠ æ·±å¯¹äº§å“çš„ç†Ÿæ‚‰æ„Ÿå’Œä¿¡ä»»æ„Ÿï¼Œä¸€ä¸ªå¥½çš„è®¾è®¡è¯­è¨€æœ¬èº«å¯ä»¥åœ¨ä½“éªŒä¸Šä¸ºäº§å“åŠ åˆ†ï¼Œä¹Ÿèƒ½å¤Ÿæ›´å¥½åˆ›é€ ä¸€è‡´æ€§çš„ä½“éªŒã€‚\u003c/p\u003e\u003cp\u003eç§¯æœ¨Sketchæ’ä»¶ç»è¿‡ä¸€æ®µæ—¶é—´çš„å»ºè®¾ï¼Œç›®å‰å·²å…·å¤‡Iconfontã€æ ‡å‡†è‰²æ¿ã€ç»„ä»¶åº“ã€æ•°æ®å¡«å……ã€æ–‡å­—æ¨¡æ¿ç­‰åŠŸèƒ½ã€‚\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬é€šè¿‡Iconfontå¯ä»¥ä»ç¾å›¢çš„å›¾æ ‡åº“ä¸­æ‹‰å–è®¾è®¡å›¢é˜Ÿä¸Šä¼ çš„SVGå›¾æ ‡ï¼Œå¹¶ç›´æ¥åº”ç”¨äºè®¾è®¡ç¨¿ï¼›æ ‡å‡†è‰²æ¿å¯ä»¥é™å®šè®¾è®¡å¸ˆçš„é¢œè‰²ä½¿ç”¨èŒƒå›´ï¼Œç¡®ä¿è®¾è®¡ç¨¿ä¸­çš„é¢œè‰²å‡ç¬¦åˆè®¾è®¡è§„èŒƒï¼›ç»„ä»¶åº“ä¸­åŒ…å«ä»å¤–å–ä¸šåŠ¡ä¸­æŠ½ç¦»çš„åŸºæœ¬æ§ä»¶ä¸é€šç”¨ç»„ä»¶ï¼Œå…·æœ‰å¯å¤ç”¨å’Œæ ‡å‡†åŒ–çš„ç‰¹ç‚¹ï¼Œå¹¶ä¸ä¸åŒè¯­è¨€å¹³å°ç»„ä»¶åº“ä¸­çš„ä»£ç ä¸€ä¸€å¯¹åº”ï¼Œä½¿ç”¨ç»„ä»¶åº“ä¸­çš„ç»„ä»¶è¿›è¡Œè®¾è®¡ï¼Œå¯ä»¥æå‡UIçš„è®¾è®¡æ•ˆç‡ã€å¼€å‘æ•ˆç‡ä»¥åŠèµ°æŸ¥æ•ˆç‡ï¼›æ•°æ®å¡«å……åº“å¯ä»¥å®ç°å›¾ç‰‡å¡«å……å’Œæ–‡æœ¬å¡«å……ï¼Œå›¾ç‰‡åŒ…å«äº†å•†å“åŠå•†å®¶ç´ æï¼Œæ–‡å­—åˆ™åŒ…å«äº†èœå“ã€å•†é“ºåç­‰ä¿¡æ¯ï¼Œé€šè¿‡æ•°æ®å¡«å……å¯ä»¥ä½¿è®¾è®¡å¸ˆé‡‡ç”¨çœŸå®æ•°æ®è¿›è¡Œå¡«å……ï¼Œè®©è®¾è®¡ç¨¿æ›´ä¸ºç›´è§‚ï¼Œä¹Ÿæ›´è´´è¿‘çº¿ä¸Šç¯å¢ƒï¼›æ–‡å­—æ¨¡æ¿ä¸­å†…ç½®äº†Headã€SubTitleã€Bodyã€Captionçš„ä½¿ç”¨è§„èŒƒï¼Œæ ¹æ®è®¾è®¡ç¨¿ä¸­æ–‡å­—çš„ä½ç½®ï¼Œç‚¹å‡»æ–‡å­—å›¾å±‚å³å¯ç›´æ¥åº”ç”¨å­—ä½“ã€è¡Œé«˜ã€å­—è·ç­‰å±æ€§ã€‚\u003c/p\u003e\u003cp\u003eæ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ ¹æ®è®¾è®¡åŒå­¦çš„ä½¿ç”¨åé¦ˆï¼Œä¸æ–­å¢æ·»æ–°åŠŸèƒ½ã€‚åŒæ—¶ä¹Ÿåœ¨æ‹“å±•æ’ä»¶çš„ä½¿ç”¨åœºæ™¯ï¼Œå¢åŠ ä¸šåŠ¡çº¿åˆ‡æ¢åŠŸèƒ½ï¼Œä½¿ç§¯æœ¨æ’ä»¶å¯ä»¥ä¸ºæ›´å¤šçš„å›¢é˜ŸæœåŠ¡ï¼Œå¹¶æœŸå¾…å®ƒèƒ½æˆä¸ºæ›´å¤šè®¾è®¡å¸ˆçš„â€œè´´å¿ƒæ­æ¡£â€ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/97c4d1c48c9754d0d939e0f7747b0fab186526.png\" alt=\"ç§¯æœ¨Sketch Pluginå·²æ”¯æŒåŠŸèƒ½\"/\u003e\u003c/p\u003e\u003ch3 id=\"4-ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« \"\u003e4. ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ\u003c/h3\u003e\u003cp\u003eç›¸ä¿¡ä½ è¯»å®Œä¸Šé¢çš„å†…å®¹ï¼Œè‚¯å®šè¿«ä¸åŠå¾…çš„æƒ³äº†è§£ä¸€ä¸‹Sketchæ’ä»¶ï¼Œä»¥æ­¤è¿…é€Ÿæå‡è‡ªå·±å›¢é˜Ÿå¼€å‘æ•ˆç‡äº†å§ï¼Ÿ\u003c/p\u003e\u003cp\u003eå…¶å®åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¯å…ˆäº†è§£ä¸€äº›ä¸åˆ©çš„æ¡ä»¶ã€‚ç¬¬ä¸€ç‚¹ï¼Œç”±äºSketchæ›´æ–°é€Ÿåº¦æå¿«ï¼Œä½†æ˜¯å®˜æ–¹æ–‡æ¡£å´ååˆ†ç®€å•ä¸”é™ˆæ—§ï¼Œå› æ­¤å¾ˆå¤šçŸ¥åçš„Sketch Pluginå› æ¯æ¬¡APIçš„å˜æ›´è¿‡å¤§çº·çº·æ”¾å¼ƒç»´æŠ¤ï¼›ç¬¬äºŒç‚¹ï¼Œç”±äºå¼€å‘æŠ€æœ¯æ ˆæ··ä¹±ï¼Œæˆç†Ÿé¡¹ç›®ä¸€èˆ¬è¿˜æœªå¼€æºï¼Œè€Œå¼€æºçš„é¡¹ç›®åŸºæœ¬ä¸Šæ²¡æœ‰ä»€ä¹ˆå‚è€ƒä»·å€¼ï¼Œç»å¤§å¤šæ•°éƒ½æ˜¯â€œupdate 3 years agoâ€ï¼›æœ€åä¸€ç‚¹ï¼ŒmacOSå¼€å‘èµ„æ–™æ›´æ˜¯å°‘çš„å¯æ€œã€‚\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬é˜…è¯»äº†å¤§é‡çš„æ–‡æ¡£å´æ²¡æœ‰ç†æ¸…å¤´ç»ªï¼Œä»¿ä½›å¾ˆå¤šWikiè®²åˆ°å…³é”®åœ°æ–¹ï¼Œæ¯”å¦‚æŸä¸ªéå¸¸æœŸå¾…çš„åŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°çš„æ—¶å€™ï¼Œä½œè€…ç«Ÿç„¶ä¸€ç¬”å¸¦è¿‡ï¼Œè®©äººæ‘¸ä¸åˆ°å¤´è„‘ã€‚çŸ¥ä¹ä¸Šä¸€ç¯‡Sketch Pluginçš„ç§‘æ™®æ–‡ï¼Œå¾ˆå¤šç½‘å‹ä¼šè¯„è®ºâ€œæ±‚æ•™å­¦è§†é¢‘ï¼Œæˆ‘å¯ä»¥èŠ±é’±ä¹°çš„â€ã€‚ç»è¿‡ä¸€æ­¥æ­¥è¸©å‘ï¼Œæˆ‘ä»¬å°±æ€»ç»“äº†ä¸€äº›å¼€å‘ç»éªŒï¼Œä¸ºäº†é¿å…å¤§å®¶â€œé‡å¤è¸©å‘â€ï¼Œæ™šä¸Šå¯ä»¥æ—©ç‚¹ä¸‹ç­é™ªé™ªå®¶äººï¼Œæˆ‘ä»¬å†³å®šå†™ä¸€ç¯‡æ–‡ç« è®°å½•ä¸‹å¼€å‘çš„è¿‡ç¨‹ã€‚è™½ç„¶æ¯”èµ·é‚£äº›å·²ç»æ›´æ–°å¤šç‰ˆçš„æˆç†Ÿé¡¹ç›®ï¼Œä½†è¿˜æœ‰ä¸å°‘çš„å·®è·ï¼Œè‡³å°‘å¯ä»¥è®©å¤§å®¶ä¸å†é‚£ä¹ˆè¿·èŒ«ã€‚\u003c/p\u003e\u003cp\u003eå½“ç„¶ï¼Œå³ä½¿ä½ è§‰å¾—è‡ªå·±æ˜¯ä¸ªâ€œè·ŸSketchå…«ç«¿å­æ‰“ä¸ç€â€çš„å¼€å‘åŒå­¦ï¼Œæˆ‘ä»¬ä¹Ÿè§‰å¾—è¿™ç¯‡æ–‡ç« åŒæ ·ä¹Ÿå€¼å¾—é˜…è¯»ï¼Œå› ä¸ºä½ ä¼šé€šè¿‡æœ¬æ–‡æ¥è§¦åˆ°å‰ç«¯ã€ç§»åŠ¨ç«¯ã€æ¡Œé¢ç«¯ã€æœåŠ¡ç«¯çš„å„ç§å¼€å‘çŸ¥è¯†ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè¶Šæ¥è¶Šå¤šçš„å…¬å¸å¼€å§‹å–œæ¬¢æ‹›å…¨æ ˆå·¥ç¨‹å¸ˆï¼ŒåƒFacebookåŸºæœ¬ä¸Šåªæ‹›å…¨æ ˆå·¥ç¨‹å¸ˆã€‚ä½ å¿ƒé‡Œæ˜¯ä¸æ˜¯åœ¨æƒ³ï¼šâ€œæ˜¯ä¸æ˜¯åœ¨æç¬‘å•Šï¼Ÿä¸è¿‡ä¸€ä¸ªæ’ä»¶è€Œå·²ï¼Ÿâ€å…ˆåˆ«è½»æ˜“ä¸‹ç»“è®ºã€‚\u003c/p\u003e\u003cp\u003eå‡†å¤‡å¥½äº†å—ï¼Ÿç›˜å®ƒï¼\u003c/p\u003e\u003ch2 id=\"å‡†å¤‡æ”¾æ‰‹codingä¹‹å‰\"\u003eå‡†å¤‡æ”¾æ‰‹Codingä¹‹å‰\u003c/h2\u003e\u003cp\u003eå¥½ï¼Œå…ˆåˆ«ç€æ€¥æ•²å‡»é”®ç›˜ã€‚æ¯•ç«Ÿæˆ‘ä»¬è¿ä½¿ç”¨å“ªç§è¯­è¨€å»å¼€å‘éƒ½æ²¡å†³å®šï¼Œè¿™æ›¾ç»ä¹Ÿæ˜¯å›°æ¼æˆ‘ä»¬è®¸ä¹…çš„ä¸€ä¸ªé—®é¢˜ã€‚ç›®å‰Sketch Pluginå¼€å‘å¤§æ¦‚æœ‰ä¸¤ç§æ–¹å¼ï¼š\u003c/p\u003e\u003cp\u003eâ‘  ä½¿ç”¨JavaScript + CocoaScriptçš„æ··åˆå¼€å‘æ¨¡å¼ï¼ŒSketchå›¢é˜Ÿå®˜æ–¹ç»´æŠ¤äº†ä¸€å¥—JS APIï¼Œå¹¶åœ¨å¼€å‘è€…å®˜ç½‘å†™äº†ä¸€å¥éå¸¸æŒ¯å¥‹äººå¿ƒçš„è¯ï¼šâ€œ Take advantage of ES6, access macOS frameworks and use the Sketch APIs without learning Objective-C or Swift.â€\u003c/p\u003e\u003cp\u003eç†æƒ³å¾ˆç¾æ»¡ï¼Œä½†ç°å®å¾ˆéª¨æ„Ÿã€‚è¿™ä¸ªAPIç›®å‰è¿˜ä¸ç®—å®Œå–„ï¼Œå¾ˆå¤šåŠŸèƒ½æ— æ³•å®ç°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ­é…CocoaScriptè®¿é—®æ›´ä¸°å¯Œçš„å†…éƒ¨APIã€‚\u003c/p\u003e\u003cp\u003eâ‘¡ ç›´æ¥é‡‡ç”¨Objective-C æˆ–Swiftï¼Œå¹¶æ­é…macOSçš„UIæ¡†æ¶AppKitè¿›è¡Œå¼€å‘ï¼Œç®€å•ç²—æš´ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨OCè¿è¡Œæ—¶ç›´æ¥è°ƒç”¨Sketchå†…éƒ¨APIã€‚ä½†è¿™é‡Œè¦ç‰¹åˆ«æé†’ä¸€ä¸‹ï¼Œä½ è¦æ‰¿æ‹…çš„é£é™©æ˜¯ï¼šéšç€Sketchçš„ä¸æ–­æ›´æ–°ï¼Œå†…éƒ¨APIçš„å‘½åå’Œä½¿ç”¨æ–¹å¼å¯èƒ½ä¼šå‘ç”Ÿè¾ƒå¤§å˜åŒ–ï¼Œå¾ˆå¤šçŸ¥åæ’ä»¶éƒ½å› æ­¤æ”¾å¼ƒæ›´æ–°ã€‚\u003c/p\u003e\u003cp\u003eæœ¬æ–‡é‡‡ç”¨äº†â€œæ··åˆå¼€å‘æ¨¡å¼â€è¿›è¡Œè®²è§£ï¼Œå¸Œæœ›èƒ½å¤Ÿç»™ä½ ä¸€äº›å°å¯å‘ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/55ad5f0d1ac1357e3c7e392f17301f96165670.png\" alt=\"Sketch å¼€å‘åŸç†\"/\u003e\u003c/p\u003e\u003ch3 id=\"1-sketch-pluginå¼€å‘æµæ´¾\"\u003e1. Sketch Pluginå¼€å‘æµæ´¾\u003c/h3\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/dae6ab440329cfbb218a1abf11b3dc4b291496.png\" alt=\"\"/\u003e\u003c/p\u003e\u003ch3 id=\"2-ç¯å¢ƒé…ç½®\"\u003e2. ç¯å¢ƒé…ç½®\u003c/h3\u003e\u003cp\u003eSkpmï¼ˆSketch Plugin Managerï¼‰æ˜¯Sketchæä¾›çš„ç”¨äºPluginåˆ›å»ºã€Buildä»¥åŠå‘å¸ƒçš„å®˜æ–¹å·¥å…·ã€‚Skpmé‡‡ç”¨Webpackä½œä¸ºæ‰“åŒ…å·¥å…·ï¼Œå½“ç„¶å¦‚æœä½ å¯¹å‰ç«¯çŸ¥è¯†è¶³å¤Ÿç†Ÿæ‚‰ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨Rollupæˆ–è€…roadhogã€‚ä½†æ˜¯ï¼Œä¸ºäº†é˜²æ­¢é‡åˆ°å„ç§å„æ ·çš„æŠ¥é”™ï¼Œè¿™é‡Œå¹¶ä¸å»ºè®®ä½ è¿™ä¹ˆåšã€‚\u003c/p\u003e\u003cp\u003eSkpmæä¾›äº†ä¸€ç³»åˆ—å¸®åŠ©å¿«é€Ÿå…¥é—¨çš„æ¨¡æ¿ï¼Œæœ€æœ‰ç”¨çš„è«è¿‡äºskpm/with-webviewï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŸºäºWebViewå±•ç¤ºçš„Demoç¤ºä¾‹ï¼Œè€Œä¸”Skpmä¼šåœ¨æ„å»ºå®Œæˆåï¼Œè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªSymbolic Linkå°†æ’ä»¶æ·»åŠ åˆ°Sketchçš„å®‰è£…ç›®å½•ï¼Œä½¿Pluginç«‹å³å¯ç”¨ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JSON\"\u003e//åŸºäºwebpackçš„Sketchå®˜æ–¹æ‰“åŒ…å·¥å…·skpm\nnpm install -g skpm\n//åˆ›å»ºç¤ºä¾‹å·¥ç¨‹\nskpm create my-plugin --template=skpm/with-webview\n//Install the dependencies\nnpm install\n//æ„å»ºæ’ä»¶\nnpm run build\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"3-é¡¹ç›®ç»“æ„\"\u003e3. é¡¹ç›®ç»“æ„\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003ePlugin Bundle\u003c/strong\u003e\næŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æ“ä½œå®Œæˆåï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹æ’ä»¶ç›®å½•ï¼Œå®ƒä»¥æ ‡å‡†åŒ–çš„åˆ†å±‚ç»“æ„å­˜å‚¨äº†æºç æ–‡ä»¶ä»¥åŠæ„å»ºç”Ÿæˆçš„Sketchæ’ä»¶å®‰è£…åŒ…ã€‚è¿™é‡Œæ²¡æœ‰ä½¿ç”¨å®˜æ–¹æ–‡æ¡£ä¸­æœ€ç®€å•çš„Demoï¼Œè€Œæ˜¯ä½¿ç”¨ç›®å‰å¼€å‘ä¸­æœ€ä¸ºå¸¸ç”¨çš„With-Webviewæ¨¡æ¿è¿›è¡Œåˆ†æï¼Œä»¥å…å‡ºç°å­¦å®Œâ€œ1+1â€åé‡åˆ°çš„å…¨æ˜¯â€œå¾®ç§¯åˆ†â€é—®é¢˜ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†æ’ä»¶å‡æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ‹“å±•ã€‚\u003c/p\u003e\u003cp\u003eç›®å½•ä¸­çš„å‚æ•°ï¼Œç›¸ä¿¡ä½ åœ¨çœ‹å®Œæ³¨é‡Šåé©¬ä¸Šå°±èƒ½æ˜ç™½ã€‚å¯æ˜¯å¦‚æœæ­¤å‰æ²¡æœ‰å‰ç«¯å¼€å‘ç»éªŒï¼Œå¯èƒ½ä¸äº†è§£åœ¨ç»è¿‡Webpackæ‰“åŒ…åï¼Œè„šæœ¬æ–‡ä»¶çš„æ–‡ä»¶åä¼šå‘ç”Ÿå˜æ›´ï¼Œæ¯”å¦‚resourcesä¸­çš„webview.jsç»è¿‡æ‰“åŒ…åä¼šå‚¨å­˜åœ¨æ’ä»¶çš„Resourcesæ–‡ä»¶å¤¹ä¸­ï¼Œè€Œæ–‡ä»¶ååˆ™å˜æ›´ä¸ºresources_webview.jsï¼Œå› æ­¤åœ¨è¿›è¡Œä»£ç ç¼–å†™æ—¶ï¼Œå¦‚æœéœ€è¦åœ¨htmlä¸­å¼•ç”¨æ­¤æ–‡ä»¶ï¼Œä¹Ÿè¦ä½¿ç”¨æ‰“åŒ…åçš„æ–‡ä»¶åï¼Œå³ï¼š\u003cscript src=\"../resources_webview.js\"\u003e\u003c/script\u003eã€‚è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼Œå¦‚æœä½ ä¸çŸ¥é“è„šæœ¬æ–‡ä»¶æ‰“åŒ…åçš„æ–‡ä»¶ååŠè·¯å¾„ï¼Œå»ºè®®å…ˆä½¿ç”¨Webpackè¿›è¡Œç¼–è¯‘ï¼Œç„¶åæŸ¥çœ‹å…¶åœ¨æ‰“åŒ…åçš„Pluginä¸­çš„ä½ç½®å’Œåç§°ï¼Œç„¶åå†è¿›è¡Œå¼•ç”¨ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JSON\"\u003eâ”œâ”€â”€ assets //èµ„æºæ–‡ä»¶å¤¹ï¼Œå¦‚éœ€æ›´æ”¹éœ€åœ¨package.jsonä¸­çš„skpm.assetsä¸­è®¾ç½® \nâ”œâ”€â”€ my-plugin.sketchplugin   //skpmæ„å»ºè¿‡ç¨‹ç”Ÿæˆçš„æ’ä»¶åŒ…\nâ”‚   â””â”€â”€ Contents\nâ”‚       â”œâ”€â”€ Resources\nâ”‚       â”‚   â””â”€â”€ _webpack_resources\nâ”‚       â”‚   â””â”€â”€ resources_webview.js\nâ”‚       â”‚   â””â”€â”€ resources_webview.js.map\nâ”‚       â””â”€â”€ Sketch\nâ”‚           â”œâ”€â”€ manifest.json\nâ”‚           â”œâ”€â”€ __my-command.js\nâ”‚           â””â”€â”€ __my-command.js.map\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ webpack.skpm.config.js\nâ”œâ”€â”€ resources //èµ„æºæ–‡ä»¶\nâ”‚  â”œâ”€â”€ style.css\nâ”‚  â”œâ”€â”€ webview.html\nâ”‚  â””â”€â”€ webview.js\nâ””â”€â”€ src //éœ€è¦è¢«webpackæ‰“åŒ…çš„è„šæœ¬æ–‡ä»¶ä»¥åŠmanifestæ¸…å•æ–‡ä»¶\n    â”œâ”€â”€ manifest.json\n    â””â”€â”€ my-command.js\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eManifest\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eä½ æ²¡æœ‰çœ‹é”™ï¼pluginä¸­ä¹Ÿæœ‰manifest.jsonï¼Œå®ƒä¸å…¶å®ƒå¹³å°æ¯”å¦‚Androidå¼€å‘ä¸­çš„æ¸…å•æ–‡ä»¶æ„ä¹‰ç›¸åŒã€‚æ¸…å•æ–‡ä»¶è®°å½•äº†ä½œè€…ä¿¡æ¯ã€æè¿°ã€å›¾æ ‡ä»¥åŠè·å–æ›´æ–°çš„é€”å¾„ç­‰ç­‰ã€‚æƒ³æƒ³çœ‹ï¼Œæ¯å¤©ç†¬å¤œåŠ ç­å†™ä»£ç ï¼Œæ€»å¾—æœ‰ä¸ªåœ°æ–¹æŠŠä½ çš„åå­—è®°å½•ä¸‹æ¥å§ã€‚ä½†manifestæœ€é‡è¦çš„ä½œç”¨å…¶å®æ˜¯å‘Šè¯‰Sketchå¦‚ä½•è¿è¡Œæ’ä»¶ï¼Œä»¥åŠå¦‚ä½•å°†æ’ä»¶é›†æˆè¿›Sketchçš„èœå•æ ä¸­ã€‚\u003c/p\u003e\u003cp\u003ecommandsä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•äº†æ’ä»¶æ‰€æä¾›çš„æ‰€æœ‰å‘½ä»¤ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œå½“ç”¨æˆ·ä»èœå•æ ç‚¹å‡» â€œæ˜¾ç¤ºå·¥å…·æ â€è¿™ä¸ªæ¡ç›®æ—¶ï¼Œå°±ä¼šæ‰§è¡Œscript.jsä¸­çš„function showPlugin() ã€‚menuåˆ™æä¾›äº†æ’ä»¶åœ¨Sketchèœå•æ ä¸­çš„å¸ƒå±€ä¿¡æ¯ï¼ŒSketchä¼šåœ¨æ’ä»¶è¢«åŠ è½½æ—¶åˆå§‹åŒ–èœå•ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JSON\"\u003e{\n  \u0026#34;commands\u0026#34;: [\n   {\n      \u0026#34;name\u0026#34;: \u0026#34;æ˜¾ç¤ºå·¥å…·æ \u0026#34;,\n      \u0026#34;identifier\u0026#34;: \u0026#34;roo-sketch-plugin.toolbar\u0026#34;,\n      \u0026#34;script\u0026#34;: \u0026#34;./script.js\u0026#34;,\n      \u0026#34;handlers\u0026#34;: {\n        \u0026#34;run\u0026#34;: \u0026#34;showPlugin\u0026#34;\n      }\n    }\n  ],\n  \u0026#34;menu\u0026#34;: {\n    \u0026#34;title\u0026#34;: \u0026#34;ğŸ¦˜å¤–å–ç§¯æœ¨SketchPluginå·¥å…·æ \u0026#34;,\n    \u0026#34;items\u0026#34;: [\u0026#34;roo-sketch-plugin.toolbar\u0026#34;]\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003epackage.json\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eç®€å•æ¥è¯´ï¼Œåªè¦ä½ çš„é¡¹ç›®ä¸­ç”¨åˆ°äº†NPMï¼Œæ ¹ç›®å½•ä¸‹å°±ä¼šè‡ªåŠ¨ç”Ÿæˆpackage.jsonæ–‡ä»¶ã€‚Node.jsé¡¹ç›®éµå¾ªæ¨¡å—åŒ–çš„æ¶æ„ï¼Œpackage.jsonå®šä¹‰äº†è¿™ä¸ªé¡¹ç›®æ‰€éœ€è¦çš„å„ç§æ¨¡å—ä»¥åŠé…ç½®ä¿¡æ¯ã€‚ä½¿ç”¨npm installå‘½ä»¤ä¼šæ ¹æ®è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œè‡ªåŠ¨ä¸‹è½½æ‰€éœ€çš„æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯é…ç½®é¡¹ç›®æ‰€éœ€çš„è¿è¡Œå’Œå¼€å‘ç¯å¢ƒã€‚\u003c/p\u003e\u003cp\u003eéå¸¸å€¼å¾—ç§°èµçš„æ˜¯ï¼ŒPluginå¼€å‘ä¸­å¯¹äºç½‘ç»œè¯·æ±‚ã€ I/O æ“ä½œä»¥åŠå…¶å®ƒåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ä¸Node.jså…¼å®¹çš„polyfillï¼Œå…¶ä¸­è®¸å¤šå¸¸ç”¨moduleså·²ç»é¢„è£…åˆ°äº†Sketchä¸­ï¼Œæ¯”å¦‚\u003ca href=\"https://github.com/skpm/console\"\u003econsole\u003c/a\u003eã€\u003ca href=\"https://github.com/skpm/sketch-polyfill-fetch\"\u003efetch\u003c/a\u003eã€\u003ca href=\"https://github.com/skpm/process\"\u003eprocess\u003c/a\u003eã€\u003ca href=\"https://github.com/skpm/querystring\"\u003equerystring\u003c/a\u003eã€\u003ca href=\"https://github.com/skpm/stream\"\u003estream\u003c/a\u003eã€\u003ca href=\"https://github.com/skpm/util\"\u003eutil\u003c/a\u003eç­‰ã€‚\u003c/p\u003e\u003cp\u003eè¿™é‡Œä½ åªéœ€è¦çŸ¥é“ä»¥ä¸‹å‡ ç‚¹ï¼š\u003c/p\u003e\u003cul\u003e\u003cli\u003eéœ€è¦å‚ä¸Webpackæ‰“åŒ…çš„è„šæœ¬æ–‡ä»¶å¿…é¡»åœ¨resourcesç›®å½•ä¸‹å£°æ˜ï¼Œå¦åˆ™ä¸ä¼šå‚ä¸ç¼–è¯‘ï¼ˆé‡ç‚¹ï¼è€ƒè¯•è¦è€ƒï¼ï¼‰ã€‚\u003c/li\u003e\u003cli\u003eassetsç›®å½•éœ€è¦é…ç½®åœ¨skpm.assetsä¸‹ã€‚\u003c/li\u003e\u003cli\u003eå¸¸ç”¨çš„å‘½ä»¤å¯ä»¥å®šä¹‰åœ¨scriptsä¸­æ–¹ä¾¿ç›´æ¥è°ƒç”¨ã€‚\u003c/li\u003e\u003cli\u003edependencieså­—æ®µæŒ‡å®šäº†é¡¹ç›®è¿è¡Œæ‰€ä¾èµ–çš„æ¨¡å—ï¼ŒdevDependenciesæŒ‡å®šé¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„æ¨¡å—ã€‚\u003c/li\u003e\u003c/ul\u003e\u003cpre\u003e\u003ccode class=\"language-JSON\"\u003e{\n  \u0026#34;name\u0026#34;: \u0026#34;roo-sketch-plugin\u0026#34;,\n  \u0026#34;author\u0026#34;: \u0026#34;hanyang\u0026#34;,\n  \u0026#34;description\u0026#34;: \u0026#34;å¤–å–ç§¯æœ¨Sketch pluginï¼ŒUIåŒå­¦å¥½å–œæ¬¢~\u0026#34;,\n  \u0026#34;version\u0026#34;: \u0026#34;0.1.0\u0026#34;,\n  \u0026#34;skpm\u0026#34;: {\n    \u0026#34;manifest\u0026#34;: \u0026#34;src/manifest.json\u0026#34;,\n    \u0026#34;main\u0026#34;: \u0026#34;roo-sketch-plugin.sketchplugin\u0026#34;,\n    \u0026#34;assets\u0026#34;: [\u0026#34;assets/**/*\u0026#34;]\n  },\n  \u0026#34;resources\u0026#34;: [\n    \u0026#34;src/webview/template/webview.js\u0026#34;\n  ],\n  \u0026#34;scripts\u0026#34;: {\n    \u0026#34;build\u0026#34;: \u0026#34;rm -rf roo-sketch-plugin.sketchplugin \u0026amp;\u0026amp; NODE_ENV=development skpm-build\u0026#34;,\n  },\n  \u0026#34;dependencies\u0026#34;: {},\n  \u0026#34;devDependencies\u0026#34;: {}\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"4-api-reference\"\u003e4. API Reference\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eJavascript API\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eç”±äºä½¿ç”¨äº†ä¸Safariç›¸åŒçš„JSå¼•æ“ï¼ŒPluginè„šæœ¬å¯ä»¥è·å¾—å®Œæ•´ES6æ”¯æŒã€‚å®˜æ–¹çš„JavaScript APIç”±Sketchå›¢é˜Ÿç»´æŠ¤ï¼Œå¹¶å…è®¸è®¿é—®å’Œä¿®æ”¹Sketchæ–‡æ¡£ï¼Œé€šè¿‡APIå¯ä»¥å‘Sketchç”¨æˆ·æä¾›æ•°æ®å¹¶æä¾›ä¸€äº›åŸºæœ¬çš„ç”¨æˆ·ç•Œé¢é›†æˆã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e//è®¿é—®ã€ä¿®æ”¹å’Œåˆ›å»ºæ–‡æ¡£ä»coloråˆ°layerå†åˆ°symbolç­‰æ–¹æ–¹é¢é¢\nvar sketchDom = require(\u0026#39;sketch/dom\u0026#39;)\n//å¯¹äºå¼‚æ­¥æ“ä½œï¼ŒJavaScript APIæä¾›äº†fiberså»¶é•¿contexçš„lifeTime\nvar async = require(\u0026#39;sketch/async\u0026#39;)\n//ç›´æ¥åœ¨Sketchä¸­æä¾›å›¾åƒæˆ–æ–‡æœ¬æ•°æ®ï¼ŒDataSupplierç›´æ¥ä¸Sketchç”¨æˆ·ç•Œé¢é›†æˆã€‚\nvar DataSupplier = require(\u0026#39;sketch/data-supplier\u0026#39;)\n//æ— éœ€é‡æ–°buildçš„æƒ…å†µä¸‹æ˜¾ç¤ºé€šçŸ¥ä»¥åŠè·å–ç”¨æˆ·è¾“å…¥\nvar UI = require(\u0026#39;sketch/ui\u0026#39;)\n//ä¿å­˜å›¾å±‚æˆ–æ–‡æ¡£çš„è‡ªå®šä¹‰æ•°æ®ï¼Œå¹¶å­˜å‚¨æ’ä»¶çš„ç”¨æˆ·è®¾ç½®ã€‚\nvar Settings = require(\u0026#39;sketch/settings\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eCocoaScript Syntax\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eCocoaScripté€šè¿‡èµ‹äºˆäº†JavaScriptè°ƒç”¨Sketchå†…éƒ¨APIä»¥åŠmacOS Cocoa frameworksçš„èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€é™¤äº†æ ‡å‡†çš„JavaScriptåº“å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è®¸å¤šå¾ˆæ£’çš„ç±»ä¸å‡½æ•°ã€‚CocoaScriptå»ºç«‹åœ¨è‹¹æœçš„JavaScriptCoreä¹‹ä¸Šï¼Œè€ŒJavaScriptCoreæ˜¯ä¸ºSafariæä¾›æ”¯æŒçš„JavaScriptå¼•æ“ã€‚\u003c/p\u003e\u003cp\u003eå› æ­¤ï¼Œå½“ä½ ä½¿ç”¨CocoaScriptç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œä½ å°±æ˜¯åœ¨å†™JavaScriptã€‚CocoaScriptä¸­çš„Mochaå®ç°JSåˆ°Objective-Cçš„Bridgeï¼Œè™½ç„¶MochaåŒ…å«åœ¨CocoaScriptä¸­ï¼Œä½†æ–‡æ¡£ä»ä¿ç•™åœ¨åŸå§‹Githubä¸­ã€‚å› æ­¤ï¼Œä½ åœ¨CocoaScriptçš„Readmeä¸­çœ‹ä¸åˆ°ä»»ä½•è¯­æ³•æ•™ç¨‹ã€‚è¿™é‡Œä¸€ä¸ªè¯€çªæ˜¯ï¼Œå¦‚æœä½ æƒ³äº†è§£Mochaå°†åŸç”Ÿçš„Sketch Objectsé€šè¿‡bridgeï¼Œä»Objective-Cä¼ é€’åˆ°JavaScriptå±‚çš„å±æ€§ã€ç±»æˆ–è€…å®ä¾‹æ–¹æ³•çš„ä¿¡æ¯ï¼Œå¯ä»¥å°†å…¶é€šè¿‡consoleæ‰“å°å‡ºæ¥ï¼š\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003elet mocha = context.document.class().mocha()\nconsole.log(mocha.properties())\n//OC\n[executeOperation:withObject:error:]\n//CocoaScript\nexecuteOperation_withObject_error()\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eé€šè¿‡CocoaScript æä¾›çš„Bridgeä½¿ç”¨JavaScriptè°ƒç”¨Objective-Cçš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹:\u003c/p\u003e\u003cul\u003e\u003cli\u003eObjective-Cçš„æ–¹æ‹¬å·è¯­æ³•â€œ[ ]â€è½¬æ¢ä¸ºJavaScriptä¸­çš„ç‚¹â€œ . â€è¯­æ³•ã€‚\u003c/li\u003e\u003cli\u003eObjective-Cçš„å±æ€§å¯¼å‡ºåˆ°JavaScriptæ—¶Getterä¸ºobject.name() è€ŒSetterä¸ºobject.name = â€˜Sketchâ€™ã€‚\u003c/li\u003e\u003cli\u003eObjective-Cçš„selectorsè¢«æš´éœ²ä¸ºJavaScript çš„ä»£ç†æ–¹æ³•ã€‚\u003c/li\u003e\u003cli\u003eâ€œï¼šâ€ å†’å·è¢«è½¬æ¢ä¸ºä¸‹åˆ’çº¿â€œ _â€, æœ€åä¸€ä¸ªä¸‹åˆ’çº¿æ˜¯å¯é€‰çš„ã€‚\u003c/li\u003e\u003cli\u003eè°ƒç”¨å¸¦æœ‰ä¸€ä¸ªä¸‹åˆ’çº¿çš„æ–¹æ³•éœ€è¦åŠ å€ä¸ºä¸¤ä¸ªä¸‹åˆ’çº¿: sketch_methodå˜ä¸ºsketch__methodã€‚\u003c/li\u003e\u003cli\u003eselectorçš„æ¯ä¸ªcomponentè¢«è¿æ¥æˆä¸å¸¦æœ‰åˆ†éš”ç¬¦çš„å•ä¸ªå­—ç¬¦ä¸²ã€‚\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"5-actions\"\u003e5. Actions\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eè¡Œä¸ºå®šä¹‰\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eActionæŒ‡çš„æ˜¯ç”±äºç”¨æˆ·äº¤äº’è€Œåœ¨åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼Œæ¯”å¦‚â€œæ‰“å¼€æ–‡æ¡£â€ã€â€œå…³é—­æ–‡æ¡£â€ã€â€œä¿å­˜â€ç­‰ã€‚Sketchæ‰€æä¾›çš„äº†Action APIå¯ä»¥ä½¿æ’ä»¶å¯¹åº”ç”¨ç¨‹åºä¸­çš„äº‹ä»¶åšå‡ºååº”ï¼Œæœ‰ç‚¹ç±»ä¼¼Androidå¼€å‘ä¸­çš„çš„BroadCastæˆ–è€…Job Schedulerã€‚å®˜æ–¹æ–‡æ¡£åˆ—ä¸¾äº†æ•°ç™¾ä¸ªå¯ä¾›ç›‘å¬çš„Actionï¼Œä½†æœ€å¸¸ç”¨åˆ°çš„åªæœ‰ä¸‹é¢å‡ ä¸ªï¼š\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/7cb45073a552c089d6fba9b3e65da942215251.png\" alt=\"\"/\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eç›‘å¬å›è°ƒ\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬åªéœ€åœ¨æ’ä»¶çš„manifest.jsonæ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªhandlerå³å¯ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­æ·»åŠ äº†å¯¹äºâ€œOpenDocumentâ€çš„ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰æ’ä»¶åœ¨æ–°æ–‡æ¡£è¢«æ‰“å¼€æ—¶è¦å»æ‰§è¡ŒonOpenDocumentè¿™ä¸ªfunctionã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JSON\"\u003e {\n      \u0026#34;script\u0026#34;: \u0026#34;action.js\u0026#34;,\n      \u0026#34;identifier\u0026#34;: \u0026#34;my-action-listener-identifier\u0026#34;,\n      \u0026#34;handlers\u0026#34;: {\n        \u0026#34;actions\u0026#34;: {\n          \u0026#34;OpenDocument\u0026#34;: \u0026#34;onOpenDocument\u0026#34;\n        }\n      }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå½“ä¸€ä¸ªActionè¢«è§¦å‘æ—¶ï¼Œä¼šå›è°ƒJSä¸­çš„ç›‘å¬æ–¹æ³•ï¼Œä¸æ­¤åŒæ—¶Sketchå¯ä»¥å‘ç›®æ ‡å‡½æ•°å‘é€Action Contextï¼Œå…¶ä¸­åŒ…å«åŠ¨ä½œæœ¬èº«çš„ä¸€äº›ä¿¡æ¯ã€‚åœ¨ä¸‹é¢ä¾‹å­ä¸­ï¼Œæ¯æ¬¡æ‰“å¼€æ–‡æ¡£æ—¶éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªToastã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003efunction onOpenDocument(context) {\n    context.actionContext.document.showMessage(\u0026#39;Document Opened\u0026#39;)\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"6-bridgeåŒå‘é€šä¿¡\"\u003e6. BridgeåŒå‘é€šä¿¡\u003c/h3\u003e\u003cp\u003eåœ¨å¸¸è§„çš„æ’ä»¶å¼€å‘ä¸­ï¼ŒUIå±‚ä¸€èˆ¬é‡‡ç”¨Webviewå®ç°ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨å„ç§å‰ç«¯å¼€å‘æ¡†æ¶ï¼Œæ¯”å¦‚Reactæˆ–è€…Vueç­‰ï¼›è€Œæ’ä»¶çš„é€»è¾‘å±‚ï¼ˆè´Ÿè´£è°ƒç”¨Skecth APIï¼‰æ˜¾ç„¶ä¸åœ¨WebViewä¸­ï¼Œå› æ­¤éœ€è¦é€šè¿‡Bridgeè¿›è¡Œé€šä¿¡ã€‚é€»è¾‘å±‚å°†ä»æœåŠ¡å™¨è·å–åˆ°çš„æ•°æ®ä¼ é€’ç»™UIå±‚å±•ç¤ºï¼Œè€ŒUIå±‚åˆ™å°†ç”¨æˆ·çš„æ“ä½œåé¦ˆä¼ é€’ç»™é€»è¾‘å±‚ï¼Œä½¿å…¶è°ƒç”¨Sketch APIæ›´æ–°Layersã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/164fa1b4c60b16d29693937e8518580a73211.png\" alt=\"Sketch é€šä¿¡åŸç†\"/\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eæ’ä»¶å‘é€æ¶ˆæ¯åˆ°WebView\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e//On the plugin:\nbrowserWindow.webContents\n  .executeJavaScript(\u0026#39;someGlobalFunctionDefinedInTheWebview(\u0026#34;hello\u0026#34;)\u0026#39;)\n  .then(res =\u0026gt; {\n    // do something with the result\n  })\nâ€‹\n//On the WebView:\nwindow.someGlobalFunctionDefinedInTheWebview = function(arg) {\n  console.log(arg)\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eWebViewå‘é€æ¶ˆæ¯ç»™æ’ä»¶\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e//On the webview:\nwindow.postMessage(\u0026#39;nativeLog\u0026#39;, \u0026#39;Called from the webview\u0026#39;)\n//On the plugin:\nvar sketch = require(\u0026#39;sketch\u0026#39;)\nbrowserWindow.webContents.on(\u0026#39;nativeLog\u0026#39;, function(s) {\n  sketch.UI.message(s)\n})\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç»è¿‡äº†ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªåŸºç¡€æ’ä»¶ï¼Œå®ƒä»¥WebViewä½œä¸ºå†…å®¹è½½ä½“ï¼Œå¹¶å…·æœ‰åŒå‘é€šä¿¡åŠŸèƒ½ã€‚æ‰“å¼€æ’ä»¶æ—¶ï¼ŒWebviewä¼šå°†é¡µé¢åŠ è½½å®Œæˆçš„äº‹ä»¶ä¼ é€’ç»™é€»è¾‘å±‚ï¼Œé€»è¾‘å±‚è°ƒç”¨Sketch APIå¼¹å‡ºToastï¼›ç‚¹å‡»Get a random numberå¯ä»¥ä»é€»è¾‘å±‚è·å–ä¸€ä¸ªéšæœºæ•°ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/07124d0ecbebbee3c52d23f91fe0814962893.png\" alt=\"skpm/with-webview è¿è¡Œæ•ˆæœ\"/\u003e\u003c/p\u003e\u003ch2 id=\"å¿«æ¥æ­£å¼åŠ å…¥å¼€å‘é˜Ÿä¼\"\u003eå¿«æ¥æ­£å¼åŠ å…¥å¼€å‘é˜Ÿä¼\u003c/h2\u003e\u003cp\u003eç›¸ä¿¡é˜…è¯»å®Œä¸Šé¢çš„éƒ¨åˆ†ï¼Œåˆ¶ä½œä¸€ä¸ªç®€å•çš„æ’ä»¶å¯¹äºä½ æ¥è¯´ï¼Œå·²ç»æœ‰ç‚¹â€œæ¸¸åˆƒæœ‰ä½™â€äº†ã€‚ä½†è¿™ä¸ªæ—¶å€™ï¼Œç–‘æƒ‘ä¹Ÿéšä¹‹è€Œæ¥ï¼Œä¸ºä»€ä¹ˆDemoå’Œæˆ‘ä»¬å¸¸ç”¨æ’ä»¶çš„UIå·®åˆ«å¦‚æ­¤ä¹‹å¤§ï¼Ÿ\u003c/p\u003e\u003cp\u003eæ²¡é”™ï¼Œå®˜æ–¹æ–‡æ¡£åªæ•™ç»™æˆ‘ä»¬æœ€åŸºç¡€çš„æ’ä»¶å¼€å‘æµç¨‹ï¼Œä¸€ä¸ªæˆç†Ÿçš„å•†ä¸šé¡¹ç›®ç»ä¸ä»…ä»…æ˜¯ä»¥ä¸Šè¿™äº›ã€‚ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„æ’ä»¶åº”è¯¥åŒ…æ‹¬ä»¥ä¸‹ä¸‰éƒ¨åˆ†ï¼šå·¥å…·æ ã€WebViewå®¹å™¨ä»¥åŠä¸šåŠ¡æ•°æ®ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ä¼šä¸€æ­¥æ­¥ä¸ºä½ å±•ç¤ºå¦‚ä½•å¼€å‘ä¸€ä¸ªå•†ä¸šåŒ–æ’ä»¶UIï¼ŒåŒæ—¶ä¹Ÿä¼šæ¼”ç¤ºç¾å›¢å¤–å–â€œå¡«å……åŠŸèƒ½â€çš„å®ç°ï¼ˆæ³¨ï¼šç¯‡å¹…åŸå› æ–‡æ¡£ä¸­ä»…ä¿ç•™å…³é”®ä»£ç ã€‚ï¼‰\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/7a7832cb84f0e2d688770428c8ae2760144863.png\" alt=\"å¸¸è§„Sketchæ’ä»¶ç»“æ„\"/\u003e\u003c/p\u003e\u003ch3 id=\"1-åˆ›å»ºå¸é™„å·¥å…·æ \"\u003e1. åˆ›å»ºå¸é™„å·¥å…·æ \u003c/h3\u003e\u003cp\u003eæ‰€è°“å¸é™„å¼å·¥å…·æ ï¼Œå°±æ˜¯å±•ç¤ºåœ¨Skecthå³ä¾§Inspector Panelæ—è¾¹çš„å·¥å…·æ ï¼Œå®ƒä»¥å¸é™„çš„æ–¹å¼ä¸Sketchæ“ä½œç•Œé¢èä¸ºä¸€ä½“ï¼Œè¿™ä¹Ÿæ˜¯ç»å¤§å¤šæ•°æ’ä»¶çš„è§†è§‰å‘ˆç°æ–¹å¼ã€‚å·¥å…·æ ä¸­å±•ç¤ºäº†å½“å‰æ’ä»¶å¯ä»¥æä¾›çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æ“ä½œDocumentæ—¶å¿«é€Ÿé€‰å–ä½¿ç”¨ã€‚\u003c/p\u003e\u003cp\u003eå¼€å‘å·¥å…·æ ä¸»è¦ä½¿ç”¨NSStackViewã€NSButtonã€NSImageä»¥åŠNSFontè¿™å‡ ä¸ªç±»ï¼Œå¦‚æœæ²¡æœ‰å¼€å‘è¿‡macOSåº”ç”¨çš„åŒå­¦å¯èƒ½å¯¹è¿™äº›ç±»æœ‰äº›é™Œç”Ÿï¼Œå¯ä»¥ç±»æ¯”iOSå¼€å‘ä¸­ä»¥UIä½œä¸ºå‰ç¼€çš„æ§ä»¶ç±»ï¼ŒNSå‰ç¼€ä¸»è¦æ˜¯AppKitä»¥åŠFoundationçš„ç›¸å…³ç±»ï¼ŒMSå‰ç¼€åˆ™æ˜¯Skecthçš„ç›¸å…³ç±»ï¼ŒCAã€CFå‰ç¼€ä¸ºæ ¸å¿ƒåŠ¨ç”»åº“å’Œæ ¸å¿ƒåŸºç¡€ç±»ã€‚\u003c/p\u003e\u003cp\u003eä¸‹é¢çš„ä»£ç è®°å½•äº†åˆ›å»ºå·¥å…·æ çš„å…³é”®æ­¥éª¤ï¼Œæ›´ä¸ºè¯¦ç»†çš„æ“ä½œå¯ä»¥å‚è€ƒä¸€äº›Githubä»“åº“ï¼Œæ¯”å¦‚sketch-plugin-boilerplateç­‰ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003econst contentView = context.document.documentWindow().contentView();\nconst stageView = contentView.subviews().objectAtIndex(0);\nâ€‹\n//1.åˆ›å»ºtoolbar\nconst toolbar = NSStackView.alloc().initWithFrame(NSMakeRect(0, 0, 27, 420));\ntoolbar.setBackgroundColor(NSColor.windowBackgroundColor());\ntoolbar.orientation = 1;\nâ€‹\n//2.åˆ›å»ºButton\nconst button =  NSButton.alloc().initWithFrame(rect)\nconst Image = NSImage.alloc().initWithContentsOfURL(imageURL)\nbutton.setImage(image)\nbutton.setTitle(\u0026#34;æ•°æ®å¡«å……\u0026#34;)\nbutton.setFont(NSFont.fontWithName_size(\u0026#39;Arial\u0026#39;,11))\nâ€‹\n//3.å°†ButtonåŠ å…¥toolbar\ntoolbar.addView_inGravity(button, gravityType);\nâ€‹\n//4.å°†toolbaråŠ å…¥SketchWindow\nconst views = stageView.subviews()\nconst finalViews = []\nfor (let i = 0; i \u0026lt; views.count(); i++) {\n finalViews.push(view)\n if(view[i].identifier() === \u0026#39;view_canvas\u0026#39;){\n   finalViews.push(toolbar)\n}\n stageView.subviews = finalViews\n stageView.adjustSubviews()\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"2-åˆ›å»ºwebviewå®¹å™¨\"\u003e2. åˆ›å»ºWebViewå®¹å™¨\u003c/h3\u003e\u003cp\u003eé™¤äº†é€šè¿‡CocoaScriptåˆ›å»ºåŸç”ŸNSPanelå¤–ï¼Œè¿™é‡Œæ¨èä½¿ç”¨å®˜æ–¹çš„sketch-module-web-viewå¿«é€Ÿåˆ›å»ºWebViewå®¹å™¨ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„APIå¯¹çª—å£çš„å±•ç¤ºæ ·å¼å’Œè¡Œä¸ºè¿›è¡Œå®šåˆ¶ï¼ŒåŒ…æ‹¬Frameless Windowã€Dragç­‰ï¼ŒåŒæ—¶è¿˜å°è£…äº†WebViewä¸æ’ä»¶å±‚çš„é€šä¿¡çš„Bridgeï¼Œä½¿ä½ å¯ä»¥è½»æ¾åœ¨â€frontendâ€ ï¼ˆthe WebViewï¼‰å’Œâ€backendâ€ ï¼ˆthe plugin running in Sketchï¼‰ä¹‹é—´å‘é€æ¶ˆæ¯ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e//(1)æ–¹æ³•ä¸€ï¼šåŸç”Ÿæ–¹å¼åŠ å…¥webview\nconst panel = NSPanel.alloc().init();\npanel.setFrame_display(NSMakeRect(0, 0, panelWidth, panelHeight), true);\nconst wkwebviewConfig = WKWebViewConfiguration.alloc().init()\nconst webView = WKWebView.alloc().initWithFrame_configuration(\n  CGRectMake(0, 0, panelWidth, panelWidth),\n  wkwebviewConfig\n)\npanel.contentView().addSubview(webView);\nwebview.loadFileURL_allowingReadAccessToURL(\n  NSURL.URLWithString(url),\n  NSURL.URLWithString(\u0026#39;file:///\u0026#39;)\n)\n//(2)æ–¹æ³•äºŒï¼šä½¿ç”¨å®˜æ–¹çš„BrowserWindow\nimport BrowserWindow from \u0026#34;sketch-module-web-view\u0026#34;;\nconst browserWindow = new BrowserWindow(options);\nconst webViewContents = browserWindow.webContents;\nâ€‹\n webViewContents\n    .executeJavaScript(`someGlobalFunctionDefinedInTheWebview(${JSON.stringify(someObject)})`)\n    .then(res =\u0026gt; {\n      // do something with the result\n    })\n browserWindow.loadURL(require(\u0026#39;./webview.html\u0026#39;))\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"3-åˆ›å»ºå†…å®¹é¡µé¢\"\u003e3. åˆ›å»ºå†…å®¹é¡µé¢\u003c/h3\u003e\u003cp\u003eå†å°½åƒè¾›ä¸‡è‹¦ï¼Œæˆ‘ä»¬ç»ˆäºæ‹¿åˆ°äº†WebViewï¼Œè¿™ä¸‹å°±å¯ä»¥å‘æŒ¥ä½ â€œå¤©é©¬è¡Œç©ºâ€çš„æƒ³è±¡åŠ›äº†ã€‚ä¸ç®¡æ˜¯Reactè¿˜æ˜¯Vueï¼Œäº¦æˆ–åªæ˜¯ä¸€äº›ç®€å•çš„é™æ€é¡µé¢å¯¹äºä½ è€Œè¨€åº”è¯¥éƒ½ä¸åœ¨è¯ä¸‹ã€‚åœ¨å®Œæˆç•Œé¢å¼€å‘åï¼Œåªéœ€é€šè¿‡Windowå‘æ’ä»¶å‘é€æŒ‡ä»¤å³å¯ã€‚ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†ç§¯æœ¨æ’ä»¶çš„â€œæ•°æ®å¡«å……â€åŠŸèƒ½ã€‚\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eUIä¾§\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003eimport React from \u0026#39;react\u0026#39;;\nimport ReactDOM from \u0026#39;react-dom\u0026#39;;\nâ€‹\n//ä½¿ç”¨reactæ­å»ºç”¨æˆ·é¡µé¢\nReactDOM.render(\u0026lt;Provider store={store}\u0026gt;\u0026lt;App /\u0026gt;\u0026lt;/Provider\u0026gt;, document.getElementById(\u0026#39;root\u0026#39;));\nâ€‹\n//ä¼ é€’ç”¨æˆ·ç‚¹å‡»å¡«å……ç±»ç›®ç»™æ’ä»¶å±‚ï¼Œè¿™é‡Œä»¥å¡«å……æ–‡å­—ä¸ºä¾‹\nexport const PostMessage = (name, fillData) =\u0026gt; {\n  try {\n    window.postMessage(\u0026#34;fill-text-layer\u0026#34;, fillData);\n  } catch (e) {\n    console.error(name, \u0026#34;å‡ºç°å¼‚å¸¸ï¼ï¼ï¼\u0026#34; + fillData);\n  }\n}; \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eæ’ä»¶ä¾§\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e  browserWindow.webContents.on(\u0026#39;fill-text-layer\u0026#39;, function(s) {\n   //æ‰¾åˆ°å½“å‰é¡µé¢document\n  const document = context.document;\n   //è·å–ç”¨æˆ·é€‰æ‹©çš„layers\n     const selection = Document.fromNative(document).selectedLayers;\n        layers.forEach(item =\u0026gt; {\n          //åˆ¤æ–­layerç±»å‹æ˜¯å¦ä¸ºæ–‡å­—\n          if (item.type === \u0026#39;Text\u0026#39;) {\n            //æ›´æ–°textlayer\n            item.text = value;\n          }\n   }); \n})\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"4-è¿˜æƒ³åŠ ç‚¹å‡ºå½©çš„åŠŸèƒ½\"\u003e4. è¿˜æƒ³åŠ ç‚¹å‡ºå½©çš„åŠŸèƒ½\u003c/h3\u003e\u003cp\u003eå¦‚æœä½ è¿˜ä¸æ»¡è¶³äºæ­¤ï¼Œè¯´æ˜ä½ çœŸçš„æ˜¯ä¸ªå¾ˆçˆ±å­¦ä¹ ï¼Œä¹Ÿå¾ˆæœ‰æ½œåŠ›çš„å¼€å‘åŒå­¦ã€‚ä¸€ä¸ªå®Œå–„çš„æ’ä»¶éœ€è¦åŒ…æ‹¬äº¤äº’å±‚ã€APIå±‚ã€ä¸šåŠ¡å±‚ã€è°ƒè¯•å±‚ä»¥åŠå‘å¸ƒå±‚ï¼Œæ¯å±‚å„å¸å…¶èŒï¼Œå®ƒä»¬éƒ½åœ¨é»˜é»˜å¹²å¥½è‡ªå·±çš„å·¥ä½œã€‚\u003c/p\u003e\u003cp\u003eå‰é¢çš„æ­¥éª¤ï¼Œé€šè¿‡æ„ä»¶èœå•æ ã€åˆ›å»ºWebiewå®Œæˆäº†äº¤äº’å±‚çš„å¼€å‘ï¼›é€šè¿‡Webviewçš„Bridgeä¼ é€’ç”¨æˆ·æ“ä½œåˆ°æ’ä»¶ä¾§ä»£ç ï¼Œä¹‹åè°ƒç”¨Sketch APIå¯¹å›¾å±‚è¿›è¡Œæ“ä½œï¼Œè¿™æ˜¯APIå±‚çš„å·¥ä½œï¼›è€Œæ ¹æ®è‡ªèº«éœ€æ±‚å¹¶ä¾æ‰˜äº¤äº’å±‚ä¸APIå±‚çš„å®ç°å»ç¼–å†™ä¸šåŠ¡ä»£ç ï¼Œåˆ™æ˜¯ä¸šåŠ¡å±‚çš„å·¥ä½œï¼›è‡³æ­¤ï¼Œä½ åº”è¯¥å°±æ‹¥æœ‰äº†ä¸€ä¸ªå¯è¿è¡Œçš„æ’ä»¶äº†ã€‚\u003c/p\u003e\u003cp\u003eä½†é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­è¿˜éœ€è¦Lintç»„ä»¶è¾…åŠ©å¼€å‘ï¼Œå‘ç°é—®é¢˜éœ€è¦ä½¿ç”¨å„ç±»Devå·¥å…·è¿›è¡Œè°ƒè¯•ï¼Œé€šè¿‡QAéªŒè¯åï¼Œéœ€è¦Cliå·¥å…·æ‰“åŒ…å¹¶å‘å¸ƒæ’ä»¶æ›´æ–°ã€‚è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å°†ç®€å•ä»‹ç»ä¸€äº›åŸºæœ¬çš„è°ƒè¯•å±‚å’Œå‘å¸ƒå±‚çŸ¥è¯†ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/55a179aab8410e97f353fbced0d2605e138503.png\" alt=\"ç§¯æœ¨Sketch Pluginç»“æ„\"/\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eWebpacké…ç½®\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eSkpmé»˜è®¤é‡‡ç”¨Webpackä½œä¸ºæ‰“åŒ…å·¥å…·ã€‚Webpackæ˜¯ä¸€ä¸ªç°ä»£JavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ï¼ˆModule Bundlerï¼‰ã€‚å½“Webpackå¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼ˆDependency Graphï¼‰ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªBundleï¼Œéœ€è¦åœ¨webpack.config.jsè¿›è¡Œé…ç½®ï¼Œç±»ä¼¼äºAndroidä¸­çš„Gradleï¼ŒåŒæ ·æ”¯æŒå„ç§æ’ä»¶ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/a75f6fd413ff9ca7e49c1f4485c37bcc454032.png\" alt=\"Webpackå¤„ç†æµç¨‹ç¤ºæ„\"/\u003e\u003c/p\u003e\u003cp\u003eç”±äºæ’ä»¶çš„å¼€å‘è€…æœªå¿…æ˜¯å‰ç«¯åŒå­¦ï¼Œå¯èƒ½ä¹‹å‰å¹¶æ²¡æœ‰æ¥è§¦è¿‡Webpackï¼Œå› æ­¤æˆ‘ä»¬åœ¨è¿™é‡Œä»‹ç»å®ƒçš„ä¸€äº›å¸¸ç”¨é…ç½®ï¼Œè®©ä½ æœ‰æ›´å¤šçš„æ—¶é—´å…³æ³¨ä¸šåŠ¡ä»£ç ã€‚ç¬¬ä¸€æ¬¡æ¥è§¦Webpackæ˜¯åœ¨å»å¹´ä¸€æ¬¡å…¬å¸å†…éƒ¨çš„æŠ€æœ¯åŸ¹è®­ä¸Šï¼ˆç¾å›¢æŠ€æœ¯å­¦é™¢æä¾›äº†å¾ˆå¤šæŠ€æœ¯åŸ¹è®­è¯¾ç¨‹ï¼ŒåŠ å…¥æˆ‘ä»¬å°±å¯ä»¥å°½æƒ…åœ°åœ¨çŸ¥è¯†çš„æµ·æ´‹ä¸­é¨æ¸¸äº†ï¼‰ï¼Œç¾å›¢MRNé¡¹ç›®çš„æ‰“åŒ…æ–¹æ¡ˆå°±æ˜¯Webpackã€‚\u003c/p\u003e\u003cp\u003eåœ¨å‰ç«¯åœˆæœ‰å„ç§å„æ ·çš„æ‰“åŒ…å·¥å…·ï¼Œæ¯”å¦‚Webpackã€Rollupã€Gulpã€Grunt ç­‰ç­‰ã€‚RNæ‰“åŒ…ç”¨çš„æ˜¯Facebokå®ç°çš„ä¸€å¥—å«åšMetroçš„å·¥å…·ï¼Œè€Œç¾å›¢MRNæ‰“åŒ…å·¥å…·çš„é€‰å‹æ˜¯Webpackï¼Œå› ä¸ºWebpackå…·æœ‰å¼ºå¤§çš„æ’ä»¶æœºåˆ¶å’Œä¸°å¯Œçš„ç¤¾åŒºç”Ÿæ€ï¼Œå¯ä»¥å®Œæˆå¤æ‚çš„æµæ°´çº¿æ‰“åŒ…å·¥ä½œï¼ŒWebpackåœ¨Pluginå¼€å‘ä¸­åŒæ ·å‘æŒ¥äº†éå¸¸é‡è¦çš„ä½œç”¨ã€‚Webpackæœ‰äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/f5dbb3735e40b0e42cee3f1afa6af9ee342268.png\" alt=\"\"/\u003e\u003c/p\u003e\u003cp\u003eåœ¨æ’ä»¶å¼€å‘ä¸­éœ€è¦å¤„ç†htmlã€cssã€sassã€jpgã€styleç­‰å„ç§æ–‡ä»¶ï¼Œåªæœ‰åœ¨Webpackä¸­é…ç½®ç›¸åº”çš„Loaderåï¼Œè¿™äº›æ–‡ä»¶æ‰èƒ½è¢«å¤„ç†ã€‚è€Œä¸”æˆ‘ä»¬å¾ˆå¯èƒ½é‡åˆ°æŸäº›æ–‡ä»¶éœ€è¦ä½¿ç”¨ç‰¹å®šçš„æ’ä»¶ï¼Œè€Œå…¶å®ƒæ–‡ä»¶åˆæ— éœ€å¤„ç†çš„æƒ…å†µã€‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­åˆ—ä¸¾äº†æ·»åŠ æ’ä»¶ã€å¯¹æ–‡ä»¶å•ç‹¬å¤„ç†ä»¥åŠå‚æ•°é…ç½®è¿™ä¸‰ä¸ªå¸¸ç”¨çš„åŸºæœ¬æ“ä½œã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003emodule.exports = function (config, entry) { \n  //å¸¸ç”¨åŠŸèƒ½1ï¼šå¢åŠ æ’ä»¶\n    config.module.rules.push({\n    test: /\\.(svg)([\\?]?.*)$/,\n    use: [\n      {\n        loader: \u0026#34;file-loader\u0026#34;,\n        options: {\n          outputPath: url =\u0026gt; path.join(WEBPACK_DIRECTORY, url),\n          publicPath: url =\u0026gt; {return url;}}}\n    ]\n  });}\n  \n//å¸¸ç”¨åŠŸèƒ½2ï¼šå¯¹æ–‡ä»¶å•ç‹¬å¤„ç†\nif (entry.script === \u0026#34;src/script.js\u0026#34;) {\n    config.plugins.push(\n      new htmlWebpackPlugin({ })\n    );\n}\nâ€‹\n//å¸¸ç”¨åŠŸèƒ½3ï¼šå®šåˆ¶jså¤„ç†\n  config.module.rules.push({\n    test: /\\.jsx?$/,\n    use: [\n      { loader: \u0026#34;babel-loader\u0026#34;,\n        options: {\n          presets: [\n            \u0026#34;@babel/preset-react\u0026#34;,\n            \u0026#34;@babel/preset-env\u0026#34;\n          ],\n          plugins: [\n            //å¼•å…¥antdç»„ä»¶åº“\n            [\u0026#34;import\u0026#34;,{libraryName: \u0026#34;antd\u0026#34;,libraryDirectory: \u0026#34;es\u0026#34;,style: \u0026#34;css\u0026#34;}]\n      ]}}]\n  });\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003eESLinté…ç½®\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eJavaScriptæ˜¯ä¸€é—¨éå¸¸çµæ´»çš„è¯­è¨€ï¼Œå¾ˆå¤šé”™è¯¯å¾€å¾€è¿è¡Œæ—¶æ‰çˆ†å‡ºï¼Œé€šè¿‡é…ç½®å‰ç«¯ä»£ç æ£€æŸ¥æ–¹æ¡ˆï¼Œåœ¨ç¼–å†™ä»£ç è¿‡ç¨‹ä¸­å¯ç›´æ¥å¾—åˆ°é”™è¯¯åé¦ˆï¼Œä¹Ÿå¯ä»¥è¿›è¡Œä»£ç é£æ ¼æ£€æŸ¥ï¼Œä¸ä»…æå‡äº†å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶å¯¹ä¸è‰¯ä»£ç ç¼–å†™ä¹ æƒ¯ä¹Ÿèƒ½èµ·åˆ°çº æ­£ä½œç”¨ã€‚åœ¨ESLintä¸­éœ€è¦é…ç½®åŸºç¡€è¯­æ³•è§„åˆ™ã€React è§„åˆ™ã€JSXè§„åˆ™ç­‰ï¼Œç”±äºSketchæ’ä»¶çš„CocoaScriptè¯­æ³•è¾ƒä¸ºç‰¹æ®Šï¼Œéœ€è¦é…ç½®å…¨å±€å˜é‡ä»¥æ­¤å¿½ç•¥AppKitä¸­æ— æ³•è¯†åˆ«çš„ç±»ã€‚\u003c/p\u003e\u003cp\u003eè™½ç„¶ï¼Œæˆ‘ä»¬æ›¾åœ¨éƒ¨é—¨ç»„ä¼šä¸­è¢«å¤šæ¬¡â€œå®‰åˆ©â€ESLintçš„å¼ºå¤§ä½œç”¨ï¼ˆè¿™é‡Œç»™å¤§å®¶æ¨èä¸€ç¯‡æŠ€æœ¯æ–‡ç« ï¼š\u003ca href=\"https://tech.meituan.com/2019/08/01/eslint-application-practice-in-medium-and-large-teams.html\"\u003eESLint åœ¨ä¸­å¤§å‹å›¢é˜Ÿçš„åº”ç”¨å®è·µ\u003c/a\u003eï¼‰ï¼Œä½†å¦‚æœä¸æ˜¯åšå‰ç«¯æˆ–è€…RNå¼€å‘çš„åŒå­¦ï¼Œå¯èƒ½å¯¹äºESLintçš„å¤æ‚é…ç½®å¹¶ä¸ç†Ÿæ‚‰ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨Skpmæä¾›çš„ESlint Configï¼Œé‡Œé¢é…ç½®äº†åŒ…å«Sketchå’ŒmacOSçš„å¤´æ–‡ä»¶çš„å…¨å±€å˜é‡ï¼Œè€Œä»£ç æ ¼å¼åŒ–åˆ™æ¨èä½¿ç”¨Prettierã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode\u003enpm install --save-dev eslint-config-sketch\n//æˆ–è€…ç›´æ¥ä½¿ç”¨å¸¦prettierä»¥eslintçš„skpm templateå·¥ç¨‹\n$ skpm create my-plugin --template=skpm/with-prettier\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eâ€‹\n\u003cstrong\u003eå†…å®¹æœåŠ¡ç«¯åŒ–\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eSketchæ¨å‡ºçš„åº“ï¼ˆLibraryï¼‰åŠŸèƒ½å¯¹äºç»´æŠ¤è®¾è®¡ç³»ç»Ÿæˆ–é£æ ¼æŒ‡å—ï¼Œèµ·åˆ°éå¸¸é‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥ç»™å›¢é˜Ÿå¸¦æ¥é«˜æ•ˆå·¥ä½œä½“éªŒï¼Œç”šè‡³æ”¹å˜è®¾è®¡å›¢é˜Ÿå·¥ä½œæ–¹å¼å’Œæµç¨‹ã€‚æˆ‘ä»¬é€šè¿‡ç»„ä»¶åº“å¯ä»¥åœ¨æ•´ä¸ªè®¾è®¡å›¢é˜Ÿä¸­å…±äº«ç»„ä»¶ï¼ˆSymbolï¼‰ï¼ŒLibraryå¯ä»¥å®ç°â€œä¸€å¤„æ›´æ”¹ï¼Œå¤„å¤„ç”Ÿæ•ˆâ€ï¼Œå³ä½¿æ˜¯å…³è”äº†è¿œç¨‹ç»„ä»¶åº“å†å²çš„è®¾è®¡ç¨¿æ£€æµ‹åˆ°æ›´æ–°æ—¶ï¼Œä¹Ÿä¼šæ”¶åˆ°Sketché€šçŸ¥ï¼Œç¡®ä¿å·¥ä½œä¸­ä½¿ç”¨çš„æ˜¯æœ€æ–°ç»„ä»¶ã€‚\u003c/p\u003e\u003cp\u003eåº“åŠŸèƒ½å¯¹ç¾å›¢å¤–å–UIä¸€è‡´æ€§èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œè¿™ä¸»è¦ä½“ç°åœ¨ä¸¤æ–¹é¢ï¼šé¦–å…ˆæ˜¯å®ç°è®¾è®¡é£æ ¼æ²‰æ·€ï¼Œç›®å‰è¢‹é¼ UIå·²ç»å½¢æˆäº†è‡ªå·±çš„ç‹¬ç‰¹é£æ ¼ï¼Œå¤–å–è®¾è®¡å›¢é˜Ÿæ ¹æ®è®¾è®¡è§„èŒƒï¼Œå¯¹ç¬¦åˆUIä¸€è‡´æ€§å¤–å–ä¸šåŠ¡åœºæ™¯çš„ç»„ä»¶ä¸æ–­è¿›è¡ŒæŠ½è±¡åŠå»ºè®¾ï¼Œæ²‰æ·€å‡ºè¶Šæ¥è¶Šå¤šçš„é€šç”¨ä¸šåŠ¡ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶éœ€è¦åŠæ—¶æ‰©å……åˆ°Libraryä¸­ï¼Œä¾›å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ï¼›å¦å¤–ä¸€ä¸ªä½œç”¨ï¼Œåˆ™æ˜¯ä¿æŒå›¢é˜Ÿä½¿ç”¨çš„å‡ä¸ºæœ€æ–°ç»„ä»¶ï¼Œç”±äºå„ç§åŸå› ï¼Œç»„ä»¶çš„è®¾è®¡å…ƒç´ ï¼ˆè‰²å½©ã€å­—ä½“ã€åœ†è§’ç­‰å±æ€§ï¼‰å¯èƒ½ä¼šå‘ç”Ÿå˜æ›´ï¼Œéœ€è¦åŠæ—¶æé†’å›¢é˜Ÿæˆå‘˜æ›´æ–°ç»„ä»¶ï¼Œä¿æŒæ‰€æœ‰é¡µé¢çš„ä¸€è‡´æ€§ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/612c82f558312fc591ef62ffb898816c22367.png\" alt=\"Sketchå†…ç½®çš„iOSè¿œç¨‹ç»„ä»¶åº“\"/\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/f1909018b5b9a22f797ddabc2701d6dd627910.png\" alt=\"Libraryä¸­çš„Symbolæç¤ºæ›´æ–°\"/\u003e\u003c/p\u003e\u003cp\u003eåº“ç»„ä»¶è‡ªåŠ¨æ›´æ–°ï¼Œå…¶å®å°±æ˜¯ â€œåº“åˆ—è¡¨â€ - â€œåº“ IDâ€ - â€œå¤–éƒ¨ç»„ä»¶åŸå§‹ IDâ€ è¿™ä¸‰è€…çš„å…³è”ã€‚Sketchå†…éƒ¨æ˜¯é UUIDè¿›è¡Œå¯¹è±¡è¯†åˆ«çš„ï¼Œé€šè¿‡åº“ç»„ä»¶çš„åº“IDï¼Œä»åº“é¢æ¿çš„åˆ—è¡¨ä¸­ï¼ŒæŒ‰ç…§æ·»åŠ çš„æ—¶é—´ä»æ–°åˆ°æ—§ä¾æ¬¡æ£€ç´¢æ‰€æœ‰æœªè¢«ç¦ç”¨çš„ã€é“¾æ¥å®Œå¥½çš„åº“ï¼Œç›´åˆ°åŒ¹é…åˆ°åº“çš„ID ï¼Œç„¶åæŸ¥æ‰¾è¯¥åº“æ–‡ä»¶å†…æ˜¯å¦æœ‰ä¸åº“ç»„ä»¶SymbolIDåŒ¹é…çš„ç»„ä»¶ï¼Œå¦‚æœåŒ…å«ä¸”å†…å®¹æœ‰å·®å¼‚å°±æé†’æ›´æ–°ï¼Œæ›´æ–°çš„è¿‡ç¨‹å®é™…ä¸Šæ˜¯å†…å®¹æ›¿æ¢ã€‚\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ­¥éª¤ä½¿ç”¨RSSæŠ€æœ¯å…±äº«Libraryä¾›æ•´ä¸ªUIè®¾è®¡å›¢é˜Ÿä½¿ç”¨ï¼š\u003c/p\u003e\u003cul\u003e\u003cli\u003eå°†Library Document æ‰˜ç®¡åˆ°å…¬å¸å†…ç½‘æœåŠ¡å™¨ä¸Šã€‚\u003c/li\u003e\u003cli\u003eåˆ›å»ºä¸€ä¸ªXMLæ–‡ä»¶è®°å½•ç‰ˆæœ¬ä¿¡æ¯å’Œæ›´æ–°åœ°å€ã€‚\u003c/li\u003e\u003cli\u003eæœ€åä½¿ç”¨Meyerweb URLç¼–ç å™¨ä¹‹ç±»çš„å·¥å…·ï¼ˆæˆ–ç›´æ¥encodeURIComponentï¼‰å¯¹XML feed URLè¿›è¡Œç¼–ç å¹¶å°†å…¶æ·»åŠ åˆ°ä»¥ä¸‹å†…å®¹ï¼šsketch://add-library?url=https://***.xmlã€‚\u003c/li\u003e\u003cli\u003eå°†æ­¤URIåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å³å¯ã€‚\u003c/li\u003e\u003c/ul\u003e\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003e\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt;\n\u0026lt;rss version=\u0026#34;2.0\u0026#34; xmlns:atom=\u0026#34;http://www.w3.org/2005/Atom\u0026#34; xmlns:content=\u0026#34;http://purl.org/rss/1.0/modules/content/\u0026#34; xmlns:dc=\u0026#34;http://purl.org/dc/elements/1.1/\u0026#34; xmlns:sparkle=\u0026#34;http://www.andymatuschak.org/xml-namespaces/sparkle\u0026#34;\u0026gt;\n  \u0026lt;channel\u0026gt;\n    \u0026lt;title\u0026gt;My Sketch Library\u0026lt;/title\u0026gt;\n    \u0026lt;description\u0026gt;My Sketch Library\u0026lt;/description\u0026gt;\n    \u0026lt;image\u0026gt;\n      \u0026lt;url\u0026gt;\u0026lt;/url\u0026gt;\n    \u0026lt;/image\u0026gt;\n    \u0026lt;item\u0026gt;\n      \u0026lt;title\u0026gt;My Sketch Library\u0026lt;/title\u0026gt;\n      \u0026lt;pubDate\u0026gt;Wed, 23 Jun 2019 11:19:04 +0000\u0026lt;/pubDate\u0026gt;\n      \u0026lt;enclosure url=\u0026#34;mysketchlibrary.sketch\u0026#34; type=\u0026#34;application/octet-stream\u0026#34; sparkle:version=\u0026#34;1\u0026#34;/\u0026gt;\n    \u0026lt;/item\u0026gt;\n  \u0026lt;/channel\u0026gt;\n\u0026lt;/rss\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"5-å¼€å‘æµç¨‹å°ç»“\"\u003e5. å¼€å‘æµç¨‹å°ç»“\u003c/h3\u003e\u003cp\u003eå‰é¢ä¸€å£æ°”è®²è¿°äº†å¾ˆå¤šå†…å®¹ï¼Œå¯èƒ½ä½ ä¸€æ—¶æ— æ³•æ¶ˆåŒ–ï¼Œè¿™é‡Œå¯¹æ’ä»¶çš„å¼€å‘æµç¨‹ä½œä¸ªç®€è¦çš„æ€»ç»“ï¼š\u003c/p\u003e\u003cul\u003e\u003cli\u003eé¦–å…ˆåˆ©ç”¨JavaScript æˆ–CocoaScriptå¼€å‘æ“ä½œé¢æ¿ã€‚\u003c/li\u003e\u003cli\u003eä½¿ç”¨NPMå®‰è£…æ‰€éœ€ä¾èµ–ã€‚\u003c/li\u003e\u003cli\u003eé€šè¿‡Bridgeä¼ é€’ç”¨æˆ·æ“ä½œåˆ°æ’ä»¶é€»è¾‘ä¾§ï¼Œé€šè¿‡è°ƒç”¨Skecth APIå¯¹æ–‡æ¡£è¿›è¡Œå¤„ç†ã€‚\u003c/li\u003e\u003cli\u003eä½¿ç”¨Webpackè¿›è¡Œæ‰“åŒ…ã€‚\u003c/li\u003e\u003cli\u003eé€šè¿‡æµ‹è¯•åå‘å¸ƒæ’ä»¶æ›´æ–°ã€‚\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/4ce3fb76fc584045166289250f2c122b94743.jpg\" alt=\"Sketch Pluginå¼€å‘æµç¨‹\"/\u003e\u003c/p\u003e\u003ch2 id=\"åˆ«äººå¯èƒ½æ²¡å‘Šè¯‰ä½ çš„äº‹å„¿\"\u003eåˆ«äººå¯èƒ½æ²¡å‘Šè¯‰ä½ çš„äº‹å„¿\u003c/h2\u003e\u003cp\u003eè¿™éƒ¨åˆ†ä¸»è¦è®°å½•äº†ç§¯æœ¨Sketch Pluginå¼€å‘è¿‡ç¨‹ä¸­çš„è¸©å‘ç»å†ï¼Œä½†æ˜¯è¿™é‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰è´´å¤§æ®µçš„ä»£ç ï¼Œæ²¡æœ‰ç›´æ¥å‘Šè¯‰ä½ ç­”æ¡ˆï¼Œè€Œæ˜¯æŠŠåˆ†æé—®é¢˜çš„è¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚â€œæˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”â€ï¼Œç›¸ä¿¡åªè¦ä½ äº†è§£äº†è¿™äº›åˆ†ææŠ€å·§ï¼Œå³ä½¿ä¹‹åé‡åˆ°æ›´å¤šçš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥è½»ï¼ˆjiaï¼‰æ¾ï¼ˆbanï¼‰è§£å†³ã€‚\u003c/p\u003e\u003ch3 id=\"1-ä¸xcodeå·¥ç¨‹æ··åˆç¼–è¯‘\"\u003e1. ä¸Xcodeå·¥ç¨‹æ··åˆç¼–è¯‘\u003c/h3\u003e\u003cp\u003eé¦–å…ˆï¼Œæˆ‘ä»¬è¦æ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨XCodeå·¥ç¨‹ï¼Ÿ\u003c/p\u003e\u003cp\u003eè™½ç„¶å®˜æ–¹æä¾›äº†JS APIå¹¶æ‰¿è¯ºæŒç»­ç»´æŠ¤ï¼Œä½†è¿™é¡¹å·¥ä½œä¸€ç›´å¤„äºDoingçŠ¶æ€ï¼Œè€Œä¸”å®˜æ–¹æ–‡æ¡£æ›´æ–°ç¼“æ…¢ï¼Œæ²¡æœ‰æ˜ç¡®çš„æ—¶é—´èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œå¯¹äºæŸäº›åŠŸèƒ½ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³å»ºä¸€ä¸ªå…·æœ‰Native Inspector Panelçš„æ’ä»¶ï¼Œå°±ä¸å¾—ä¸ä½¿ç”¨XCodeè¿›è¡Œå¼€å‘ã€‚ä½¿ç”¨Xcodeå¼€å‘å¯¹äºiOSå¼€å‘è€…ä¹Ÿæ›´åŠ å‹å¥½ï¼Œæ— éœ€å†å­¦ä¹ å‰ç«¯ç•Œé¢å¼€å‘çŸ¥è¯†ã€‚\u003c/p\u003e\u003cp\u003eè¿™é‡Œæ¨èInvisonçš„å¼€å‘æˆå‘˜James Tangåˆ†äº«çš„åšå®¢æ–‡ç« ã€Š\u003ca href=\"https://blog.magicsketch.io/sketch-plugin-xcode-template-c8236a6f7fff\"\u003eSketch Plugin Xcode Template\u003c/a\u003eã€‹ï¼Œé‡Œé¢è¯¦ç»†æè¿°äº†æ„å»ºæ’ä»¶XCodeå·¥ç¨‹çš„æ­¥éª¤ï¼Œè¿™ä¹Ÿæˆä¸ºå¾ˆå¤šæ’ä»¶å¼€å‘è€…éµå¾ªçš„èŒƒæœ¬ã€‚å½“ç„¶éšç€Sketchçš„ä¸æ–­å‡çº§ï¼ŒæŸäº›APIå·²ç»ä¸å—æ”¯æŒï¼Œä½†ä½œè€…è®²è¿°çš„å¼€å‘æµç¨‹å’Œæ€è·¯ä¾ç„¶æ²¡æœ‰æ”¹å˜ï¼Œå…·æœ‰å¾ˆé«˜çš„å­¦ä¹ ä»·å€¼ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eJavaScript\n//åˆ©ç”¨ MochaåŠ è½½framework\nvar mocha = Mocha.sharedRuntime();\n[mocha loadFrameworkWithName:frameworkName inDirectory:pluginRootPath]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eé™¤æ­¤ä¹‹å¤–ï¼ŒSkpmä¸­å·²ç»å†…ç½®äº†@skpm/xcodeproj-loaderï¼Œä¹Ÿå¯åœ¨JSä¸­ç›´æ¥åŠ è½½Frameworkã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eJavaScript\n//åŠ è½½framework\nconst framework = require(\u0026#39;../xcode-project-name/project-name.xcodeproj/project.pbxproj\u0026#39;);\nconst nativeClass = framework.getClass(\u0026#39;NativeClassName\u0026#39;);\n//è·å–nibæ–‡ä»¶\nconst ui = framework.getNib(\u0026#39;NativeNibFile\u0026#39;);\n//ä¹Ÿå¯ä»¥ç›´æ¥åŠ è½½xibæ–‡ä»¶\nconst NibUI = require(\u0026#39;../xcode-project-name/view-name.xib\u0026#39;)\nvar nib = NibUI()\nlet dialog = NSAlert.alloc().init()\ndialog.setAccessoryView(nib.getRoot())\ndialog.runModal()\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Githubä¸Šä¸€äº›çŸ¥åçš„å¼€æºé¡¹ç›®ï¼Œæœ‰äº›ä¼šç›´æ¥æä¾›Frameworkä¾›ä½ ä½¿ç”¨ï¼Œæ¯”å¦‚æ›´æ”¹åŸç”Ÿçš„toolbarï¼š\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/e4cb24c178d193fdc1d46a43b4971a9767616.png\" alt=\"\"/\u003e\u003c/p\u003e\u003ch3 id=\"2-äº†è§£electron\"\u003e2. äº†è§£Electron\u003c/h3\u003e\u003cp\u003eä¸ºä»€ä¹ˆåœ¨è®²è¿°Sketch Pluginçš„æ—¶å€™ï¼Œå¿½ç„¶ä¼šæåˆ°Electronï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªå°æ•…äº‹ï¼ŒæŸå¤©ä¸Šç­æ‰“å¼€å¤§è±¡ï¼ˆç¾å›¢å†…éƒ¨æ²Ÿé€šè½¯ä»¶ï¼‰ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p1.meituan.net/travelcube/7d674973cdbb9465bb6dabe8e58cd7da1380259.png\" alt=\"MacOSç‰ˆå¤§è±¡æˆªå›¾\"/\u003e\u003c/p\u003e\u003cp\u003eçœ‹åˆ°ä¸€æ¡å…¬ä¼—å·æ¨é€ï¼Œæ˜¯å…¬å¸æˆç«‹äº†ElectronæŠ€æœ¯ä¿±ä¹éƒ¨ï¼ˆç¾å›¢æŠ€æœ¯å›¢é˜Ÿå†…éƒ¨è‡ªå‘æˆç«‹äº†å¾ˆå¤šæŠ€æœ¯ä¿±ä¹éƒ¨ï¼‰ï¼Œç»è¿‡äº†è§£å‘ç°ElectronåŸºäºChromiumå’ŒNode.jsï¼Œå¯ä»¥ä½¿ç”¨HTMLã€CSSå’ŒJavaScriptæ„å»ºæ¡Œé¢åº”ç”¨ç¨‹åºï¼ŒElectronè´Ÿè´£å…¶ä¸­æ¯”è¾ƒå¤æ‚çš„éƒ¨åˆ†ï¼Œè€Œå¼€å‘è€…åªéœ€å…³å¿ƒåº”ç”¨çš„æ ¸å¿ƒéœ€æ±‚å³å¯ã€‚å¤§è±¡çš„Macç«¯å°±å¤§é‡ä½¿ç”¨äº†ElectronæŠ€æœ¯ï¼Œç”¨Webæ¡†æ¶å»å¼€å‘æ¡Œé¢åº”ç”¨ï¼Œå¯ä»¥ç›´æ¥å¤ç”¨Webç°æœ‰çš„å¼€å‘æˆæœå¹¶è·å¾—å‡ºè‰²çš„è¿è¡Œæ•ˆç‡ã€‚\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/94a4001f3e8f4b7ad95acb40135a7f7b187370.png\" alt=\"\"/\u003e\u003c/p\u003e\u003cp\u003eæˆ‘ä»¬å°±è¿›è¡Œäº†ç®€å•çš„å­¦ä¹ ï¼Œåœ¨ä¹‹åçš„ä¸€æ®µæ—¶é—´å¹¶æ²¡æœ‰å†å»å…³æ³¨è¿™é¡¹æŠ€æœ¯ï¼Œç›´åˆ°æŸå¤©åœ¨æ’ä»¶å¼€å‘çš„è¿‡ç¨‹ä¸­å¿½ç„¶é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨æ’ä»¶WebViewæ˜¾ç¤ºçš„æƒ…å†µä¸‹ï¼Œåœ¨æ¡Œé¢ç©ºç™½å¤„ç‚¹å‡»ä½¿Sketchè½¯ä»¶å¤±å»ç„¦ç‚¹ï¼Œæ•´ä¸ªAppå°±ä¼šè¢«éšè—ã€‚è¯•äº†å‡ ä¸ªæµè¡Œçš„æ’ä»¶ï¼Œå‘ç°å¤§éƒ¨åˆ†å‡æœ‰æ­¤é—®é¢˜ï¼Œè¿™ç»™è®¾è®¡å¸ˆçš„å·¥ä½œé€ æˆäº†è¯¸å¤šä¸ä¾¿ã€‚è¯•æƒ³ï¼Œæˆ‘åªæ˜¯å»æ‰“å¼€Finderæ‰¾ä¸€ä¸ªæ–‡ä»¶ï¼Œä½ ä¸ºä»€ä¹ˆè¦æŠŠæˆ‘çš„è½¯ä»¶æœ€å°åŒ–ï¼Ÿåœ¨Githubä¸Šç•™è¨€åï¼Œå¾ˆå¿«å¾—åˆ°äº†é¡¹ç›®å¼€å‘è€…Mathieu Dutourçš„å®˜æ–¹å›å¤ï¼ŒåŸæ¥åªéœ€è¦è®¾ç½®ä¸€ä¸ªhidesOnDeactivateå±æ€§å³å¯ã€‚\u003c/p\u003e\u003cp\u003eç­‰ç­‰ï¼è¿™ä¸æ˜¯Electronä¸­çš„å±æ€§ä¹ˆï¼Ÿä»”ç»†æŸ¥çœ‹Readmeæ‰å‘ç°ä½œè€…å†™é“â€œThe API is mimicking the \u003ca href=\"https://www.electronjs.org/docs/api/browser-window\"\u003eBrowserWindow\u003c/a\u003e API of Electron.â€è¿™ä¸‹å¯æ–¹ä¾¿å¤šäº†ï¼ä½ æƒ³è‡ªå®šä¹‰çª—å£çš„è¡¨ç°ï¼Œåªéœ€æŒ‰ç…§Electronçš„APIè®¾ç½®å³å¯ï¼Œæƒ³æƒ³çœ‹å…¶å®Electronçš„å·¥ä½œæ–¹å¼æ˜¯ä¸æ˜¯å’ŒSketch Pluginå¦‚å‡ºä¸€è¾™ï¼Ÿ\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/03b7febff302d8484466124694dbd17572114.png\" alt=\"\"/\u003e\u003c/p\u003e\u003ch3 id=\"3-æ›´æ–°åŸç”Ÿå±æ€§é¢æ¿\"\u003e3. æ›´æ–°åŸç”Ÿå±æ€§é¢æ¿\u003c/h3\u003e\u003cp\u003eä¸ºäº†æ›´å¥½åœ°æå‡ç§¯æœ¨Sketch Pluginçš„ä½¿ç”¨ä½“éªŒï¼ŒUIåŒå­¦é€šè¿‡å»ºç«‹å…¬å…±Wikiè®°å½•æˆ‘ä»¬è®¾è®¡å›¢é˜Ÿåœ¨æ’ä»¶ä½¿ç”¨è¿‡ç¨‹ä¸­çš„åé¦ˆå»ºè®®ï¼Œå…¶ä¸­æœ‰ä¸€æ¡å¾ˆå¥‡æ€ªï¼šâ€œé€šè¿‡æ’ä»¶é¢æ¿æ›´æ–°Layerå±æ€§åï¼Œå³ä¾§é¢æ¿ä¸åˆ·æ–°ã€‚â€å’Œä¸Šä¸€ä¸ªé—®é¢˜ä¸€æ ·ï¼Œç»æµ‹è¯•å…¶å®ƒæ’ä»¶å¤§éƒ¨åˆ†ä¹Ÿæœ‰æ­¤é—®é¢˜ï¼Œä½†æ˜¯å¦‚ä½•å»æ›´æ–°å³ä¾§å±æ€§é¢æ¿å‘¢ï¼Ÿç¿»é˜…äº†Sketchçš„APIæ–‡æ¡£è¿˜æ˜¯â€œä¸ˆäºŒå’Œå°šï¼Œæ‘¸ä¸ç€å¤´è„‘â€ã€‚è¿™ä¸ªæ—¶å€™æƒ³èµ·äº†macOSå¼€å‘çš„ä¸€ä¸ªç¥å™¨Interface Inspectorï¼Œå®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶åˆ†ææ­£åœ¨è¿è¡Œçš„Macåº”ç”¨ç¨‹åºçš„ç•Œé¢ç»“æ„å’Œå±æ€§ï¼Œéå¸¸å¼ºå¤§ã€‚\u003c/p\u003e\u003cp\u003eå¼€å¿ƒçš„ä¸‹è½½ä¸‹æ¥åï¼Œå‘ç°è¿™ä¸ªè½¯ä»¶ä¸Šæ¬¡çš„æ›´æ–°æ—¶é—´æ˜¯6å¹´å‰ï¼Œå¿½ç„¶æœ‰äº†ä¸€ç§ä¸ç¥¥çš„é¢„æ„Ÿã€‚æœç„¶Attachä»»ä½•Appæ—¶éƒ½ä¼šæç¤ºæ— æ³•Attachï¼Œåœ¨macOS Catalinaç‰ˆæœ¬å·²ç»æ— æ³•è¿è¡Œã€‚å¯æ˜¯è¿™æ€ä¹ˆèƒ½éš¾å€’â€œä¸‡èƒ½â€çš„ç¨‹åºå‘˜å‘¢ï¼Ÿæˆ‘ä»¬æŸ¥çœ‹ç³»ç»ŸæŠ¥é”™ï¼Œå‘ç°æ˜¯mach_inject_bundle_stubé”™è¯¯ï¼ŒæŸ¥é˜…å‘ç°mach_inject_bundle_stubæ˜¯Githubä¸Šçš„ä¸€ä¸ªå¼€æºåº“ï¼Œæ‰€ä»¥è‡ªå·±ä¸‹è½½æºç é‡æ–°ç¼–è¯‘ä¸ªBundleåŒ…å°±å¯ä»¥äº†ã€‚\u003c/p\u003e\u003cp\u003eAttachæˆåŠŸåï¼Œå°±å¯ä»¥å¯¹Sketchçš„é¢æ¿è¿›è¡Œå±æ€§åˆ†æäº†ï¼Œæ˜¯ä¸æ˜¯å¿½ç„¶æ„Ÿè§‰æ‰“å¼€äº†æ–°ä¸–ç•Œçš„å¤§é—¨ï¼Ÿç»è¿‡æŸ¥é˜…å‘ç°å³ä¾§é¢æ¿åœ¨MSInspectorControllerä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/a4dd04ff6a57ff721abc907ce8222d75553307.png\" alt=\"Interface Inspectorå¯¹Sketchè¿›è¡Œè¿è¡Œæ—¶åˆ†æ\"/\u003e\u003c/p\u003e\u003cp\u003eä¸‹ä¸€æ­¥éœ€è¦ç”¨Class-Dumpå·¥å…·æ¥æå–Sketchçš„å¤´æ–‡ä»¶ï¼ŒæŸ¥çœ‹å¯ä»¥å¯¹inspectoré¢æ¿è¿›è¡Œæ“ä½œçš„æ‰€æœ‰æ–¹æ³•ï¼š\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://p0.meituan.net/travelcube/30ff92bfaa46efa23b84f8fc7f2c800e47712.png\" alt=\"é€šè¿‡class-dumpå¾—åˆ°çš„å¤´æ–‡ä»¶\"/\u003e\u003c/p\u003e\u003cp\u003eä¸å‡ºæ‰€æ–™ï¼Œæˆ‘ä»¬å‘ç°äº†reload()ï¼ŒçŒœæµ‹è°ƒç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åˆ·æ–°é¢æ¿ï¼Œæµ‹è¯•ä¸€ä¸‹å‘ç°é—®é¢˜è¢«ä¿®å¤äº†ã€‚å¦‚æœä½ ä½¿ç”¨Sketchçš„JavaScript APIçš„è¯ï¼Œåç§°ä¸ä¸€å®šèƒ½å®Œå…¨å¯¹åº”ï¼Œä½†æ˜¯åŸºæœ¬å·®ä¸å¤šï¼Œç¨åŠ åˆ†æä¹Ÿå¯ä»¥æ‰¾åˆ°ã€‚è¿™é‡Œåªæ˜¯æ•™å¤§å®¶ä¸€ä¸ªæ€è·¯ï¼Œè¿™æ ·å³ä½¿é‡åˆ°å…¶å®ƒé—®é¢˜ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤è¯•è¯•çœ‹ï¼Œæ²¡å‡†å°±å¯ä»¥è§£å†³ã€‚\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eJavaScript\n// reload the inspector to see the changes \nvar sketch = require(\u0026#39;sketch\u0026#39;)\nvar document = sketch.getSelectedDocument()\ndocument.sketchObject.inspectorController().reload()\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"æœªæ¥ç­‰ä½ åŠ å…¥\"\u003eæœªæ¥ç­‰ä½ åŠ å…¥\u003c/h2\u003e\u003cp\u003eå¦‚ä½ æ‰€è§ï¼Œç§¯æœ¨Sketch Pluginå¯ä»¥å¸®åŠ©è®¾è®¡å›¢é˜Ÿæå‡è®¾è®¡æ•ˆç‡ã€æ²‰æ·€è®¾è®¡è¯­è¨€ä»¥åŠå‡å°‘èµ°æŸ¥è´Ÿæ‹…ï¼›è®©RDåŒå­¦é¢å¯¹æ–°é¡¹ç›®æ—¶ï¼Œå¯ä»¥ä¸“æ³¨äºä¸šåŠ¡éœ€æ±‚è€Œæ— éœ€æŠŠæ—¶é—´è€—è´¹åœ¨ç»„ä»¶çš„ç¼–å†™ä¸Šï¼›å‡å°‘QAå·¥ä½œé‡ï¼Œä¿è¯æ§ä»¶è´¨é‡æ— éœ€é¢‘ç¹å›å½’æµ‹è¯•ï¼›å¸®åŠ©PMæé«˜ç‰ˆæœ¬è¿­ä»£æ•ˆç‡åŠç‰ˆæœ¬éœ€æ±‚ååé‡ï¼Œæä¾›ä¸šåŠ¡çš„å¿«é€Ÿæ‹“å±•èƒ½åŠ›ã€‚\u003c/p\u003e\u003cp\u003eå½“ç„¶ï¼Œæˆ‘ä»¬é™¤äº†å¸Œæœ›åˆ¶ä½œä¸€æµçš„äº§å“ï¼Œä¹Ÿå¸Œæœ›ç§¯æœ¨æ’ä»¶å¯ä»¥è®©ä½ åœ¨ç¹å¿™çš„å·¥ä½œä¸­å¾—ä»¥å–˜æ¯ã€‚æˆ‘ä»¬ä¼šç»§ç»­ä»¥è®¾è®¡è¯­è¨€ä¸ºä¾æ‰˜ï¼Œä»¥Skecth Pluginä¸ºæŠ“æ‰‹æŒç»­è¿›è¡ŒUIä¸€è‡´æ€§å»ºè®¾ï¼Œæé«˜å®¢æˆ·ç«¯UIä¸šåŠ¡ä¸­å°èƒ½åŠ›ã€‚\u003c/p\u003e\u003cp\u003eå¯èƒ½å¯¹äºä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œå¯¹Reactã€Webpackç­‰é…ç½®å¯ä»¥ä¿¡æ‰‹æ‹ˆæ¥ï¼›å¯¹äºä¸€ä¸ªiOSå·¥ç¨‹å¸ˆæ¥è¯´ï¼ŒXCodeè°ƒè¯•ã€Objective-Cè¯­æ³•æ˜¯å¼€å‘å‰çš„åŸºç¡€ï¼›å¯¹äºä¸€ä¸ªæ¡Œé¢å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œå¯¹Electronã€Hookåˆ†æå·²å¸ç©ºè§æƒ¯ã€‚å¯Sketch Pluginå¼€å‘å°±æ˜¯è¿™ä¹ˆæœ‰è¶£ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªå°å°çš„æ’ä»¶ï¼Œä½†å®ƒä¼šè®©ä½ æ¥è§¦å„ä¸ªç«¯çš„æŠ€æœ¯ï¼Œæå‡æŠ€æœ¯è§†é‡ï¼Œä½†åŒæ ·ä¼šè®©ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å¾ˆå¤šå›°éš¾ï¼Œæ›¾ç»å›°æ‰°äº†æˆ‘å¥½å‡ å¤©çš„ä¸€ä¸ªWebpacké—®é¢˜ï¼Œéƒ¨é—¨åŒäº‹å¸®æˆ‘ä»¬è”ç³»äº†ä¸€ä¸ªå¼€å‘ç»éªŒä¸°å¯Œçš„å‰ç«¯å¦¹å­å»å’¨è¯¢ï¼Œå¯¹æ–¹ä¸€è¡Œä»£ç ç«Ÿç„¶å°±è§£å†³äº†ã€‚åšä½ å®³æ€•åšçš„äº‹ï¼Œç„¶åä½ ä¼šå‘ç°ï¼Œä¸è¿‡å¦‚æ­¤ã€‚\u003c/p\u003e\u003cp\u003eç›®å‰ï¼Œç§¯æœ¨æ’ä»¶å¼€å‘è¿˜å¤„äºè¾ƒä¸ºåˆçº§çš„é˜¶æ®µï¼ŒåŒ…æ‹¬Machï¼ˆå¤–å–è‡ªç ”åŠ¨æ€åŒ–æ¡†æ¶ï¼‰å®æ—¶é¢„è§ˆã€æ¨¡æ¿ä»£ç è‡ªåŠ¨ç”Ÿæˆã€è‡ªå»ºæ’ç”»åº“ç­‰åŠŸèƒ½å·²ç»åœ¨è·¯ä¸Šã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜è§„åˆ’äº†å¾ˆå¤šæ¿€åŠ¨äººå¿ƒçš„åŠŸèƒ½ï¼Œéœ€è¦åˆ¶ä½œæ›´å¤šç²¾ç¾çš„å‰ç«¯é¡µé¢ï¼Œéœ€è¦æ›´å®Œå–„çš„åå°ç®¡ç†ã€‚\u003c/p\u003e\u003cp\u003eè¿™é‡ŒåŠ ä¸ªå¹¿å‘Šå§ï¼ä¸ç®¡ä½ æ˜¯FEã€Androidã€iOSã€åç«¯ï¼Œåªè¦ä½ å¯¹Bugæ¯«ä¸æ‰‹è½¯ï¼Œç²¾ç›Šæ±‚ç²¾ï¼Œéƒ½æ¬¢è¿ä½ åŠ å…¥æˆ‘ä»¬å¤–å–æŠ€æœ¯å›¢é˜Ÿï¼Œè·Ÿæˆ‘ä»¬ä¸€èµ·å®Œå–„Sketchæ’ä»¶ç”Ÿæ€ï¼Œè®©ç§¯æœ¨æ’ä»¶å¯ä»¥ä¸ºæ›´å¤šä¸šåŠ¡åœºæ™¯æä¾›æœåŠ¡ï¼Œä¸ºç”¨æˆ·æä¾›å“è¶Šçš„ä½“éªŒã€‚è®©æˆ‘ä»¬ä¸€èµ·ç”¨â€œç§¯æœ¨â€æ‹¼å‡ºä¸‡åƒä¸–ç•Œï¼\u003c/p\u003e\u003cp\u003eå—¯ï¼Œå°±å…ˆå†™åˆ°è¿™é‡Œå§ï¼UIå›¢é˜ŸåŒå­¦è¯´æˆ‘ä»¬çš„å®ç°å’Œè®¾è®¡ç¨¿ç«Ÿç„¶å·®äº†ä¸€ä¸ªåƒç´ ï¼Œæˆ‘ä»¬è¦å›å»æ”¹Bugäº†ã€‚\u003c/p\u003e\u003ch2 id=\"è‡´è°¢\"\u003eè‡´è°¢\u003c/h2\u003e\u003cp\u003eç‰¹åˆ«æ„Ÿè°¢ä¼˜ç§€çš„è®¾è®¡å¸ˆæ˜±ç¿°ã€æ²›ä¸œã€æ·¼æ—ã€é›ªç¾ï¼Œä»–ä»¬åœ¨æ’ä»¶å¼€å‘è¿‡ç¨‹ä¸­ç»™äºˆçš„å¸®åŠ©ã€‚\u003c/p\u003e\u003cp\u003eç‰¹åˆ«æ„Ÿè°¢æŠ€æœ¯å›¢é˜Ÿçš„äº‘é¹ã€æ™“é£åœ¨æŠ€æœ¯ä¸Šç»™äºˆçš„æŒ‡å¯¼ã€‚\u003c/p\u003e\u003cp\u003eâ€œå‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ã€‚â€æˆ‘ä»¬å‘ä¼˜ç§€å¼€æºé¡¹ç›®å¼€å‘è€…è‡´æ•¬ã€‚\u003c/p\u003e\u003ch2 id=\"å‚è€ƒæ–‡çŒ®\"\u003eå‚è€ƒæ–‡çŒ®\u003c/h2\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://developer.sketch.com/plugins/\"\u003eSketch Pluginå¼€å‘å®˜æ–¹æ–‡æ¡£\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://ashung.github.io/posts/deep-into-sketch-library-part-1.html\"\u003eæ·±å…¥ç†è§£Sketchåº“\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://aotu.io/notes/2019/10/31/sketch-plugin/index.html\"\u003eå‡¹å‡¸å®éªŒå®¤é«˜å¤§å¸ˆSketchæ’ä»¶å¼€å‘å®è·µ\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://blog.magicsketch.io/sketch-plugin-xcode-template-c8236a6f7fff\"\u003eSketch Plugin Xcode Template\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://blog.magicsketch.io/beginning-sketch-plugins-development-in-xcode-2ee562352798\"\u003eBeginning Sketch Plugins Development in Xcode\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://blog.csdn.net/nx2xjbur4jg8ef80l1k/article/details/92854864\"\u003eæºç¨‹æœºç¥¨Sketchæ’ä»¶å¼€å‘å®è·µ\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"æ‹›è˜ä¿¡æ¯\"\u003eæ‹›è˜ä¿¡æ¯\u003c/h2\u003e\u003cp\u003eç¾å›¢å¤–å–é•¿æœŸæ‹›è˜ Androidã€iOSã€FE é«˜çº§/èµ„æ·±å·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯ä¸“å®¶ï¼Œæ¬¢è¿åŠ å…¥å¤–å–Appå¤§å®¶åº­ã€‚æ¬¢è¿æ„Ÿå…´è¶£çš„åŒå­¦å‘é€ç®€å†è‡³ï¼štech@meituan.comï¼ˆé‚®ä»¶æ ‡é¢˜æ³¨æ˜ï¼šç¾å›¢å¤–å–æŠ€æœ¯å›¢é˜Ÿï¼‰\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e",
  "Date": "2020-05-21T00:00:00Z",
  "Author": "soulteary@gmail.com"
}